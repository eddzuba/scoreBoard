import{a as _,b as z,c as Et,d as B_,e as U_,f as p,h as bh,i as Dh,l as H_,m as Ch}from"./chunk-7ICKC3FX.js";var eh=Et(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});var Jd=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Xd.default=Jd});var nh=Et(ns=>{"use strict";var Dy=ns&&ns.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ns,"__esModule",{value:!0});var qx=Dy((Ch(),U_(H_))),Zx=Dy(eh()),th=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=qx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let n=this.fetch,i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>p(this,null,function*(){var o,a,c;let l=null,u=null,d=null,f=s.status,h=s.statusText;if(s.ok){if(this.method!=="HEAD"){let w=yield s.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=w:u=JSON.parse(w))}let m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let m=yield s.text();try{l=JSON.parse(m),Array.isArray(l)&&s.status===404&&(u=[],l=null,f=200,h="OK")}catch{s.status===404&&m===""?(f=204,h="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,f=200,h="OK"),l&&this.shouldThrowOnError)throw new Zx.default(l)}return{error:l,data:u,count:d,status:f,statusText:h}}));return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,c;return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:`${(a=s?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=s?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};ns.default=th});var ih=Et(rs=>{"use strict";var Kx=rs&&rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});var Yx=Kx(nh()),rh=class extends Yx.default{select(e){let r=!1,n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){let o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){let i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){let s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;let c=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};rs.default=rh});var za=Et(is=>{"use strict";var Qx=is&&is.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(is,"__esModule",{value:!0});var Jx=Qx(ih()),sh=class extends Jx.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){let n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");let o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){let i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};is.default=sh});var ah=Et(os=>{"use strict";var Xx=os&&os.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(os,"__esModule",{value:!0});var ss=Xx(za()),oh=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){let i=r?"HEAD":"GET",s=!1,o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new ss.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){let i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){let o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){let a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ss.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){let o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ss.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){let n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new ss.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ss.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};os.default=oh});var Cy=Et(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.version=void 0;Ga.version="0.0.0-automated"});var Ey=Et(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.DEFAULT_HEADERS=void 0;var eT=Cy();Wa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${eT.version}`}});var Sy=Et(as=>{"use strict";var Iy=as&&as.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(as,"__esModule",{value:!0});var tT=Iy(ah()),nT=Iy(za()),rT=Ey(),ch=class t{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},rT.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){let r=new URL(`${this.url}/${e}`);return new tT.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let o,a=new URL(`${this.url}/rpc/${e}`),c;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",c=r);let l=Object.assign({},this.headers);return s&&(l.Prefer=`count=${s}`),new nT.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};as.default=ch});var Ny=Et(me=>{"use strict";var Hr=me&&me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(me,"__esModule",{value:!0});me.PostgrestError=me.PostgrestBuilder=me.PostgrestTransformBuilder=me.PostgrestFilterBuilder=me.PostgrestQueryBuilder=me.PostgrestClient=void 0;var xy=Hr(Sy());me.PostgrestClient=xy.default;var Ty=Hr(ah());me.PostgrestQueryBuilder=Ty.default;var My=Hr(za());me.PostgrestFilterBuilder=My.default;var Ay=Hr(ih());me.PostgrestTransformBuilder=Ay.default;var Ry=Hr(nh());me.PostgrestBuilder=Ry.default;var Oy=Hr(eh());me.PostgrestError=Oy.default;me.default={PostgrestClient:xy.default,PostgrestQueryBuilder:Ty.default,PostgrestFilterBuilder:My.default,PostgrestTransformBuilder:Ay.default,PostgrestBuilder:Ry.default,PostgrestError:Oy.default}});function z_(t,e){return Object.is(t,e)}var ue=null,Cs=!1,Es=1,tn=Symbol("SIGNAL");function W(t){let e=ue;return ue=t,e}function Eh(){return ue}var Is={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ih(t){if(Cs)throw new Error("");if(ue===null)return;ue.consumerOnSignalRead(t);let e=ue.nextProducerIndex++;if(xs(ue),e<ue.producerNode.length&&ue.producerNode[e]!==t&&Jr(ue)){let r=ue.producerNode[e];Ss(r,ue.producerIndexOfThis[e])}ue.producerNode[e]!==t&&(ue.producerNode[e]=t,ue.producerIndexOfThis[e]=Jr(ue)?Mh(t,ue,e):0),ue.producerLastReadVersion[e]=t.version}function G_(){Es++}function W_(t){if(!(Jr(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Es)){if(!t.producerMustRecompute(t)&&!mc(t)){t.dirty=!1,t.lastCleanEpoch=Es;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Es}}function Sh(t){if(t.liveConsumerNode===void 0)return;let e=Cs;Cs=!0;try{for(let r of t.liveConsumerNode)r.dirty||q_(r)}finally{Cs=e}}function xh(){return ue?.consumerAllowSignalWrites!==!1}function q_(t){t.dirty=!0,Sh(t),t.consumerMarkedDirty?.(t)}function gc(t){return t&&(t.nextProducerIndex=0),W(t)}function Th(t,e){if(W(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Jr(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)Ss(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function mc(t){xs(t);for(let e=0;e<t.producerNode.length;e++){let r=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==r.version||(W_(r),n!==r.version))return!0}return!1}function vc(t){if(xs(t),Jr(t))for(let e=0;e<t.producerNode.length;e++)Ss(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Mh(t,e,r){if(Ah(t),t.liveConsumerNode.length===0&&Rh(t))for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=Mh(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(r),t.liveConsumerNode.push(e)-1}function Ss(t,e){if(Ah(t),t.liveConsumerNode.length===1&&Rh(t))for(let n=0;n<t.producerNode.length;n++)Ss(t.producerNode[n],t.producerIndexOfThis[n]);let r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];xs(i),i.producerIndexOfThis[n]=e}}function Jr(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function xs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ah(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Rh(t){return t.producerNode!==void 0}function Z_(){throw new Error}var Oh=Z_;function Nh(){Oh()}function kh(t){Oh=t}var K_=null;function Ph(t){let e=Object.create(Lh);e.value=t;let r=()=>(Ih(e),e.value);return r[tn]=e,r}function yc(t,e){xh()||Nh(),t.equal(t.value,e)||(t.value=e,Y_(t))}function Fh(t,e){xh()||Nh(),yc(t,e(t.value))}var Lh=z(_({},Is),{equal:z_,value:void 0});function Y_(t){t.version++,G_(),Sh(t),K_?.()}function S(t){return typeof t=="function"}function Vn(t){let r=t(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Ts=Vn(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function nn(t,e){if(t){let r=t.indexOf(e);0<=r&&t.splice(r,1)}}var q=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let s of r)s.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(S(n))try{n()}catch(s){e=s instanceof Ts?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{jh(s)}catch(o){e=e??[],o instanceof Ts?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ts(e)}}add(e){var r;if(e&&e!==this)if(this.closed)jh(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}}_hasParent(e){let{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){let{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&nn(r,e)}remove(e){let{_finalizers:r}=this;r&&nn(r,e),e instanceof t&&e._removeParent(this)}};q.EMPTY=(()=>{let t=new q;return t.closed=!0,t})();var _c=q.EMPTY;function Ms(t){return t instanceof q||t&&"closed"in t&&S(t.remove)&&S(t.add)&&S(t.unsubscribe)}function jh(t){S(t)?t():t.unsubscribe()}var Qe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $n={setTimeout(t,e,...r){let{delegate:n}=$n;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){let{delegate:e}=$n;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function As(t){$n.setTimeout(()=>{let{onUnhandledError:e}=Qe;if(e)e(t);else throw t})}function Xr(){}var Vh=wc("C",void 0,void 0);function $h(t){return wc("E",void 0,t)}function Bh(t){return wc("N",t,void 0)}function wc(t,e,r){return{kind:t,value:e,error:r}}var rn=null;function Bn(t){if(Qe.useDeprecatedSynchronousErrorHandling){let e=!rn;if(e&&(rn={errorThrown:!1,error:null}),t(),e){let{errorThrown:r,error:n}=rn;if(rn=null,r)throw n}}else t()}function Uh(t){Qe.useDeprecatedSynchronousErrorHandling&&rn&&(rn.errorThrown=!0,rn.error=t)}var sn=class extends q{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ms(e)&&e.add(this)):this.destination=X_}static create(e,r,n){return new Un(e,r,n)}next(e){this.isStopped?Dc(Bh(e),this):this._next(e)}error(e){this.isStopped?Dc($h(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dc(Vh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Q_=Function.prototype.bind;function bc(t,e){return Q_.call(t,e)}var Cc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){Rs(n)}}error(e){let{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){Rs(n)}else Rs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){Rs(r)}}},Un=class extends sn{constructor(e,r,n){super();let i;if(S(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let s;this&&Qe.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bc(e.next,s),error:e.error&&bc(e.error,s),complete:e.complete&&bc(e.complete,s)}):i=e}this.destination=new Cc(i)}};function Rs(t){Qe.useDeprecatedSynchronousErrorHandling?Uh(t):As(t)}function J_(t){throw t}function Dc(t,e){let{onStoppedNotification:r}=Qe;r&&$n.setTimeout(()=>r(t,e))}var X_={closed:!0,next:Xr,error:J_,complete:Xr};var Hn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Re(t){return t}function Ec(...t){return Ic(t)}function Ic(t){return t.length===0?Re:t.length===1?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}var N=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){let s=tw(r)?r:new Un(r,n,i);return Bn(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=Hh(n),new n((i,s)=>{let o=new Un({next:a=>{try{r(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[Hn](){return this}pipe(...r){return Ic(r)(this)}toPromise(r){return r=Hh(r),new r((n,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>n(s))})}}return t.create=e=>new t(e),t})();function Hh(t){var e;return(e=t??Qe.Promise)!==null&&e!==void 0?e:Promise}function ew(t){return t&&S(t.next)&&S(t.error)&&S(t.complete)}function tw(t){return t&&t instanceof sn||ew(t)&&Ms(t)}function Sc(t){return S(t?.lift)}function V(t){return e=>{if(Sc(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function k(t,e,r,n,i){return new xc(t,e,r,n,i)}var xc=class extends sn{constructor(e,r,n,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=r?function(a){try{r(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function zn(){return V((t,e)=>{let r=null;t._refCount++;let n=k(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){r=null;return}let i=t._connection,s=r;r=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var Gn=class extends N{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Sc(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new q;let r=this.getSubject();e.add(this.source.subscribe(k(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=q.EMPTY)}return e}refCount(){return zn()(this)}};var Wn={schedule(t){let e=requestAnimationFrame,r=cancelAnimationFrame,{delegate:n}=Wn;n&&(e=n.requestAnimationFrame,r=n.cancelAnimationFrame);let i=e(s=>{r=void 0,t(s)});return new q(()=>r?.(i))},requestAnimationFrame(...t){let{delegate:e}=Wn;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Wn;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var zh=Vn(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var R=(()=>{class t extends N{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new Os(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new zh}next(r){Bn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){Bn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Bn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:s}=this;return n||i?_c:(this.currentObservers=null,s.push(r),new q(()=>{this.currentObservers=null,nn(s,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:s}=this;n?r.error(i):s&&r.complete()}asObservable(){let r=new N;return r.source=this,r}}return t.create=(e,r)=>new Os(e,r),t})(),Os=class extends R{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,e)}error(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,e)}complete(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0||r.call(e)}_subscribe(e){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&n!==void 0?n:_c}};var de=class extends R{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){let{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Tc={now(){return(Tc.delegate||Date).now()},delegate:void 0};var Ns=class extends q{constructor(e,r){super()}schedule(e,r=0){return this}};var ei={setInterval(t,e,...r){let{delegate:n}=ei;return n?.setInterval?n.setInterval(t,e,...r):setInterval(t,e,...r)},clearInterval(t){let{delegate:e}=ei;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var qn=class extends Ns{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var n;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(s,this.id,r),this}requestAsyncId(e,r,n=0){return ei.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,r,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return r;r!=null&&ei.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,r);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let n=!1,i;try{this.work(e)}catch(s){n=!0,i=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,nn(n,this),e!=null&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}};var Zn=class t{constructor(e,r=t.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,n){return new this.schedulerActionCtor(this,e).schedule(n,r)}};Zn.now=Tc.now;var Kn=class extends Zn{constructor(e,r=Zn.now){super(e,r),this.actions=[],this._active=!1}flush(e){let{actions:r}=this;if(this._active){r.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}}};var ti=new Kn(qn),Gh=ti;var ks=class extends qn{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}requestAsyncId(e,r,n=0){return n!==null&&n>0?super.requestAsyncId(e,r,n):(e.actions.push(this),e._scheduled||(e._scheduled=Wn.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,r,n=0){var i;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,r,n);let{actions:s}=e;r!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==r&&(Wn.cancelAnimationFrame(r),e._scheduled=void 0)}};var Ps=class extends Kn{flush(e){this._active=!0;let r=this._scheduled;this._scheduled=void 0;let{actions:n}=this,i;e=e||n.shift();do if(i=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw i}}};var Fs=new Ps(ks);var _e=new N(t=>t.complete());function Ls(t){return t&&S(t.schedule)}function Mc(t){return t[t.length-1]}function js(t){return S(Mc(t))?t.pop():void 0}function ct(t){return Ls(Mc(t))?t.pop():void 0}function Wh(t,e){return typeof Mc(t)=="number"?t.pop():e}function Zh(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function qh(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function on(t){return this instanceof on?(this.v=t,this):new on(t)}function Kh(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){n[h]&&(i[h]=function(m){return new Promise(function(v,w){s.push([h,m,v,w])>1||c(h,m)})},g&&(i[h]=g(i[h])))}function c(h,g){try{l(n[h](g))}catch(m){f(s[0][3],m)}}function l(h){h.value instanceof on?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,g){h(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Yh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof qh=="function"?qh(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var Yn=t=>t&&typeof t.length=="number"&&typeof t!="function";function Vs(t){return S(t?.then)}function $s(t){return S(t[Hn])}function Bs(t){return Symbol.asyncIterator&&S(t?.[Symbol.asyncIterator])}function Us(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function nw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hs=nw();function zs(t){return S(t?.[Hs])}function Gs(t){return Kh(this,arguments,function*(){let r=t.getReader();try{for(;;){let{value:n,done:i}=yield on(r.read());if(i)return yield on(void 0);yield yield on(n)}}finally{r.releaseLock()}})}function Ws(t){return S(t?.getReader)}function J(t){if(t instanceof N)return t;if(t!=null){if($s(t))return rw(t);if(Yn(t))return iw(t);if(Vs(t))return sw(t);if(Bs(t))return Qh(t);if(zs(t))return ow(t);if(Ws(t))return aw(t)}throw Us(t)}function rw(t){return new N(e=>{let r=t[Hn]();if(S(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function iw(t){return new N(e=>{for(let r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function sw(t){return new N(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,As)})}function ow(t){return new N(e=>{for(let r of t)if(e.next(r),e.closed)return;e.complete()})}function Qh(t){return new N(e=>{cw(t,e).catch(r=>e.error(r))})}function aw(t){return Qh(Gs(t))}function cw(t,e){var r,n,i,s;return Zh(this,void 0,void 0,function*(){try{for(r=Yh(t);n=yield r.next(),!n.done;){let o=n.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{n&&!n.done&&(s=r.return)&&(yield s.call(r))}finally{if(i)throw i.error}}e.complete()})}function Se(t,e,r,n=0,i=!1){let s=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!i)return s}function qs(t,e=0){return V((r,n)=>{r.subscribe(k(n,i=>Se(n,t,()=>n.next(i),e),()=>Se(n,t,()=>n.complete(),e),i=>Se(n,t,()=>n.error(i),e)))})}function Zs(t,e=0){return V((r,n)=>{n.add(t.schedule(()=>r.subscribe(n),e))})}function Jh(t,e){return J(t).pipe(Zs(e),qs(e))}function Xh(t,e){return J(t).pipe(Zs(e),qs(e))}function ef(t,e){return new N(r=>{let n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function tf(t,e){return new N(r=>{let n;return Se(r,e,()=>{n=t[Hs](),Se(r,e,()=>{let i,s;try{({value:i,done:s}=n.next())}catch(o){r.error(o);return}s?r.complete():r.next(i)},0,!0)}),()=>S(n?.return)&&n.return()})}function Ks(t,e){if(!t)throw new Error("Iterable cannot be null");return new N(r=>{Se(r,e,()=>{let n=t[Symbol.asyncIterator]();Se(r,e,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function nf(t,e){return Ks(Gs(t),e)}function rf(t,e){if(t!=null){if($s(t))return Jh(t,e);if(Yn(t))return ef(t,e);if(Vs(t))return Xh(t,e);if(Bs(t))return Ks(t,e);if(zs(t))return tf(t,e);if(Ws(t))return nf(t,e)}throw Us(t)}function re(t,e){return e?rf(t,e):J(t)}function M(...t){let e=ct(t);return re(t,e)}function Qn(t,e){let r=S(t)?t:()=>t,n=i=>i.error(r());return new N(e?i=>e.schedule(n,0,i):n)}function Ys(t){return!!t&&(t instanceof N||S(t.lift)&&S(t.subscribe))}var It=Vn(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function sf(t){return t instanceof Date&&!isNaN(t)}function P(t,e){return V((r,n)=>{let i=0;r.subscribe(k(n,s=>{n.next(t.call(e,s,i++))}))})}var{isArray:lw}=Array;function uw(t,e){return lw(e)?t(...e):t(e)}function Jn(t){return P(e=>uw(t,e))}var{isArray:dw}=Array,{getPrototypeOf:hw,prototype:fw,keys:pw}=Object;function Qs(t){if(t.length===1){let e=t[0];if(dw(e))return{args:e,keys:null};if(gw(e)){let r=pw(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}function gw(t){return t&&typeof t=="object"&&hw(t)===fw}function Js(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}function Xs(...t){let e=ct(t),r=js(t),{args:n,keys:i}=Qs(t);if(n.length===0)return re([],e);let s=new N(mw(n,e,i?o=>Js(i,o):Re));return r?s.pipe(Jn(r)):s}function mw(t,e,r=Re){return n=>{of(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)of(e,()=>{let l=re(t[c],e),u=!1;l.subscribe(k(n,d=>{s[c]=d,u||(u=!0,a--),a||n.next(r(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}function of(t,e,r){t?Se(r,t,e):e()}function af(t,e,r,n,i,s,o,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=m=>l<n?g(m):c.push(m),g=m=>{s&&e.next(m),l++;let v=!1;J(r(m,u++)).subscribe(k(e,w=>{i?.(w),s?h(w):e.next(w)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<n;){let w=c.shift();o?Se(e,o,()=>g(w)):g(w)}f()}catch(w){e.error(w)}}))};return t.subscribe(k(e,h,()=>{d=!0,f()})),()=>{a?.()}}function se(t,e,r=1/0){return S(e)?se((n,i)=>P((s,o)=>e(n,s,i,o))(J(t(n,i))),r):(typeof e=="number"&&(r=e),V((n,i)=>af(n,i,t,r)))}function ni(t=1/0){return se(Re,t)}function cf(){return ni(1)}function Xn(...t){return cf()(re(t,ct(t)))}function eo(t){return new N(e=>{J(t()).subscribe(e)})}function Ac(...t){let e=js(t),{args:r,keys:n}=Qs(t),i=new N(s=>{let{length:o}=r;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let d=!1;J(r[u]).subscribe(k(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(n?Js(n,a):a),s.complete())}))}});return e?i.pipe(Jn(e)):i}var vw=["addListener","removeListener"],yw=["addEventListener","removeEventListener"],_w=["on","off"];function ri(t,e,r,n){if(S(r)&&(n=r,r=void 0),n)return ri(t,e,r).pipe(Jn(n));let[i,s]=Dw(t)?yw.map(o=>a=>t[o](e,a,r)):ww(t)?vw.map(lf(t,e)):bw(t)?_w.map(lf(t,e)):[];if(!i&&Yn(t))return se(o=>ri(o,e,r))(J(t));if(!i)throw new TypeError("Invalid event target");return new N(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function lf(t,e){return r=>n=>t[r](e,n)}function ww(t){return S(t.addListener)&&S(t.removeListener)}function bw(t){return S(t.on)&&S(t.off)}function Dw(t){return S(t.addEventListener)&&S(t.removeEventListener)}function to(t=0,e,r=Gh){let n=-1;return e!=null&&(Ls(e)?r=e:n=e),new N(i=>{let s=sf(t)?+t-r.now():t;s<0&&(s=0);let o=0;return r.schedule(function(){i.closed||(i.next(o++),0<=n?this.schedule(void 0,n):i.complete())},s)})}function Rc(t=0,e=ti){return t<0&&(t=0),to(t,t,e)}function ii(...t){let e=ct(t),r=Wh(t,1/0),n=t;return n.length?n.length===1?J(n[0]):ni(r)(re(n,e)):_e}function Oe(t,e){return V((r,n)=>{let i=0;r.subscribe(k(n,s=>t.call(e,s,i++)&&n.next(s)))})}function uf(t){return V((e,r)=>{let n=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let l=i;i=null,r.next(l)}o&&r.complete()},c=()=>{s=null,o&&r.complete()};e.subscribe(k(r,l=>{n=!0,i=l,s||J(t(l)).subscribe(s=k(r,a,c))},()=>{o=!0,(!n||!s||s.closed)&&r.complete()}))})}function no(t,e=ti){return uf(()=>to(t,e))}function Bt(t){return V((e,r)=>{let n=null,i=!1,s;n=e.subscribe(k(r,void 0,void 0,o=>{s=J(t(o,Bt(t)(e))),n?(n.unsubscribe(),n=null,s.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,s.subscribe(r))})}function df(t,e,r,n,i){return(s,o)=>{let a=r,c=e,l=0;s.subscribe(k(o,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),n&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function er(t,e){return S(e)?se(t,e,1):se(t,1)}function Ut(t){return V((e,r)=>{let n=!1;e.subscribe(k(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function Je(t){return t<=0?()=>_e:V((e,r)=>{let n=0;e.subscribe(k(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function Oc(t){return P(()=>t)}function ro(t=Cw){return V((e,r)=>{let n=!1;e.subscribe(k(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function Cw(){return new It}function si(t){return V((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}function lt(t,e){let r=arguments.length>=2;return n=>n.pipe(t?Oe((i,s)=>t(i,s,n)):Re,Je(1),r?Ut(e):ro(()=>new It))}function tr(t){return t<=0?()=>_e:V((e,r)=>{let n=[];e.subscribe(k(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function Nc(t,e){let r=arguments.length>=2;return n=>n.pipe(t?Oe((i,s)=>t(i,s,n)):Re,tr(1),r?Ut(e):ro(()=>new It))}function kc(t,e){return V(df(t,e,arguments.length>=2,!0))}function an(...t){let e=ct(t);return V((r,n)=>{(e?Xn(t,r,e):Xn(t,r)).subscribe(n)})}function xe(t,e){return V((r,n)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&n.complete();r.subscribe(k(n,c=>{i?.unsubscribe();let l=0,u=s++;J(t(c,u)).subscribe(i=k(n,d=>n.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function St(t){return V((e,r)=>{J(t).subscribe(k(r,()=>r.complete(),Xr)),!r.closed&&e.subscribe(r)})}function he(t,e,r){let n=S(t)||e||r?{next:t,error:e,complete:r}:t;return n?V((i,s)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;i.subscribe(k(s,c=>{var l;(l=n.next)===null||l===void 0||l.call(n,c),s.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),s.complete()},c=>{var l;a=!1,(l=n.error)===null||l===void 0||l.call(n,c),s.error(c)},()=>{var c,l;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):Re}var Ew="https://g.co/ng/security#xss",x=class extends Error{constructor(e,r){super(Vl(e,r)),this.code=e}};function Vl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function pi(t){return{toString:t}.toString()}var io="__parameters__";function Iw(t){return function(...r){if(t){let n=t(...r);for(let i in n)this[i]=n[i]}}}function Qf(t,e,r){return pi(()=>{let n=Iw(e);function i(...s){if(this instanceof i)return n.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty(io)?c[io]:Object.defineProperty(c,io,{value:[]})[io];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Kc=globalThis;function Q(t){for(let e in t)if(t[e]===Q)return e;throw Error("Could not find renamed property on target object.")}function Sw(t,e){for(let r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function be(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(be).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r===-1?e:e.substring(0,r)}function hf(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var xw=Q({__forward_ref__:Q});function yn(t){return t.__forward_ref__=yn,t.toString=function(){return be(this())},t}function we(t){return Jf(t)?t():t}function Jf(t){return typeof t=="function"&&t.hasOwnProperty(xw)&&t.__forward_ref__===yn}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ne(t){return{providers:t.providers||[],imports:t.imports||[]}}function ko(t){return ff(t,ep)||ff(t,tp)}function Xf(t){return ko(t)!==null}function ff(t,e){return t.hasOwnProperty(e)?t[e]:null}function Tw(t){let e=t&&(t[ep]||t[tp]);return e||null}function pf(t){return t&&(t.hasOwnProperty(gf)||t.hasOwnProperty(Mw))?t[gf]:null}var ep=Q({\u0275prov:Q}),gf=Q({\u0275inj:Q}),tp=Q({ngInjectableDef:Q}),Mw=Q({ngInjectorDef:Q}),I=class{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=b({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function np(t){return t&&!!t.\u0275providers}var Aw=Q({\u0275cmp:Q}),Rw=Q({\u0275dir:Q}),Ow=Q({\u0275pipe:Q}),Nw=Q({\u0275mod:Q}),fo=Q({\u0275fac:Q}),oi=Q({__NG_ELEMENT_ID__:Q}),mf=Q({__NG_ENV_ID__:Q});function $l(t){return typeof t=="string"?t:t==null?"":String(t)}function kw(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():$l(t)}function Pw(t,e){let r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,t)}function Bl(t,e){throw new x(-201,!1)}var F=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(F||{}),Yc;function rp(){return Yc}function Ve(t){let e=Yc;return Yc=t,e}function ip(t,e,r){let n=ko(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&F.Optional)return null;if(e!==void 0)return e;Bl(t,"Injector")}var Fw={},ai=Fw,Qc="__NG_DI_FLAG__",po="ngTempTokenPath",Lw="ngTokenPath",jw=/\n/gm,Vw="\u0275",vf="__source",sr;function $w(){return sr}function Ht(t){let e=sr;return sr=t,e}function Bw(t,e=F.Default){if(sr===void 0)throw new x(-203,!1);return sr===null?ip(t,void 0,e):sr.get(t,e&F.Optional?null:void 0,e)}function C(t,e=F.Default){return(rp()||Bw)(we(t),e)}function y(t,e=F.Default){return C(t,Po(e))}function Po(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jc(t){let e=[];for(let r=0;r<t.length;r++){let n=we(t[r]);if(Array.isArray(n)){if(n.length===0)throw new x(900,!1);let i,s=F.Default;for(let o=0;o<n.length;o++){let a=n[o],c=Uw(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(C(i,s))}else e.push(C(n))}return e}function sp(t,e){return t[Qc]=e,t.prototype[Qc]=e,t}function Uw(t){return t[Qc]}function Hw(t,e,r,n){let i=t[po];throw e[vf]&&i.unshift(e[vf]),t.message=zw(`
`+t.message,i,r,n),t[Lw]=i,t[po]=null,t}function zw(t,e,r,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Vw?t.slice(2):t;let i=be(e);if(Array.isArray(e))i=e.map(be).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):be(a)))}i=`{${s.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(jw,`
  `)}`}var Ul=sp(Qf("Optional"),8);var op=sp(Qf("SkipSelf"),4);function ar(t,e){let r=t.hasOwnProperty(fo);return r?t[fo]:null}function Hl(t,e){t.forEach(r=>Array.isArray(r)?Hl(r,e):e(r))}function ap(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function go(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Gw(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(i===1)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=r,t[e+1]=n}}function Ww(t,e,r){let n=gi(t,e);return n>=0?t[n|1]=r:(n=~n,Gw(t,n,e,r)),n}function Pc(t,e){let r=gi(t,e);if(r>=0)return t[r|1]}function gi(t,e){return qw(t,e,1)}function qw(t,e,r){let n=0,i=t.length>>r;for(;i!==n;){let s=n+(i-n>>1),o=t[s<<r];if(e===o)return s<<r;o>e?i=s:n=s+1}return~(i<<r)}var cr={},$e=[],lr=new I(""),cp=new I("",-1),lp=new I(""),mo=class{get(e,r=ai){if(r===ai){let n=new Error(`NullInjectorError: No provider for ${be(e)}!`);throw n.name="NullInjectorError",n}return r}},up=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(up||{}),ht=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ht||{}),ur=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ur||{});function Zw(t,e,r){let n=t.length;for(;;){let i=t.indexOf(e,r);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===n||t.charCodeAt(i+s)<=32)return i}r=i+1}}function Xc(t,e,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let s=r[n++],o=r[n++],a=r[n++];t.setAttribute(e,o,a,s)}else{let s=i,o=r[++n];Yw(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),n++}}return n}function Kw(t){return t===3||t===4||t===6}function Yw(t){return t.charCodeAt(0)===64}function ci(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){let i=e[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?yf(t,r,i,null,e[++n]):yf(t,r,i,null,null))}}return t}function yf(t,e,r,n,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===r){if(n===null){i!==null&&(t[s+1]=i);return}else if(n===t[s+1]){t[s+2]=i;return}}s++,n!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,r),n!==null&&t.splice(s++,0,n),i!==null&&t.splice(s++,0,i)}var dp="ng-template";function Qw(t,e,r,n){let i=0;if(n){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Zw(e[i+1].toLowerCase(),r,0)!==-1)return!0}else if(zl(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===r)return!0}return!1}function zl(t){return t.type===4&&t.value!==dp}function Jw(t,e,r){let n=t.type===4&&!r?dp:t.value;return e===n}function Xw(t,e,r){let n=4,i=t.attrs,s=i!==null?nb(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Xe(n)&&!Xe(c))return!1;if(o&&Xe(c))continue;o=!1,n=c|n&1;continue}if(!o)if(n&4){if(n=2|n&1,c!==""&&!Jw(t,c,r)||c===""&&e.length===1){if(Xe(n))return!1;o=!0}}else if(n&8){if(i===null||!Qw(t,i,c,r)){if(Xe(n))return!1;o=!0}}else{let l=e[++a],u=eb(c,i,zl(t),r);if(u===-1){if(Xe(n))return!1;o=!0;continue}if(l!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),n&2&&l!==d){if(Xe(n))return!1;o=!0}}}}return Xe(n)||o}function Xe(t){return(t&1)===0}function eb(t,e,r,n){if(e===null)return-1;let i=0;if(n||!r){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return rb(e,t)}function tb(t,e,r=!1){for(let n=0;n<e.length;n++)if(Xw(t,e[n],r))return!0;return!1}function nb(t){for(let e=0;e<t.length;e++){let r=t[e];if(Kw(r))return e}return t.length}function rb(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){let n=t[r];if(typeof n=="number")return-1;if(n===e)return r;r++}return-1}function _f(t,e){return t?":not("+e.trim()+")":e}function ib(t){let e=t[0],r=1,n=2,i="",s=!1;for(;r<t.length;){let o=t[r];if(typeof o=="string")if(n&2){let a=t[++r];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+o:n&4&&(i+=" "+o);else i!==""&&!Xe(o)&&(e+=_f(s,i),i=""),n=o,s=s||!Xe(n);r++}return i!==""&&(e+=_f(s,i)),e}function sb(t){return t.map(ib).join(",")}function ob(t){let e=[],r=[],n=1,i=2;for(;n<t.length;){let s=t[n];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++n]):i===8&&r.push(s);else{if(!Xe(i))break;i=s}n++}return{attrs:e,classes:r}}function nt(t){return pi(()=>{let e=mp(t),r=z(_({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===up.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ht.Emulated,styles:t.styles||$e,_:null,schemas:t.schemas||null,tView:null,id:""});vp(r);let n=t.dependencies;return r.directiveDefs=bf(n,!1),r.pipeDefs=bf(n,!0),r.id=lb(r),r})}function ab(t){return Wt(t)||hp(t)}function cb(t){return t!==null}function ke(t){return pi(()=>({type:t.type,bootstrap:t.bootstrap||$e,declarations:t.declarations||$e,imports:t.imports||$e,exports:t.exports||$e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function wf(t,e){if(t==null)return cr;let r={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],s,o,a=ur.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(r[s]=a!==ur.None?[n,a]:n,e[s]=o):r[s]=n}return r}function oe(t){return pi(()=>{let e=mp(t);return vp(e),e})}function Wt(t){return t[Aw]||null}function hp(t){return t[Rw]||null}function fp(t){return t[Ow]||null}function pp(t){let e=Wt(t)||hp(t)||fp(t);return e!==null?e.standalone:!1}function gp(t,e){let r=t[Nw]||null;if(!r&&e===!0)throw new Error(`Type ${be(t)} does not have '\u0275mod' property.`);return r}function mp(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||cr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||$e,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wf(t.inputs,e),outputs:wf(t.outputs),debugInfo:null}}function vp(t){t.features?.forEach(e=>e(t))}function bf(t,e){if(!t)return null;let r=e?fp:ab;return()=>(typeof t=="function"?t():t).map(n=>r(n)).filter(cb)}function lb(t){let e=0,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Fo(t){return{\u0275providers:t}}function ub(...t){return{\u0275providers:yp(!0,t),\u0275fromNgModule:!0}}function yp(t,...e){let r=[],n=new Set,i,s=o=>{r.push(o)};return Hl(e,o=>{let a=o;el(a,s,[],n)&&(i||=[],i.push(a))}),i!==void 0&&_p(i,s),r}function _p(t,e){for(let r=0;r<t.length;r++){let{ngModule:n,providers:i}=t[r];Gl(i,s=>{e(s,n)})}}function el(t,e,r,n){if(t=we(t),!t)return!1;let i=null,s=pf(t),o=!s&&Wt(t);if(!s&&!o){let c=t.ngModule;if(s=pf(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=n.has(i);if(o){if(a)return!1;if(n.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)el(l,e,r,n)}}else if(s){if(s.imports!=null&&!a){n.add(i);let l;try{Hl(s.imports,u=>{el(u,e,r,n)&&(l||=[],l.push(u))})}finally{}l!==void 0&&_p(l,e)}if(!a){let l=ar(i)||(()=>new i);e({provide:i,useFactory:l,deps:$e},i),e({provide:lp,useValue:i,multi:!0},i),e({provide:lr,useValue:()=>C(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;Gl(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Gl(t,e){for(let r of t)np(r)&&(r=r.\u0275providers),Array.isArray(r)?Gl(r,e):e(r)}var db=Q({provide:String,useValue:Q});function wp(t){return t!==null&&typeof t=="object"&&db in t}function hb(t){return!!(t&&t.useExisting)}function fb(t){return!!(t&&t.useFactory)}function dr(t){return typeof t=="function"}function pb(t){return!!t.useClass}var Lo=new I(""),ao={},gb={},Fc;function jo(){return Fc===void 0&&(Fc=new mo),Fc}var Te=class{},li=class extends Te{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nl(e,o=>this.processProvider(o)),this.records.set(cp,nr(void 0,this)),i.has("environment")&&this.records.set(Te,nr(void 0,this));let s=this.records.get(Lo);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(lp,$e,F.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=W(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let r=Ht(this),n=Ve(void 0),i;try{return e()}finally{Ht(r),Ve(n)}}get(e,r=ai,n=F.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mf))return e[mf](this);n=Po(n);let i,s=Ht(this),o=Ve(void 0);try{if(!(n&F.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=wb(e)&&ko(e);l&&this.injectableDefInScope(l)?c=nr(tl(e),ao):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=n&F.Self?jo():this.parent;return r=n&F.Optional&&r===ai?null:r,a.get(e,r)}catch(a){if(a.name==="NullInjectorError"){if((a[po]=a[po]||[]).unshift(be(e)),s)throw a;return Hw(a,e,"R3InjectorError",this.source)}else throw a}finally{Ve(o),Ht(s)}}resolveInjectorInitializers(){let e=W(null),r=Ht(this),n=Ve(void 0),i;try{let s=this.get(lr,$e,F.Self);for(let o of s)o()}finally{Ht(r),Ve(n),W(e)}}toString(){let e=[],r=this.records;for(let n of r.keys())e.push(be(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){e=we(e);let r=dr(e)?e:we(e&&e.provide),n=vb(e);if(!dr(e)&&e.multi===!0){let i=this.records.get(r);i||(i=nr(void 0,ao,!0),i.factory=()=>Jc(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){let n=W(null);try{return r.value===ao&&(r.value=gb,r.value=r.factory()),typeof r.value=="object"&&r.value&&_b(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{W(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let r=we(e.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){let r=this._onDestroyHooks.indexOf(e);r!==-1&&this._onDestroyHooks.splice(r,1)}};function tl(t){let e=ko(t),r=e!==null?e.factory:ar(t);if(r!==null)return r;if(t instanceof I)throw new x(204,!1);if(t instanceof Function)return mb(t);throw new x(204,!1)}function mb(t){if(t.length>0)throw new x(204,!1);let r=Tw(t);return r!==null?()=>r.factory(t):()=>new t}function vb(t){if(wp(t))return nr(void 0,t.useValue);{let e=bp(t);return nr(e,ao)}}function bp(t,e,r){let n;if(dr(t)){let i=we(t);return ar(i)||tl(i)}else if(wp(t))n=()=>we(t.useValue);else if(fb(t))n=()=>t.useFactory(...Jc(t.deps||[]));else if(hb(t))n=()=>C(we(t.useExisting));else{let i=we(t&&(t.useClass||t.provide));if(yb(t))n=()=>new i(...Jc(t.deps));else return ar(i)||tl(i)}return n}function nr(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function yb(t){return!!t.deps}function _b(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function wb(t){return typeof t=="function"||typeof t=="object"&&t instanceof I}function nl(t,e){for(let r of t)Array.isArray(r)?nl(r,e):r&&np(r)?nl(r.\u0275providers,e):e(r)}function mt(t,e){t instanceof li&&t.assertNotDestroyed();let r,n=Ht(t),i=Ve(void 0);try{return e()}finally{Ht(n),Ve(i)}}function Dp(){return rp()!==void 0||$w()!=null}function bb(t){if(!Dp())throw new x(-203,!1)}function Db(t){return typeof t=="function"}var Mt=0,$=1,T=2,De=3,et=4,rt=5,vo=6,yo=7,tt=8,hr=9,xt=10,fe=11,ui=12,Df=13,br=14,ft=15,fr=16,rr=17,pr=18,Vo=19,Cp=20,zt=21,Lc=22,Be=23,qt=25,Ep=1;var dn=7,_o=8,wo=9,Ue=10,bo=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(bo||{});function Gt(t){return Array.isArray(t)&&typeof t[Ep]=="object"}function At(t){return Array.isArray(t)&&t[Ep]===!0}function Ip(t){return(t.flags&4)!==0}function $o(t){return t.componentOffset>-1}function Wl(t){return(t.flags&1)===1}function Zt(t){return!!t.template}function rl(t){return(t[T]&512)!==0}var il=class{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function Sp(t,e,r,n){e!==null?e.applyValueToInputSignal(e,n):t[r]=n}function Rt(){return xp}function xp(t){return t.type.prototype.ngOnChanges&&(t.setInput=Eb),Cb}Rt.ngInherit=!0;function Cb(){let t=Mp(this),e=t?.current;if(e){let r=t.previous;if(r===cr)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function Eb(t,e,r,n,i){let s=this.declaredInputs[n],o=Mp(t)||Ib(t,{previous:cr,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new il(l&&l.currentValue,r,c===cr),Sp(t,e,i,r)}var Tp="__ngSimpleChanges__";function Mp(t){return t[Tp]||null}function Ib(t,e){return t[Tp]=e}var Cf=null;var ut=function(t,e,r){Cf?.(t,e,r)},Sb="svg",xb="math";function pt(t){for(;Array.isArray(t);)t=t[Mt];return t}function Ap(t,e){return pt(e[t])}function ze(t,e){return pt(e[t.index])}function Rp(t,e){return t.data[e]}function Yt(t,e){let r=e[t];return Gt(r)?r:r[Mt]}function ql(t){return(t[T]&128)===128}function Tb(t){return At(t[De])}function Do(t,e){return e==null?null:t[e]}function Op(t){t[rr]=0}function Np(t){t[T]&1024||(t[T]|=1024,ql(t)&&Bo(t))}function Mb(t,e){for(;t>0;)e=e[br],t--;return e}function di(t){return!!(t[T]&9216||t[Be]?.dirty)}function sl(t){t[xt].changeDetectionScheduler?.notify(7),t[T]&64&&(t[T]|=1024),di(t)&&Bo(t)}function Bo(t){t[xt].changeDetectionScheduler?.notify(0);let e=hn(t);for(;e!==null&&!(e[T]&8192||(e[T]|=8192,!ql(e)));)e=hn(e)}function kp(t,e){if((t[T]&256)===256)throw new x(911,!1);t[zt]===null&&(t[zt]=[]),t[zt].push(e)}function Ab(t,e){if(t[zt]===null)return;let r=t[zt].indexOf(e);r!==-1&&t[zt].splice(r,1)}function hn(t){let e=t[De];return At(e)?e[De]:e}var B={lFrame:Hp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Pp=!1;function Rb(){return B.lFrame.elementDepthCount}function Ob(){B.lFrame.elementDepthCount++}function Nb(){B.lFrame.elementDepthCount--}function Fp(){return B.bindingsEnabled}function kb(){return B.skipHydrationRootTNode!==null}function Pb(t){return B.skipHydrationRootTNode===t}function Fb(){B.skipHydrationRootTNode=null}function ee(){return B.lFrame.lView}function Pe(){return B.lFrame.tView}function Zl(t){return B.lFrame.contextLView=t,t[tt]}function Kl(t){return B.lFrame.contextLView=null,t}function Me(){let t=Lp();for(;t!==null&&t.type===64;)t=t.parent;return t}function Lp(){return B.lFrame.currentTNode}function Lb(){let t=B.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function mi(t,e){let r=B.lFrame;r.currentTNode=t,r.isParent=e}function jp(){return B.lFrame.isParent}function jb(){B.lFrame.isParent=!1}function Vp(){return Pp}function Ef(t){Pp=t}function Vb(t){return B.lFrame.bindingIndex=t}function Uo(){return B.lFrame.bindingIndex++}function $b(t){let e=B.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}function Bb(){return B.lFrame.inI18n}function Ub(t,e){let r=B.lFrame;r.bindingIndex=r.bindingRootIndex=t,ol(e)}function Hb(){return B.lFrame.currentDirectiveIndex}function ol(t){B.lFrame.currentDirectiveIndex=t}function zb(t){let e=B.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $p(t){B.lFrame.currentQueryIndex=t}function Gb(t){let e=t[$];return e.type===2?e.declTNode:e.type===1?t[rt]:null}function Bp(t,e,r){if(r&F.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(r&F.Host);)if(i=Gb(s),i===null||(s=s[br],i.type&10))break;if(i===null)return!1;e=i,t=s}let n=B.lFrame=Up();return n.currentTNode=e,n.lView=t,!0}function Yl(t){let e=Up(),r=t[$];B.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function Up(){let t=B.lFrame,e=t===null?null:t.child;return e===null?Hp(t):e}function Hp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function zp(){let t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Gp=zp;function Ql(){let t=zp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Wb(t){return(B.lFrame.contextLView=Mb(t,B.lFrame.contextLView))[tt]}function Dr(){return B.lFrame.selectedIndex}function fn(t){B.lFrame.selectedIndex=t}function Jl(){let t=B.lFrame;return Rp(t.tView,t.selectedIndex)}function qb(){return B.lFrame.currentNamespace}var Wp=!0;function Xl(){return Wp}function eu(t){Wp=t}function Zb(t,e,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(n){let o=xp(e);(r.preOrderHooks??=[]).push(t,o),(r.preOrderCheckHooks??=[]).push(t,o)}i&&(r.preOrderHooks??=[]).push(0-t,i),s&&((r.preOrderHooks??=[]).push(t,s),(r.preOrderCheckHooks??=[]).push(t,s))}function tu(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){let s=t.data[r].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-r,o),a&&((t.contentHooks??=[]).push(r,a),(t.contentCheckHooks??=[]).push(r,a)),c&&(t.viewHooks??=[]).push(-r,c),l&&((t.viewHooks??=[]).push(r,l),(t.viewCheckHooks??=[]).push(r,l)),u!=null&&(t.destroyHooks??=[]).push(r,u)}}function co(t,e,r){qp(t,e,3,r)}function lo(t,e,r,n){(t[T]&3)===r&&qp(t,e,r,n)}function jc(t,e){let r=t[T];(r&3)===e&&(r&=16383,r+=1,t[T]=r)}function qp(t,e,r,n){let i=n!==void 0?t[rr]&65535:0,s=n??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],n!=null&&a>=n)break}else e[c]<0&&(t[rr]+=65536),(a<s||s==-1)&&(Kb(t,r,e,c),t[rr]=(t[rr]&4294901760)+c+2),c++}function If(t,e){ut(4,t,e);let r=W(null);try{e.call(t)}finally{W(r),ut(5,t,e)}}function Kb(t,e,r,n){let i=r[n]<0,s=r[n+1],o=i?-r[n]:r[n],a=t[o];i?t[T]>>14<t[rr]>>16&&(t[T]&3)===e&&(t[T]+=16384,If(a,s)):If(a,s)}var or=-1,pn=class{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function Yb(t){return t instanceof pn}function Qb(t){return(t.flags&8)!==0}function Jb(t){return(t.flags&16)!==0}var Vc={},al=class{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=Po(n);let i=this.injector.get(e,Vc,n);return i!==Vc||r===Vc?i:this.parentInjector.get(e,r,n)}};function Zp(t){return t!==or}function Co(t){return t&32767}function Xb(t){return t>>16}function Eo(t,e){let r=Xb(t),n=e;for(;r>0;)n=n[br],r--;return n}var cl=!0;function Sf(t){let e=cl;return cl=t,e}var eD=256,Kp=eD-1,Yp=5,tD=0,dt={};function nD(t,e,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(oi)&&(n=r[oi]),n==null&&(n=r[oi]=tD++);let i=n&Kp,s=1<<i;e.data[t+(i>>Yp)]|=s}function Io(t,e){let r=Qp(t,e);if(r!==-1)return r;let n=e[$];n.firstCreatePass&&(t.injectorIndex=e.length,$c(n.data,t),$c(e,null),$c(n.blueprint,null));let i=nu(t,e),s=t.injectorIndex;if(Zp(i)){let o=Co(i),a=Eo(i,e),c=a[$].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function $c(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Qp(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function nu(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;i!==null;){if(n=ng(i),n===null)return or;if(r++,i=i[br],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return or}function ll(t,e,r){nD(t,e,r)}function Jp(t,e,r){if(r&F.Optional||t!==void 0)return t;Bl(e,"NodeInjector")}function Xp(t,e,r,n){if(r&F.Optional&&n===void 0&&(n=null),!(r&(F.Self|F.Host))){let i=t[hr],s=Ve(void 0);try{return i?i.get(e,n,r&F.Optional):ip(e,n,r&F.Optional)}finally{Ve(s)}}return Jp(n,e,r)}function eg(t,e,r,n=F.Default,i){if(t!==null){if(e[T]&2048&&!(n&F.Self)){let o=aD(t,e,r,n,dt);if(o!==dt)return o}let s=tg(t,e,r,n,dt);if(s!==dt)return s}return Xp(e,r,n,i)}function tg(t,e,r,n,i){let s=sD(r);if(typeof s=="function"){if(!Bp(e,t,n))return n&F.Host?Jp(i,r,n):Xp(e,r,n,i);try{let o;if(o=s(n),o==null&&!(n&F.Optional))Bl(r);else return o}finally{Gp()}}else if(typeof s=="number"){let o=null,a=Qp(t,e),c=or,l=n&F.Host?e[ft][rt]:null;for((a===-1||n&F.SkipSelf)&&(c=a===-1?nu(t,e):e[a+8],c===or||!Tf(n,!1)?a=-1:(o=e[$],a=Co(c),e=Eo(c,e)));a!==-1;){let u=e[$];if(xf(s,a,u.data)){let d=rD(a,e,r,o,n,l);if(d!==dt)return d}c=e[a+8],c!==or&&Tf(n,e[$].data[a+8]===l)&&xf(s,a,e)?(o=u,a=Co(c),e=Eo(c,e)):a=-1}}return i}function rD(t,e,r,n,i,s){let o=e[$],a=o.data[t+8],c=n==null?$o(a)&&cl:n!=o&&(a.type&3)!==0,l=i&F.Host&&s===a,u=iD(a,o,r,c,l);return u!==null?gr(e,o,u,a):dt}function iD(t,e,r,n,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=n?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let g=o[h];if(h<c&&r===g||h>=c&&g.type===r)return h}if(i){let h=o[c];if(h&&Zt(h)&&h.type===r)return c}return null}function gr(t,e,r,n){let i=t[r],s=e.data;if(Yb(i)){let o=i;o.resolving&&Pw(kw(s[r]));let a=Sf(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Ve(o.injectImpl):null,u=Bp(t,n,F.Default);try{i=t[r]=o.factory(void 0,s,t,n),e.firstCreatePass&&r>=n.directiveStart&&Zb(r,s[r],e)}finally{l!==null&&Ve(l),Sf(a),o.resolving=!1,Gp()}}return i}function sD(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(oi)?t[oi]:void 0;return typeof e=="number"?e>=0?e&Kp:oD:e}function xf(t,e,r){let n=1<<t;return!!(r[e+(t>>Yp)]&n)}function Tf(t,e){return!(t&F.Self)&&!(t&F.Host&&e)}var un=class{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return eg(this._tNode,this._lView,e,Po(n),r)}};function oD(){return new un(Me(),ee())}function _n(t){return pi(()=>{let e=t.prototype.constructor,r=e[fo]||ul(e),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){let s=i[fo]||ul(i);if(s&&s!==r)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ul(t){return Jf(t)?()=>{let e=ul(we(t));return e&&e()}:ar(t)}function aD(t,e,r,n,i){let s=t,o=e;for(;s!==null&&o!==null&&o[T]&2048&&!(o[T]&512);){let a=tg(s,o,r,n|F.Self,dt);if(a!==dt)return a;let c=s.parent;if(!c){let l=o[Cp];if(l){let u=l.get(r,dt,n);if(u!==dt)return u}c=ng(o),o=o[br]}s=c}return i}function ng(t){let e=t[$],r=e.type;return r===2?e.declTNode:r===1?t[rt]:null}function Mf(t,e=null,r=null,n){let i=rg(t,e,r,n);return i.resolveInjectorInitializers(),i}function rg(t,e=null,r=null,n,i=new Set){let s=[r||$e,ub(t)];return n=n||(typeof t=="object"?void 0:be(t)),new li(s,e||jo(),n||null,i)}var cn=class cn{static create(e,r){if(Array.isArray(e))return Mf({name:""},r,e,"");{let n=e.name??"";return Mf({name:n},e.parent,e.providers,n)}}};cn.THROW_IF_NOT_FOUND=ai,cn.NULL=new mo,cn.\u0275prov=b({token:cn,providedIn:"any",factory:()=>C(cp)}),cn.__NG_ELEMENT_ID__=-1;var He=cn;var cD=new I("");cD.__NG_ELEMENT_ID__=t=>{let e=Me();if(e===null)throw new x(204,!1);if(e.type&2)return e.value;if(t&F.Optional)return null;throw new x(204,!1)};var lD="ngOriginalError";function Bc(t){return t[lD]}var gt=class{constructor(){this._console=console}handleError(e){let r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&Bc(e);for(;r&&Bc(r);)r=Bc(r);return r||null}},ig=new I("",{providedIn:"root",factory:()=>y(gt).handleError.bind(void 0)}),ru=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uD,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),dl=class extends ru{constructor(e){super(),this._lView=e}onDestroy(e){return kp(this._lView,e),()=>Ab(this._lView,e)}};function uD(){return new dl(ee())}function dD(){return Ho(Me(),ee())}function Ho(t,e){return new ve(ze(t,e))}var ve=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=dD;let t=e;return t})();var Cr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var hl=class extends R{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Dp()&&(this.destroyRef=y(ru,{optional:!0})??void 0,this.pendingTasks=y(Cr,{optional:!0})??void 0)}emit(e){let r=W(null);try{super.next(e)}finally{W(r)}}subscribe(e,r,n){let i=e,s=r||(()=>null),o=n;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof q&&e.add(a),a}wrapInTimeout(e){return r=>{let n=this.pendingTasks?.add();setTimeout(()=>{e(r),n!==void 0&&this.pendingTasks?.remove(n)})}}},G=hl;function sg(t){return(t.flags&128)===128}var og=new Map,hD=0;function fD(){return hD++}function pD(t){og.set(t[Vo],t)}function gD(t){og.delete(t[Vo])}var Af="__ngContext__";function gn(t,e){Gt(e)?(t[Af]=e[Vo],pD(e)):t[Af]=e}function ag(t){return lg(t[ui])}function cg(t){return lg(t[et])}function lg(t){for(;t!==null&&!At(t);)t=t[et];return t}var fl;function ug(t){fl=t}function mD(){if(fl!==void 0)return fl;if(typeof document<"u")return document;throw new x(210,!1)}var iu=new I("",{providedIn:"root",factory:()=>vD}),vD="ng",su=new I(""),Ot=new I("",{providedIn:"platform",factory:()=>"unknown"});var ou=new I("",{providedIn:"root",factory:()=>mD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var yD="h",_D="b";var wD=()=>null;function au(t,e,r=!1){return wD(t,e,r)}var dg=!1,bD=new I("",{providedIn:"root",factory:()=>dg});var pl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ew})`}};function cu(t){return t instanceof pl?t.changingThisBreaksApplicationSecurity:t}function hg(t){return t instanceof Function?t():t}function DD(t){return(t??y(He)).get(Ot)==="browser"}var Tt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Tt||{}),CD;function lu(t,e){return CD(t,e)}function ir(t,e,r,n,i){if(n!=null){let s,o=!1;At(n)?s=n:Gt(n)&&(o=!0,n=n[Mt]);let a=pt(n);t===0&&r!==null?i==null?vg(e,r,a):So(e,r,a,i||null,!0):t===1&&r!==null?So(e,r,a,i||null,!0):t===2?VD(e,a,o):t===3&&e.destroyNode(a),s!=null&&BD(e,t,s,r,i)}}function ED(t,e){return t.createText(e)}function ID(t,e,r){t.setValue(e,r)}function fg(t,e,r){return t.createElement(e,r)}function SD(t,e){pg(t,e),e[Mt]=null,e[rt]=null}function xD(t,e,r,n,i,s){n[Mt]=i,n[rt]=e,zo(t,n,r,1,i,s)}function pg(t,e){e[xt].changeDetectionScheduler?.notify(8),zo(t,e,e[fe],2,null,null)}function TD(t){let e=t[ui];if(!e)return Uc(t[$],t);for(;e;){let r=null;if(Gt(e))r=e[ui];else{let n=e[Ue];n&&(r=n)}if(!r){for(;e&&!e[et]&&e!==t;)Gt(e)&&Uc(e[$],e),e=e[De];e===null&&(e=t),Gt(e)&&Uc(e[$],e),r=e&&e[et]}e=r}}function MD(t,e,r,n){let i=Ue+n,s=r.length;n>0&&(r[i-1][et]=e),n<s-Ue?(e[et]=r[i],ap(r,Ue+n,e)):(r.push(e),e[et]=null),e[De]=r;let o=e[fr];o!==null&&r!==o&&gg(o,e);let a=e[pr];a!==null&&a.insertView(t),sl(e),e[T]|=128}function gg(t,e){let r=t[wo],n=e[De];if(Gt(n))t[T]|=bo.HasTransplantedViews;else{let i=n[De][ft];e[ft]!==i&&(t[T]|=bo.HasTransplantedViews)}r===null?t[wo]=[e]:r.push(e)}function uu(t,e){let r=t[wo],n=r.indexOf(e);r.splice(n,1)}function gl(t,e){if(t.length<=Ue)return;let r=Ue+e,n=t[r];if(n){let i=n[fr];i!==null&&i!==t&&uu(i,n),e>0&&(t[r-1][et]=n[et]);let s=go(t,Ue+e);SD(n[$],n);let o=s[pr];o!==null&&o.detachView(s[$]),n[De]=null,n[et]=null,n[T]&=-129}return n}function mg(t,e){if(!(e[T]&256)){let r=e[fe];r.destroyNode&&zo(t,e,r,3,null,null),TD(e)}}function Uc(t,e){if(e[T]&256)return;let r=W(null);try{e[T]&=-129,e[T]|=256,e[Be]&&vc(e[Be]),RD(t,e),AD(t,e),e[$].type===1&&e[fe].destroy();let n=e[fr];if(n!==null&&At(e[De])){n!==e[De]&&uu(n,e);let i=e[pr];i!==null&&i.detachView(t)}gD(e)}finally{W(r)}}function AD(t,e){let r=t.cleanup,n=e[yo];if(r!==null)for(let s=0;s<r.length-1;s+=2)if(typeof r[s]=="string"){let o=r[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{let o=n[r[s+1]];r[s].call(o)}n!==null&&(e[yo]=null);let i=e[zt];if(i!==null){e[zt]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function RD(t,e){let r;if(t!=null&&(r=t.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=e[r[n]];if(!(i instanceof pn)){let s=r[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];ut(4,a,c);try{c.call(a)}finally{ut(5,a,c)}}else{ut(4,i,s);try{s.call(i)}finally{ut(5,i,s)}}}}}function OD(t,e,r){return ND(t,e.parent,r)}function ND(t,e,r){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return r[Mt];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:s}=t.data[n.directiveStart+i];if(s===ht.None||s===ht.Emulated)return null}return ze(n,r)}}function So(t,e,r,n,i){t.insertBefore(e,r,n,i)}function vg(t,e,r){t.appendChild(e,r)}function Rf(t,e,r,n,i){n!==null?So(t,e,r,n,i):vg(t,e,r)}function kD(t,e,r,n){t.removeChild(e,r,n)}function du(t,e){return t.parentNode(e)}function PD(t,e){return t.nextSibling(e)}function FD(t,e,r){return jD(t,e,r)}function LD(t,e,r){return t.type&40?ze(t,r):null}var jD=LD,Of;function hu(t,e,r,n){let i=OD(t,n,e),s=e[fe],o=n.parent||e[rt],a=FD(o,n,e);if(i!=null)if(Array.isArray(r))for(let c=0;c<r.length;c++)Rf(s,i,r[c],a,!1);else Rf(s,i,r,a,!1);Of!==void 0&&Of(s,n,e,r,i)}function uo(t,e){if(e!==null){let r=e.type;if(r&3)return ze(e,t);if(r&4)return ml(-1,t[e.index]);if(r&8){let n=e.child;if(n!==null)return uo(t,n);{let i=t[e.index];return At(i)?ml(-1,i):pt(i)}}else{if(r&32)return lu(e,t)()||pt(t[e.index]);{let n=yg(t,e);if(n!==null){if(Array.isArray(n))return n[0];let i=hn(t[ft]);return uo(i,n)}else return uo(t,e.next)}}}return null}function yg(t,e){if(e!==null){let n=t[ft][rt],i=e.projection;return n.projection[i]}return null}function ml(t,e){let r=Ue+t+1;if(r<e.length){let n=e[r],i=n[$].firstChild;if(i!==null)return uo(n,i)}return e[dn]}function VD(t,e,r){let n=du(t,e);n&&kD(t,n,e,r)}function fu(t,e,r,n,i,s,o){for(;r!=null;){let a=n[r.index],c=r.type;if(o&&e===0&&(a&&gn(pt(a),n),r.flags|=2),(r.flags&32)!==32)if(c&8)fu(t,e,r.child,n,i,s,!1),ir(e,t,i,a,s);else if(c&32){let l=lu(r,n),u;for(;u=l();)ir(e,t,i,u,s);ir(e,t,i,a,s)}else c&16?$D(t,e,n,r,i,s):ir(e,t,i,a,s);r=o?r.projectionNext:r.next}}function zo(t,e,r,n,i,s){fu(r,n,t.firstChild,e,i,s,!1)}function $D(t,e,r,n,i,s){let o=r[ft],c=o[rt].projection[n.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];ir(e,t,i,u,s)}else{let l=c,u=o[De];sg(n)&&(l.flags|=128),fu(t,e,l,u,i,s,!0)}}function BD(t,e,r,n,i){let s=r[dn],o=pt(r);s!==o&&ir(e,t,n,s,i);for(let a=Ue;a<r.length;a++){let c=r[a];zo(c[$],c,t,e,n,s)}}function UD(t,e,r,n,i){if(e)i?t.addClass(r,n):t.removeClass(r,n);else{let s=n.indexOf("-")===-1?void 0:Tt.DashCase;i==null?t.removeStyle(r,n,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Tt.Important),t.setStyle(r,n,i,s))}}function HD(t,e,r){t.setAttribute(e,"style",r)}function _g(t,e,r){r===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function wg(t,e,r){let{mergedAttrs:n,classes:i,styles:s}=r;n!==null&&Xc(t,e,n),i!==null&&_g(t,e,i),s!==null&&HD(t,e,s)}var Er={};function Ce(t=1){bg(Pe(),ee(),Dr()+t,!1)}function bg(t,e,r,n){if(!n)if((e[T]&3)===3){let s=t.preOrderCheckHooks;s!==null&&co(e,s,r)}else{let s=t.preOrderHooks;s!==null&&lo(e,s,0,r)}fn(r)}function E(t,e=F.Default){let r=ee();if(r===null)return C(t,e);let n=Me();return eg(n,r,we(t),e)}function Dg(t,e,r,n,i,s){let o=W(null);try{let a=null;i&ur.SignalBased&&(a=e[n][tn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ur.HasDecoratorInputTransform&&(s=t.inputTransforms[n].call(e,s)),t.setInput!==null?t.setInput(e,a,s,r,n):Sp(e,a,n,s)}finally{W(o)}}function zD(t,e){let r=t.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)fn(~i);else{let s=i,o=r[++n],a=r[++n];Ub(o,s);let c=e[s];a(2,c)}}}finally{fn(-1)}}function Go(t,e,r,n,i,s,o,a,c,l,u){let d=e.blueprint.slice();return d[Mt]=i,d[T]=n|4|128|8|64,(l!==null||t&&t[T]&2048)&&(d[T]|=2048),Op(d),d[De]=d[br]=t,d[tt]=r,d[xt]=o||t&&t[xt],d[fe]=a||t&&t[fe],d[hr]=c||t&&t[hr]||null,d[rt]=s,d[Vo]=fD(),d[vo]=u,d[Cp]=l,d[ft]=e.type==2?t[ft]:d,d}function Wo(t,e,r,n,i){let s=t.data[e];if(s===null)s=GD(t,e,r,n,i),Bb()&&(s.flags|=32);else if(s.type&64){s.type=r,s.value=n,s.attrs=i;let o=Lb();s.injectorIndex=o===null?-1:o.injectorIndex}return mi(s,!0),s}function GD(t,e,r,n,i){let s=Lp(),o=jp(),a=o?s:s&&s.parent,c=t.data[e]=YD(t,a,r,e,n,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function Cg(t,e,r,n){if(r===0)return-1;let i=e.length;for(let s=0;s<r;s++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function Eg(t,e,r,n,i){let s=Dr(),o=n&2;try{fn(-1),o&&e.length>qt&&bg(t,e,qt,!1),ut(o?2:0,i),r(n,i)}finally{fn(s),ut(o?3:1,i)}}function Ig(t,e,r){if(Ip(e)){let n=W(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=r[o];a.contentQueries(1,c,o)}}}finally{W(n)}}}function Sg(t,e,r){Fp()&&(nC(t,e,r,ze(r,e)),(r.flags&64)===64&&Og(t,e,r))}function xg(t,e,r=ze){let n=e.localNames;if(n!==null){let i=e.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=o===-1?r(e,t):t[o];t[i++]=a}}}function Tg(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=pu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function pu(t,e,r,n,i,s,o,a,c,l,u){let d=qt+n,f=d+i,h=WD(d,f),g=typeof l=="function"?l():l;return h[$]={type:t,blueprint:h,template:r,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function WD(t,e){let r=[];for(let n=0;n<e;n++)r.push(n<t?null:Er);return r}function qD(t,e,r,n){let s=n.get(bD,dg)||r===ht.ShadowDom,o=t.selectRootElement(e,s);return ZD(o),o}function ZD(t){KD(t)}var KD=()=>null;function YD(t,e,r,n,i,s){let o=e?e.injectorIndex:-1,a=0;return kb()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Nf(t,e,r,n,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;n??={};let a,c=ur.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?kf(n,r,l,a,c):kf(n,r,l,a)}return n}function kf(t,e,r,n,i){let s;t.hasOwnProperty(r)?(s=t[r]).push(e,n):s=t[r]=[e,n],i!==void 0&&s.push(i)}function QD(t,e,r){let n=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=n;u<i;u++){let d=s[u],f=r?r.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;c=Nf(0,d.inputs,u,c,h),l=Nf(1,d.outputs,u,l,g);let m=c!==null&&o!==null&&!zl(e)?fC(c,u,o):null;a.push(m)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function JD(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Mg(t,e,r,n,i,s,o,a){let c=ze(e,r),l=e.inputs,u;!a&&l!=null&&(u=l[n])?(gu(t,r,u,n,i),$o(e)&&XD(r,e.index)):e.type&3?(n=JD(n),i=o!=null?o(i,e.value||"",n):i,s.setProperty(c,n,i)):e.type&12}function XD(t,e){let r=Yt(e,t);r[T]&16||(r[T]|=64)}function Ag(t,e,r,n){if(Fp()){let i=n===null?null:{"":-1},s=iC(t,r),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Rg(t,e,r,o,i,a),i&&sC(r,n,i)}r.mergedAttrs=ci(r.mergedAttrs,r.attrs)}function Rg(t,e,r,n,i,s){for(let l=0;l<n.length;l++)ll(Io(r,e),t,n[l].type);aC(r,t.data.length,n.length);for(let l=0;l<n.length;l++){let u=n[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Cg(t,e,n.length,null);for(let l=0;l<n.length;l++){let u=n[l];r.mergedAttrs=ci(r.mergedAttrs,u.hostAttrs),cC(t,r,e,c,u),oC(c,u,i),u.contentQueries!==null&&(r.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(r.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),a=!0),c++}QD(t,r,s)}function eC(t,e,r,n,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;tC(o)!=a&&o.push(a),o.push(r,n,s)}}function tC(t){let e=t.length;for(;e>0;){let r=t[--e];if(typeof r=="number"&&r<0)return r}return 0}function nC(t,e,r,n){let i=r.directiveStart,s=r.directiveEnd;$o(r)&&lC(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||Io(r,e),gn(n,e);let o=r.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=gr(e,t,a,r);if(gn(l,e),o!==null&&hC(e,a-i,l,c,r,o),Zt(c)){let u=Yt(r.index,e);u[tt]=gr(e,t,a,r)}}}function Og(t,e,r){let n=r.directiveStart,i=r.directiveEnd,s=r.index,o=Hb();try{fn(s);for(let a=n;a<i;a++){let c=t.data[a],l=e[a];ol(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&rC(c,l)}}finally{fn(-1),ol(o)}}function rC(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function iC(t,e){let r=t.directiveRegistry,n=null,i=null;if(r)for(let s=0;s<r.length;s++){let o=r[s];if(tb(e,o.selectors,!1))if(n||(n=[]),Zt(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),n.unshift(...a,o);let c=a.length;vl(t,e,c)}else n.unshift(o),vl(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,n,i),n.push(o)}return n===null?null:[n,i]}function vl(t,e,r){e.componentOffset=r,(t.components??=[]).push(e.index)}function sC(t,e,r){if(e){let n=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=r[e[i+1]];if(s==null)throw new x(-301,!1);n.push(e[i],s)}}}function oC(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;Zt(e)&&(r[""]=t)}}function aC(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}function cC(t,e,r,n,i){t.data[n]=i;let s=i.factory||(i.factory=ar(i.type,!0)),o=new pn(s,Zt(i),E);t.blueprint[n]=o,r[n]=o,eC(t,e,n,Cg(t,r,i.hostVars,Er),i)}function lC(t,e,r){let n=ze(e,t),i=Tg(r),s=t[xt].rendererFactory,o=16;r.signals?o=4096:r.onPush&&(o=64);let a=qo(t,Go(t,i,null,o,n,e,null,s.createRenderer(n,r),null,null,null));t[e.index]=a}function uC(t,e,r,n,i,s){let o=ze(t,e);dC(e[fe],o,s,t.value,r,n,i)}function dC(t,e,r,n,i,s,o){if(s==null)t.removeAttribute(e,i,r);else{let a=o==null?$l(s):o(s,n||"",i);t.setAttribute(e,i,a,r)}}function hC(t,e,r,n,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],d=o[a++];Dg(n,r,c,l,u,d)}}function fC(t,e,r){let n=null,i=0;for(;i<r.length;){let s=r[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){n===null&&(n=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){n.push(s,o[a+1],o[a+2],r[i+1]);break}}i+=2}return n}function Ng(t,e,r,n){return[t,!0,0,e,null,n,null,r,null,null]}function kg(t,e){let r=t.contentQueries;if(r!==null){let n=W(null);try{for(let i=0;i<r.length;i+=2){let s=r[i],o=r[i+1];if(o!==-1){let a=t.data[o];$p(s),a.contentQueries(2,e[o],o)}}}finally{W(n)}}}function qo(t,e){return t[ui]?t[Df][et]=e:t[ui]=e,t[Df]=e,e}function yl(t,e,r){$p(0);let n=W(null);try{e(t,r)}finally{W(n)}}function pC(t){return t[yo]??=[]}function gC(t){return t.cleanup??=[]}function Pg(t,e){let r=t[hr],n=r?r.get(gt,null):null;n&&n.handleError(e)}function gu(t,e,r,n,i){for(let s=0;s<r.length;){let o=r[s++],a=r[s++],c=r[s++],l=e[o],u=t.data[o];Dg(u,l,n,a,c,i)}}function mC(t,e,r){let n=Ap(e,t);ID(t[fe],n,r)}function vC(t,e){let r=Yt(e,t),n=r[$];yC(n,r);let i=r[Mt];i!==null&&r[vo]===null&&(r[vo]=au(i,r[hr])),mu(n,r,r[tt])}function yC(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}function mu(t,e,r){Yl(e);try{let n=t.viewQuery;n!==null&&yl(1,n,r);let i=t.template;i!==null&&Eg(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),e[pr]?.finishViewCreation(t),t.staticContentQueries&&kg(t,e),t.staticViewQueries&&yl(2,t.viewQuery,r);let s=t.components;s!==null&&_C(e,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[T]&=-5,Ql()}}function _C(t,e){for(let r=0;r<e.length;r++)vC(t,e[r])}function wC(t,e,r,n){let i=W(null);try{let s=e.tView,a=t[T]&4096?4096:16,c=Go(t,s,r,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),l=t[e.index];c[fr]=l;let u=t[pr];return u!==null&&(c[pr]=u.createEmbeddedView(s)),mu(s,c,r),c}finally{W(i)}}function Pf(t,e){return!e||e.firstChild===null||sg(t)}function bC(t,e,r,n=!0){let i=e[$];if(MD(i,e,t,r),n){let o=ml(r,t),a=e[fe],c=du(a,t[dn]);c!==null&&xD(i,t[rt],a,e,c,o)}let s=e[vo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function xo(t,e,r,n,i=!1){for(;r!==null;){let s=e[r.index];s!==null&&n.push(pt(s)),At(s)&&DC(s,n);let o=r.type;if(o&8)xo(t,e,r.child,n);else if(o&32){let a=lu(r,e),c;for(;c=a();)n.push(c)}else if(o&16){let a=yg(e,r);if(Array.isArray(a))n.push(...a);else{let c=hn(e[ft]);xo(c[$],c,a,n,!0)}}r=i?r.projectionNext:r.next}return n}function DC(t,e){for(let r=Ue;r<t.length;r++){let n=t[r],i=n[$].firstChild;i!==null&&xo(n[$],n,i,e)}t[dn]!==t[Mt]&&e.push(t[dn])}var Fg=[];function CC(t){return t[Be]??EC(t)}function EC(t){let e=Fg.pop()??Object.create(SC);return e.lView=t,e}function IC(t){t.lView[Be]!==t&&(t.lView=null,Fg.push(t))}var SC=z(_({},Is),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Bo(t.lView)},consumerOnSignalRead(){this.lView[Be]=this}});function xC(t){let e=t[Be]??Object.create(TC);return e.lView=t,e}var TC=z(_({},Is),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=hn(t.lView);for(;e&&!Lg(e[$]);)e=hn(e);e&&Np(e)},consumerOnSignalRead(){this.lView[Be]=this}});function Lg(t){return t.type!==2}var MC=100;function jg(t,e=!0,r=0){let n=t[xt],i=n.rendererFactory,s=!1;s||i.begin?.();try{AC(t,r)}catch(o){throw e&&Pg(t,o),o}finally{s||(i.end?.(),n.inlineEffectRunner?.flush())}}function AC(t,e){let r=Vp();try{Ef(!0),_l(t,e);let n=0;for(;di(t);){if(n===MC)throw new x(103,!1);n++,_l(t,1)}}finally{Ef(r)}}function RC(t,e,r,n){let i=e[T];if((i&256)===256)return;let s=!1,o=!1;!s&&e[xt].inlineEffectRunner?.flush(),Yl(e);let a=!0,c=null,l=null;s||(Lg(t)?(l=CC(e),c=gc(l)):Eh()===null?(a=!1,l=xC(e),c=gc(l)):e[Be]&&(vc(e[Be]),e[Be]=null));try{Op(e),Vb(t.bindingStartIndex),r!==null&&Eg(t,e,r,2,n);let u=(i&3)===3;if(!s)if(u){let h=t.preOrderCheckHooks;h!==null&&co(e,h,null)}else{let h=t.preOrderHooks;h!==null&&lo(e,h,0,null),jc(e,0)}if(o||OC(e),Vg(e,0),t.contentQueries!==null&&kg(t,e),!s)if(u){let h=t.contentCheckHooks;h!==null&&co(e,h)}else{let h=t.contentHooks;h!==null&&lo(e,h,1),jc(e,1)}zD(t,e);let d=t.components;d!==null&&Bg(e,d,0);let f=t.viewQuery;if(f!==null&&yl(2,f,n),!s)if(u){let h=t.viewCheckHooks;h!==null&&co(e,h)}else{let h=t.viewHooks;h!==null&&lo(e,h,2),jc(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Lc]){for(let h of e[Lc])h();e[Lc]=null}s||(e[T]&=-73)}catch(u){throw s||Bo(e),u}finally{l!==null&&(Th(l,c),a&&IC(l)),Ql()}}function Vg(t,e){for(let r=ag(t);r!==null;r=cg(r))for(let n=Ue;n<r.length;n++){let i=r[n];$g(i,e)}}function OC(t){for(let e=ag(t);e!==null;e=cg(e)){if(!(e[T]&bo.HasTransplantedViews))continue;let r=e[wo];for(let n=0;n<r.length;n++){let i=r[n];Np(i)}}}function NC(t,e,r){let n=Yt(e,t);$g(n,r)}function $g(t,e){ql(t)&&_l(t,e)}function _l(t,e){let n=t[$],i=t[T],s=t[Be],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&mc(s)),o||=!1,s&&(s.dirty=!1),t[T]&=-9217,o)RC(n,t,n.template,t[tt]);else if(i&8192){Vg(t,1);let a=n.components;a!==null&&Bg(t,a,1)}}function Bg(t,e,r){for(let n=0;n<e.length;n++)NC(t,e[n],r)}function vu(t,e){let r=Vp()?64:1088;for(t[xt].changeDetectionScheduler?.notify(e);t;){t[T]|=r;let n=hn(t);if(rl(t)&&!n)return t;t=n}return null}var mn=class{get rootNodes(){let e=this._lView,r=e[$];return xo(r,e,r.firstChild,[])}constructor(e,r,n=!0){this._lView=e,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tt]}set context(e){this._lView[tt]=e}get destroyed(){return(this._lView[T]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[De];if(At(e)){let r=e[_o],n=r?r.indexOf(this):-1;n>-1&&(gl(e,n),go(r,n))}this._attachedToViewContainer=!1}mg(this._lView[$],this._lView)}onDestroy(e){kp(this._lView,e)}markForCheck(){vu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[T]&=-129}reattach(){sl(this._lView),this._lView[T]|=128}detectChanges(){this._lView[T]|=1024,jg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=rl(this._lView),r=this._lView[fr];r!==null&&!e&&uu(r,this._lView),pg(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e;let r=rl(this._lView),n=this._lView[fr];n!==null&&!r&&gg(n,this._lView),sl(this._lView)}},Ir=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FC;let t=e;return t})(),kC=Ir,PC=class extends kC{constructor(e,r,n){super(),this._declarationLView=e,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,n){let i=wC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:n});return new mn(i)}};function FC(){return LC(Me(),ee())}function LC(t,e){return t.type&4?new PC(e,t,Ho(t,e)):null}var HP=new RegExp(`^(\\d+)*(${_D}|${yD})*(.*)`);var jC=()=>null;function Ff(t,e){return jC(t,e)}var mr=class{},yu=new I("",{providedIn:"root",factory:()=>!1});var Ug=new I(""),wl=class{},To=class{};function VC(t){let e=Error(`No component factory found for ${be(t)}.`);return e[$C]=t,e}var $C="ngComponent";var bl=class{resolveComponentFactory(e){throw VC(e)}},Ru=class Ru{};Ru.NULL=new bl;var vr=Ru,yr=class{},Nt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>BC();let t=e;return t})();function BC(){let t=ee(),e=Me(),r=Yt(e.index,t);return(Gt(r)?r:t)[fe]}var UC=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var Lf=new Set;function vi(t){Lf.has(t)||(Lf.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Hg(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Kc.requestAnimationFrame=="function"&&Kc.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function jf(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function Vf(...t){}var Y=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new G(!1),this.onMicrotaskEmpty=new G(!1),this.onStable=new G(!1),this.onError=new G(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.callbackScheduled=!1,GC(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new x(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,HC,Vf,Vf);try{return s.runTask(o,r,n)}finally{s.cancelTask(o)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}},HC={};function _u(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zC(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{Hg(()=>{t.callbackScheduled=!1,Dl(t),t.isCheckStableRunning=!0,_u(t),t.isCheckStableRunning=!1})}),Dl(t))}function GC(t){let e=()=>{zC(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,s,o,a)=>{if(WC(a))return r.invokeTask(i,s,o,a);try{return $f(t),r.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Bf(t)}},onInvoke:(r,n,i,s,o,a,c)=>{try{return $f(t),r.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!qC(a)&&e(),Bf(t)}},onHasTask:(r,n,i,s)=>{r.hasTask(i,s),n===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Dl(t),_u(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,n,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Dl(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function $f(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Bf(t){t._nesting--,_u(t)}var Cl=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new G,this.onMicrotaskEmpty=new G,this.onStable=new G,this.onError=new G}run(e,r,n){return e.apply(r,n)}runGuarded(e,r,n){return e.apply(r,n)}runOutsideAngular(e){return e()}runTask(e,r,n,i){return e.apply(r,n)}};function WC(t){return zg(t,"__ignore_ng_zone__")}function qC(t){return zg(t,"__scheduler_tick__")}function zg(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ln=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ln||{}),ZC={destroy(){}};function Zo(t,e){!e&&bb(Zo);let r=e?.injector??y(He);if(!DD(r))return ZC;vi("NgAfterNextRender");let n=r.get(wu),i=n.handler??=new Il,s=e?.phase??ln.MixedReadWrite,o=()=>{i.unregister(c),a()},a=r.get(ru).onDestroy(o),c=mt(r,()=>new El(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var El=class{constructor(e,r){this.phase=e,this.callbackFn=r,this.zone=y(Y),this.errorHandler=y(gt,{optional:!0}),y(mr,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Il=class{constructor(){this.executingCallbacks=!1,this.buckets={[ln.EarlyRead]:new Set,[ln.Write]:new Set,[ln.MixedReadWrite]:new Set,[ln.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let r of e)r.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},wu=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Sl(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=hf(i,a);else if(s==2){let c=a,l=e[++o];n=hf(n,c+": "+l+";")}}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}var Mo=class extends vr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let r=Wt(e);return new _r(r,this.ngModule)}};function Uf(t){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let n=t[r];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:r})}return e}function KC(t){let e=t.toLowerCase();return e==="svg"?Sb:e==="math"?xb:null}var _r=class extends To{get inputs(){let e=this.componentDef,r=e.inputTransforms,n=Uf(e.inputs);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return Uf(this.componentDef.outputs)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=sb(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){let s=W(null);try{i=i||this.ngModule;let o=i instanceof Te?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new al(e,o):e,c=a.get(yr,null);if(c===null)throw new x(407,!1);let l=a.get(UC,null),u=a.get(wu,null),d=a.get(mr,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=n?qD(h,n,this.componentDef.encapsulation,a):fg(h,g,KC(g)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let w=null;m!==null&&(w=au(m,a,!0));let H=pu(0,null,null,1,0,null,null,null,null,null,null),j=Go(null,H,null,v,null,null,f,h,a,null,w);Yl(j);let D,U;try{let ne=this.componentDef,K,pe=null;ne.findHostDirectiveDefs?(K=[],pe=new Map,ne.findHostDirectiveDefs(ne,K,pe),K.push(ne)):K=[ne];let V_=YC(j,m),$_=QC(V_,m,ne,K,j,f,h);U=Rp(H,qt),m&&e0(h,ne,m,n),r!==void 0&&t0(U,this.ngContentSelectors,r),D=XC($_,ne,K,pe,j,[n0]),mu(H,j,null)}finally{Ql()}return new xl(this.componentType,D,Ho(U,j),j,U)}finally{W(s)}}},xl=class extends wl{constructor(e,r,n,i,s){super(),this.location=n,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new mn(i,void 0,!1),this.componentType=e}setInput(e,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;let s=this._rootLView;gu(s[$],s,i,e,r),this.previousInputValues.set(e,r);let o=Yt(this._tNode.index,s);vu(o,1)}}get injector(){return new un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function YC(t,e){let r=t[$],n=qt;return t[n]=e,Wo(r,n,2,"#host",null)}function QC(t,e,r,n,i,s,o){let a=i[$];JC(n,t,e,o);let c=null;e!==null&&(c=au(e,i[hr]));let l=s.rendererFactory.createRenderer(e,r),u=16;r.signals?u=4096:r.onPush&&(u=64);let d=Go(i,Tg(r),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&vl(a,t,n.length-1),qo(i,d),i[t.index]=d}function JC(t,e,r,n){for(let i of t)e.mergedAttrs=ci(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Sl(e,e.mergedAttrs,!0),r!==null&&wg(n,r,e))}function XC(t,e,r,n,i,s){let o=Me(),a=i[$],c=ze(o,i);Rg(a,i,o,r,null,n);for(let u=0;u<r.length;u++){let d=o.directiveStart+u,f=gr(i,a,d,o);gn(f,i)}Og(a,i,o),c&&gn(c,i);let l=gr(i,a,o.directiveStart+o.componentOffset,o);if(t[tt]=i[tt]=l,s!==null)for(let u of s)u(l,e);return Ig(a,o,i),l}function e0(t,e,r,n){if(n)Xc(t,r,["ng-version","18.0.4"]);else{let{attrs:i,classes:s}=ob(e.selectors[0]);i&&Xc(t,r,i),s&&s.length>0&&_g(t,r,s.join(" "))}}function t0(t,e,r){let n=t.projection=[];for(let i=0;i<e.length;i++){let s=r[i];n.push(s!=null?Array.from(s):null)}}function n0(){let t=Me();tu(ee()[$],t)}var kt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=r0;let t=e;return t})();function r0(){let t=Me();return s0(t,ee())}var i0=kt,Gg=class extends i0{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new un(this._hostTNode,this._hostLView)}get parentInjector(){let e=nu(this._hostTNode,this._hostLView);if(Zp(e)){let r=Eo(e,this._hostLView),n=Co(e),i=r[$].data[n+8];return new un(i,r)}else return new un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let r=Hf(this._lContainer);return r!==null&&r[e]||null}get length(){return this._lContainer.length-Ue}createEmbeddedView(e,r,n){let i,s;typeof n=="number"?i=n:n!=null&&(i=n.index,s=n.injector);let o=Ff(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(r||{},s,o);return this.insertImpl(a,i,Pf(this._hostTNode,o)),a}createComponent(e,r,n,i,s){let o=e&&!Db(e),a;if(o)a=r;else{let g=r||{};a=g.index,n=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new _r(Wt(e)),l=n||this.parentInjector;if(!s&&c.ngModule==null){let m=(o?l:this.parentInjector).get(Te,null);m&&(s=m)}let u=Wt(c.componentType??{}),d=Ff(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,s);return this.insertImpl(h.hostView,a,Pf(this._hostTNode,d)),h}insert(e,r){return this.insertImpl(e,r,!0)}insertImpl(e,r,n){let i=e._lView;if(Tb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[De],l=new Gg(c,c[rt],c[De]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(r),o=this._lContainer;return bC(o,i,s,n),e.attachToViewContainerRef(),ap(Hc(o),s,e),e}move(e,r){return this.insert(e,r)}indexOf(e){let r=Hf(this._lContainer);return r!==null?r.indexOf(e):-1}remove(e){let r=this._adjustIndex(e,-1),n=gl(this._lContainer,r);n&&(go(Hc(this._lContainer),r),mg(n[$],n))}detach(e){let r=this._adjustIndex(e,-1),n=gl(this._lContainer,r);return n&&go(Hc(this._lContainer),r)!=null?new mn(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function Hf(t){return t[_o]}function Hc(t){return t[_o]||(t[_o]=[])}function s0(t,e){let r,n=e[t.index];return At(n)?r=n:(r=Ng(n,e,null,t),e[t.index]=r,qo(e,r)),a0(r,e,t,n),new Gg(r,t,e)}function o0(t,e){let r=t[fe],n=r.createComment(""),i=ze(e,t),s=du(r,i);return So(r,s,n,PD(r,i),!1),n}var a0=u0,c0=()=>!1;function l0(t,e,r){return c0(t,e,r)}function u0(t,e,r,n){if(t[dn])return;let i;r.type&8?i=pt(n):i=o0(e,r),t[dn]=i}function d0(t){return typeof t=="function"&&t[tn]!==void 0}function bu(t,e){vi("NgSignals");let r=Ph(t),n=r[tn];return e?.equal&&(n.equal=e.equal),r.set=i=>yc(n,i),r.update=i=>Fh(n,i),r.asReadonly=h0.bind(r),r}function h0(){let t=this[tn];if(t.readonlyFn===void 0){let e=()=>this();e[tn]=t,t.readonlyFn=e}return t.readonlyFn}function Wg(t){return d0(t)&&typeof t.set=="function"}function f0(t){return Object.getPrototypeOf(t.prototype).constructor}function Pt(t){let e=f0(t.type),r=!0,n=[t];for(;e;){let i;if(Zt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(r){n.push(i);let o=t;o.inputs=so(t.inputs),o.inputTransforms=so(t.inputTransforms),o.declaredInputs=so(t.declaredInputs),o.outputs=so(t.outputs);let a=i.hostBindings;a&&y0(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&m0(t,c),l&&v0(t,l),p0(t,i),Sw(t.outputs,i.outputs),Zt(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Pt&&(r=!1)}}e=Object.getPrototypeOf(e)}g0(n)}function p0(t,e){for(let r in e.inputs){if(!e.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;let n=e.inputs[r];if(n!==void 0&&(t.inputs[r]=n,t.declaredInputs[r]=e.declaredInputs[r],e.inputTransforms!==null)){let i=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function g0(t){let e=0,r=null;for(let n=t.length-1;n>=0;n--){let i=t[n];i.hostVars=e+=i.hostVars,i.hostAttrs=ci(i.hostAttrs,r=ci(r,i.hostAttrs))}}function so(t){return t===cr?{}:t===$e?[]:t}function m0(t,e){let r=t.viewQuery;r?t.viewQuery=(n,i)=>{e(n,i),r(n,i)}:t.viewQuery=e}function v0(t,e){let r=t.contentQueries;r?t.contentQueries=(n,i,s)=>{e(n,i,s),r(n,i,s)}:t.contentQueries=e}function y0(t,e){let r=t.hostBindings;r?t.hostBindings=(n,i)=>{e(n,i),r(n,i)}:t.hostBindings=e}function Sr(t){let e=t.inputConfig,r={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];Array.isArray(i)&&i[3]&&(r[n]=i[3])}t.inputTransforms=r}var Kt=class{},hi=class{};var Tl=class extends Kt{constructor(e,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mo(this);let i=gp(e);this._bootstrapComponents=hg(i.bootstrap),this._r3Injector=rg(e,r,[{provide:Kt,useValue:this},{provide:vr,useValue:this.componentFactoryResolver},...n],be(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ml=class extends hi{constructor(e){super(),this.moduleType=e}create(e){return new Tl(this.moduleType,e,[])}};var Ao=class extends Kt{constructor(e){super(),this.componentFactoryResolver=new Mo(this),this.instance=null;let r=new li([...e.providers,{provide:Kt,useValue:this},{provide:vr,useValue:this.componentFactoryResolver}],e.parent||jo(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Du(t,e,r=null){return new Ao({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}function qg(t){return w0(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function _0(t,e){if(Array.isArray(t))for(let r=0;r<t.length;r++)e(t[r]);else{let r=t[Symbol.iterator](),n;for(;!(n=r.next()).done;)e(n.value)}}function w0(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function yi(t,e,r){let n=t[e];return Object.is(n,r)?!1:(t[e]=r,!0)}function b0(t){return(t.flags&32)===32}function D0(t,e,r,n,i,s,o,a,c){let l=e.consts,u=Wo(e,t,4,o||null,a||null);Ag(e,r,u,Do(l,c)),tu(e,u);let d=u.tView=pu(2,u,n,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function C0(t,e,r,n,i,s,o,a,c,l){let u=r+qt,d=e.firstCreatePass?D0(u,e,t,n,i,s,o,a,c):e.data[u];mi(d,!1);let f=E0(e,t,d,r);Xl()&&hu(e,t,f,d),gn(f,t);let h=Ng(f,t,f,d);return t[u]=h,qo(t,h),l0(h,d,t),Wl(d)&&Sg(e,t,d),c!=null&&xg(t,d,l),d}function xr(t,e,r,n,i,s,o,a){let c=ee(),l=Pe(),u=Do(l.consts,s);return C0(c,l,t,e,r,n,i,u,o,a),xr}var E0=I0;function I0(t,e,r,n){return eu(!0),e[fe].createComment("")}function Tr(t,e,r,n){let i=ee(),s=Uo();if(yi(i,s,e)){let o=Pe(),a=Jl();uC(a,i,t,e,r,n)}return Tr}function S0(t,e,r,n){return yi(t,Uo(),r)?e+$l(r)+n:Er}function oo(t,e){return t<<17|e<<2}function vn(t){return t>>17&32767}function x0(t){return(t&2)==2}function T0(t,e){return t&131071|e<<17}function Al(t){return t|2}function wr(t){return(t&131068)>>2}function zc(t,e){return t&-131069|e<<2}function M0(t){return(t&1)===1}function Rl(t){return t|1}function A0(t,e,r,n,i,s){let o=s?e.classBindings:e.styleBindings,a=vn(o),c=wr(o);t[n]=r;let l=!1,u;if(Array.isArray(r)){let d=r;u=d[1],(u===null||gi(d,u)>0)&&(l=!0)}else u=r;if(i)if(c!==0){let f=vn(t[a+1]);t[n+1]=oo(f,a),f!==0&&(t[f+1]=zc(t[f+1],n)),t[a+1]=T0(t[a+1],n)}else t[n+1]=oo(a,0),a!==0&&(t[a+1]=zc(t[a+1],n)),a=n;else t[n+1]=oo(c,0),a===0?a=n:t[c+1]=zc(t[c+1],n),c=n;l&&(t[n+1]=Al(t[n+1])),zf(t,u,n,!0),zf(t,u,n,!1),R0(e,u,t,n,s),o=oo(a,c),s?e.classBindings=o:e.styleBindings=o}function R0(t,e,r,n,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&gi(s,e)>=0&&(r[n+1]=Rl(r[n+1]))}function zf(t,e,r,n){let i=t[r+1],s=e===null,o=n?vn(i):wr(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];O0(c,e)&&(a=!0,t[o+1]=n?Rl(l):Al(l)),o=n?vn(l):wr(l)}a&&(t[r+1]=n?Al(i):Rl(i))}function O0(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?gi(t,e)>=0:!1}function Ge(t,e,r){let n=ee(),i=Uo();if(yi(n,i,e)){let s=Pe(),o=Jl();Mg(s,o,n,t,e,n[fe],r,!1)}return Ge}function Gf(t,e,r,n,i){let s=e.inputs,o=i?"class":"style";gu(t,r,s[o],o,n)}function wn(t,e){return N0(t,e,null,!0),wn}function N0(t,e,r,n){let i=ee(),s=Pe(),o=$b(2);if(s.firstUpdatePass&&P0(s,t,o,n),e!==Er&&yi(i,o,e)){let a=s.data[Dr()];$0(s,a,i,i[fe],t,i[o+1]=B0(e,r),n,o)}}function k0(t,e){return e>=t.expandoStartIndex}function P0(t,e,r,n){let i=t.data;if(i[r+1]===null){let s=i[Dr()],o=k0(t,r);U0(s,n)&&e===null&&!o&&(e=!1),e=F0(i,s,e,n),A0(i,s,e,r,o,n)}}function F0(t,e,r,n){let i=zb(t),s=n?e.residualClasses:e.residualStyles;if(i===null)(n?e.classBindings:e.styleBindings)===0&&(r=Gc(null,t,e,r,n),r=fi(r,e.attrs,n),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(r=Gc(i,t,e,r,n),s===null){let c=L0(t,e,n);c!==void 0&&Array.isArray(c)&&(c=Gc(null,t,e,c[1],n),c=fi(c,e.attrs,n),j0(t,e,n,c))}else s=V0(t,e,n)}return s!==void 0&&(n?e.residualClasses=s:e.residualStyles=s),r}function L0(t,e,r){let n=r?e.classBindings:e.styleBindings;if(wr(n)!==0)return t[vn(n)]}function j0(t,e,r,n){let i=r?e.classBindings:e.styleBindings;t[vn(i)]=n}function V0(t,e,r){let n,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;n=fi(n,o,r)}return fi(n,e.attrs,r)}function Gc(t,e,r,n,i){let s=null,o=r.directiveEnd,a=r.directiveStylingLast;for(a===-1?a=r.directiveStart:a++;a<o&&(s=e[a],n=fi(n,s.hostAttrs,i),s!==t);)a++;return t!==null&&(r.directiveStylingLast=a),n}function fi(t,e,r){let n=r?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ww(t,o,r?!0:e[++s]))}return t===void 0?null:t}function $0(t,e,r,n,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=M0(l)?Wf(c,e,r,i,wr(l),o):void 0;if(!Ro(u)){Ro(s)||x0(l)&&(s=Wf(c,null,r,i,a,o));let d=Ap(Dr(),r);UD(n,o,d,i,s)}}function Wf(t,e,r,n,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=r[i+1];f===Er&&(f=d?$e:void 0);let h=d?Pc(f,n):u===n?f:void 0;if(l&&!Ro(h)&&(h=Pc(c,n)),Ro(h)&&(a=h,o))return a;let g=t[i+1];i=o?vn(g):wr(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Pc(c,n))}return a}function Ro(t){return t!==void 0}function B0(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=be(cu(t)))),t}function U0(t,e){return(t.flags&(e?8:16))!==0}function H0(t,e,r,n,i,s){let o=e.consts,a=Do(o,i),c=Wo(e,t,2,n,a);return Ag(e,r,c,Do(o,s)),c.attrs!==null&&Sl(c,c.attrs,!1),c.mergedAttrs!==null&&Sl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function te(t,e,r,n){let i=ee(),s=Pe(),o=qt+t,a=i[fe],c=s.firstCreatePass?H0(o,s,i,e,r,n):s.data[o],l=z0(s,i,c,a,e,t);i[o]=l;let u=Wl(c);return mi(c,!0),wg(a,l,c),!b0(c)&&Xl()&&hu(s,i,l,c),Rb()===0&&gn(l,i),Ob(),u&&(Sg(s,i,c),Ig(s,c,i)),n!==null&&xg(i,c),te}function ae(){let t=Me();jp()?jb():(t=t.parent,mi(t,!1));let e=t;Pb(e)&&Fb(),Nb();let r=Pe();return r.firstCreatePass&&(tu(r,t),Ip(t)&&r.queries.elementEnd(t)),e.classesWithoutHost!=null&&Qb(e)&&Gf(r,e,ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Jb(e)&&Gf(r,e,ee(),e.stylesWithoutHost,!1),ae}function it(t,e,r,n){return te(t,e,r,n),ae(),it}var z0=(t,e,r,n,i,s)=>(eu(!0),fg(n,i,qb()));function Cu(){return ee()}var Oo="en-US";var G0=Oo;function W0(t){typeof t=="string"&&(G0=t.toLowerCase().replace(/_/g,"-"))}var q0=(t,e,r)=>{};function ce(t,e,r,n){let i=ee(),s=Pe(),o=Me();return Zg(s,i,i[fe],o,t,e,n),ce}function Z0(t,e,r,n){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===r&&i[s+1]===n){let a=e[yo],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function Zg(t,e,r,n,i,s,o){let a=Wl(n),l=t.firstCreatePass&&gC(t),u=e[tt],d=pC(e),f=!0;if(n.type&3||o){let m=ze(n,e),v=o?o(m):m,w=d.length,H=o?D=>o(pt(D[n.index])):n.index,j=null;if(!o&&a&&(j=Z0(t,e,i,n.index)),j!==null){let D=j.__ngLastListenerFn__||j;D.__ngNextListenerFn__=s,j.__ngLastListenerFn__=s,f=!1}else{s=Zf(n,e,u,s),q0(m,i,s);let D=r.listen(v,i,s);d.push(s,D),l&&l.push(i,H,w,w+1)}}else s=Zf(n,e,u,s);let h=n.outputs,g;if(f&&h!==null&&(g=h[i])){let m=g.length;if(m)for(let v=0;v<m;v+=2){let w=g[v],H=g[v+1],U=e[w][H].subscribe(s),ne=d.length;d.push(s,U),l&&l.push(i,n.index,ne,-(ne+1))}}}function qf(t,e,r,n){let i=W(null);try{return ut(6,e,r),r(n)!==!1}catch(s){return Pg(t,s),!1}finally{ut(7,e,r),W(i)}}function Zf(t,e,r,n){return function i(s){if(s===Function)return n;let o=t.componentOffset>-1?Yt(t.index,e):e;vu(o,5);let a=qf(e,r,n,s),c=i.__ngNextListenerFn__;for(;c;)a=qf(e,r,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function Eu(t=1){return Wb(t)}function Fe(t,e=""){let r=ee(),n=Pe(),i=t+qt,s=n.firstCreatePass?Wo(n,i,1,e,null):n.data[i],o=K0(n,r,s,e,t);r[i]=o,Xl()&&hu(n,r,o,s),mi(s,!1)}var K0=(t,e,r,n,i)=>(eu(!0),ED(e[fe],n));function _i(t){return Kg("",t,""),_i}function Kg(t,e,r){let n=ee(),i=S0(n,t,e,r);return i!==Er&&mC(n,Dr(),i),Kg}function Iu(t,e,r){Wg(e)&&(e=e());let n=ee(),i=Uo();if(yi(n,i,e)){let s=Pe(),o=Jl();Mg(s,o,n,t,e,n[fe],r,!1)}return Iu}function Yg(t,e){let r=Wg(t);return r&&t.set(e),r}function Su(t,e){let r=ee(),n=Pe(),i=Me();return Zg(n,r,r[fe],i,t,e),Su}function Y0(t,e,r){let n=Pe();if(n.firstCreatePass){let i=Zt(t);Ol(r,n.data,n.blueprint,i,!0),Ol(e,n.data,n.blueprint,i,!1)}}function Ol(t,e,r,n,i){if(t=we(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ol(t[s],e,r,n,i);else{let s=Pe(),o=ee(),a=Me(),c=dr(t)?t:we(t.provide),l=bp(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(dr(t)||!t.multi){let h=new pn(l,i,E),g=qc(c,e,i?u:u+f,d);g===-1?(ll(Io(a,o),s,c),Wc(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(h),o.push(h)):(r[g]=h,o[g]=h)}else{let h=qc(c,e,u+f,d),g=qc(c,e,u,u+f),m=h>=0&&r[h],v=g>=0&&r[g];if(i&&!v||!i&&!m){ll(Io(a,o),s,c);let w=X0(i?J0:Q0,r.length,i,n,l);!i&&v&&(r[g].providerFactory=w),Wc(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(w),o.push(w)}else{let w=Qg(r[i?g:h],l,!i&&n);Wc(s,t,h>-1?h:g,w)}!i&&n&&v&&r[g].componentProviders++}}}function Wc(t,e,r,n){let i=dr(e),s=pb(e);if(i||s){let c=(s?we(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(r);u===-1?l.push(r,[n,c]):l[u+1].push(n,c)}else l.push(r,c)}}}function Qg(t,e,r){return r&&t.componentProviders++,t.multi.push(e)-1}function qc(t,e,r,n){for(let i=r;i<n;i++)if(e[i]===t)return i;return-1}function Q0(t,e,r,n){return Nl(this.multi,[])}function J0(t,e,r,n){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=gr(r,r[$],this.providerFactory.index,n);s=a.slice(0,o),Nl(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Nl(i,s);return s}function Nl(t,e){for(let r=0;r<t.length;r++){let n=t[r];e.push(n())}return e}function X0(t,e,r,n,i){let s=new pn(t,r,E);return s.multi=[],s.index=e,s.componentProviders=0,Qg(s,i,n&&!r),s}function vt(t,e=[]){return r=>{r.providersResolver=(n,i)=>Y0(n,i?i(t):t,e)}}var eE=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=yp(!1,n.type),s=i.length>0?Du([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(C(Te))});let t=e;return t})();function st(t){vi("NgStandalone"),t.getStandaloneInjector=e=>e.get(eE).getOrCreateStandaloneInjector(t)}var Ko=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Jg=new I("");function bn(t){return!!t&&typeof t.then=="function"}function Xg(t){return!!t&&typeof t.subscribe=="function"}var em=new I(""),tm=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=y(em,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let o=s();if(bn(o))n.push(o);else if(Xg(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});n.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(s=>{this.reject(s)}),n.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xu=new I("");function tE(){kh(()=>{throw new x(600,!1)})}function nE(t){return t.isBoundToModule}var rE=10;function iE(t,e,r){try{let n=r();return bn(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}var Qt=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(ig),this.afterRenderEffectManager=y(wu),this.zonelessEnabled=y(yu),this.externalTestViews=new Set,this.beforeRender=new R,this.afterTick=new R,this.componentTypes=[],this.components=[],this.isStable=y(Cr).hasPendingTasks.pipe(P(n=>!n)),this._injector=y(Te)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let s=n instanceof To;if(!this._injector.get(tm).done){let h=!s&&pp(n),g=!1;throw new x(405,g)}let a;s?a=n:a=this._injector.get(vr).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=nE(a)?void 0:this._injector.get(Kt),l=i||a.selector,u=a.create(He.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(Jg,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Zc(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new x(101,!1);let i=W(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,W(i),this.afterTick.next()}}detectChangesInAttachedViews(n){let i=null;this._injector.destroyed||(i=this._injector.get(yr,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<rE;){let a=s===0;if(n||!a){this.beforeRender.next(a);for(let{_lView:c,notifyErrorHandler:l}of this._views)sE(c,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>di(c))&&(o.execute(),!this.allViews.some(({_lView:c})=>di(c))))break}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Zc(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(xu,[]);[...this._bootstrapListeners,...i].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Zc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zc(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function sE(t,e,r,n){if(!r&&!di(t))return;jg(t,e,r&&!n?0:1)}var kl=class{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}},Tu=(()=>{let e=class e{compileModuleSync(n){return new Ml(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),s=gp(n),o=hg(s.declarations).reduce((a,c)=>{let l=Wt(c);return l&&a.push(new _r(l)),a},[]);return new kl(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oE=(()=>{let e=class e{constructor(){this.zone=y(Y),this.changeDetectionScheduler=y(mr),this.applicationRef=y(Qt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aE=new I("",{factory:()=>!1});function nm({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new Y(im()),[{provide:Y,useFactory:t},{provide:lr,multi:!0,useFactory:()=>{let r=y(oE,{optional:!0});return()=>r.initialize()}},{provide:lr,multi:!0,useFactory:()=>{let r=y(lE);return()=>{r.initialize()}}},{provide:ig,useFactory:cE},e===!0?{provide:Ug,useValue:!0}:[]]}function cE(){let t=y(Y),e=y(gt);return r=>t.runOutsideAngular(()=>e.handleError(r))}function rm(t){let e=t?.ignoreChangesOutsideZone,r=nm({ngZoneFactory:()=>{let n=im(t);return n.shouldCoalesceEventChangeDetection&&vi("NgZone_CoalesceEvent"),new Y(n)},ignoreChangesOutsideZone:e});return Fo([{provide:aE,useValue:!0},{provide:yu,useValue:!1},r])}function im(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var lE=(()=>{let e=class e{constructor(){this.subscription=new q,this.initialized=!1,this.zone=y(Y),this.pendingTasks=y(Cr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Y.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Y.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uE=(()=>{let e=class e{constructor(){this.appRef=y(Qt),this.taskService=y(Cr),this.ngZone=y(Y),this.zonelessEnabled=y(yu),this.disableScheduling=y(Ug,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new q,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cl||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?jf:Hg;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Y.isInAngularZone())}tick(n){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(n)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jf(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dE(){return typeof $localize<"u"&&$localize.locale||Oo}var Mu=new I("",{providedIn:"root",factory:()=>y(Mu,F.Optional|F.SkipSelf)||dE()});var sm=new I("");var ho=null;function hE(t=[],e){return He.create({name:e,providers:[{provide:Lo,useValue:"platform"},{provide:sm,useValue:new Set([()=>ho=null])},...t]})}function fE(t=[]){if(ho)return ho;let e=hE(t);return ho=e,tE(),pE(e),e}function pE(t){t.get(su,null)?.forEach(r=>r())}var ot=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gE;let t=e;return t})();function gE(t){return mE(Me(),ee(),(t&16)===16)}function mE(t,e,r){if($o(t)&&!r){let n=Yt(t.index,e);return new mn(n,n)}else if(t.type&47){let n=e[ft];return new mn(n,e)}return null}var Pl=class{constructor(){}supports(e){return qg(e)}create(e){return new Fl(e)}},vE=(t,e)=>e,Fl=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||vE}forEachItem(e){let r;for(r=this._itHead;r!==null;r=r._next)e(r)}forEachOperation(e){let r=this._itHead,n=this._removalsHead,i=0,s=null;for(;r||n;){let o=!n||r&&r.currentIndex<Kf(n,i,s)?r:n,a=Kf(o,i,s),c=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(r=r._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<s.length?s[f]:s[f]=0,g=h+f;u<=g&&g<l&&(s[f]=h+1)}let d=o.previousIndex;s[d]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)e(r)}forEachAddedItem(e){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)e(r)}forEachMovedItem(e){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)e(r)}forEachRemovedItem(e){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)e(r)}forEachIdentityChange(e){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)e(r)}diff(e){if(e==null&&(e=[]),!qg(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r=this._itHead,n=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),r===null||!Object.is(r.trackById,o)?(r=this._mismatch(r,s,o,a),n=!0):(n&&(r=this._verifyReinsertion(r,s,o,a)),Object.is(r.item,s)||this._addIdentityChange(r,s)),r=r._next}else i=0,_0(e,a=>{o=this._trackByFn(i,a),r===null||!Object.is(r.trackById,o)?(r=this._mismatch(r,a,o,i),n=!0):(n&&(r=this._verifyReinsertion(r,a,o,i)),Object.is(r.item,a)||this._addIdentityChange(r,a)),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,r,n,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,i),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._moveAfter(e,s,i)):e=this._addAfter(new Ll(r,n),s,i)),e}_verifyReinsertion(e,r,n,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let r=e._next;this._addToRemovals(this._unlink(e)),e=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,r,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,r,n),this._addToMoves(e,n),e}_moveAfter(e,r,n){return this._unlink(e),this._insertAfter(e,r,n),this._addToMoves(e,n),e}_addAfter(e,r,n){return this._insertAfter(e,r,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,r,n){let i=r===null?this._itHead:r._next;return e._next=i,e._prev=r,i===null?this._itTail=e:i._prev=e,r===null?this._itHead=e:r._next=e,this._linkedRecords===null&&(this._linkedRecords=new No),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let r=e._prev,n=e._next;return r===null?this._itHead=n:r._next=n,n===null?this._itTail=r:n._prev=r,e}_addToMoves(e,r){return e.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new No),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,r){return e.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ll=class{constructor(e,r){this.item=e,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},jl=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,r){let n;for(n=this._head;n!==null;n=n._nextDup)if((r===null||r<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let r=e._prevDup,n=e._nextDup;return r===null?this._head=n:r._nextDup=n,n===null?this._tail=r:n._prevDup=r,this._head===null}},No=class{constructor(){this.map=new Map}put(e){let r=e.trackById,n=this.map.get(r);n||(n=new jl,this.map.set(r,n)),n.add(e)}get(e,r){let n=e,i=this.map.get(n);return i?i.get(e,r):null}remove(e){let r=e.trackById;return this.map.get(r).remove(e)&&this.map.delete(r),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Kf(t,e,r){let n=t.previousIndex;if(n===null)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+e+i}function Yf(){return new Yo([new Pl])}var Yo=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,i){if(i!=null){let s=i.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Yf()),deps:[[e,new op,new Ul]]}}find(n){let i=this.factories.find(s=>s.supports(n));if(i!=null)return i;throw new x(901,!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:Yf});let t=e;return t})();function om(t){try{let{rootComponent:e,appProviders:r,platformProviders:n}=t,i=fE(n),s=[nm({}),{provide:mr,useExisting:uE},...r||[]],a=new Ao({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Y);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(gt,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:h=>{l.handleError(h)}})});let d=()=>a.destroy(),f=i.get(sm);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),iE(l,c,()=>{let h=a.get(tm);return h.runInitializers(),h.donePromise.then(()=>{let g=a.get(Mu,Oo);W0(g||Oo);let m=a.get(Qt);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}function Ft(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Au(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function am(t,e){let r=Wt(t),n=e.elementInjector||jo();return new _r(r).create(n,e.projectableNodes,e.hostElement,e.environmentInjector)}var fm=null;function Lt(){return fm}function pm(t){fm??=t}var Qo=class{};var ie=new I(""),gm=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>y(wE),providedIn:"platform"});let t=e;return t})();var wE=(()=>{let e=class e extends gm{constructor(){super(),this._doc=y(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Lt().getBaseHref(this._doc)}onPopState(n){let i=Lt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Lt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,s){this._history.pushState(n,i,s)}replaceState(n,i,s){this._history.replaceState(n,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function mm(t,e){if(t.length==0)return e;if(e.length==0)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,r==2?t+e.substring(1):r==1?t+e:t+"/"+e}function cm(t){let e=t.match(/#|\?|$/),r=e&&e.index||t.length,n=r-(t[r-1]==="/"?1:0);return t.slice(0,n)+t.slice(r)}function Dn(t){return t&&t[0]!=="?"?"?"+t:t}var Xo=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>y(vm),providedIn:"root"});let t=e;return t})(),bE=new I(""),vm=(()=>{let e=class e extends Xo{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??y(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return mm(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+Dn(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${i}${s}`:i}pushState(n,i,s,o){let a=this.prepareExternalUrl(s+Dn(o));this._platformLocation.pushState(n,i,a)}replaceState(n,i,s,o){let a=this.prepareExternalUrl(s+Dn(o));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(C(gm),C(bE,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wi=(()=>{let e=class e{constructor(n){this._subject=new G,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=EE(cm(lm(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Dn(i))}normalize(n){return e.stripTrailingSlash(CE(this._basePath,lm(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",s=null){this._locationStrategy.pushState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dn(i)),s)}replaceState(n,i="",s=null){this._locationStrategy.replaceState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(s=>s(n,i))}subscribe(n,i,s){return this._subject.subscribe({next:n,error:i,complete:s})}};e.normalizeQueryParams=Dn,e.joinWithSlash=mm,e.stripTrailingSlash=cm,e.\u0275fac=function(i){return new(i||e)(C(Xo))},e.\u0275prov=b({token:e,factory:()=>DE(),providedIn:"root"});let t=e;return t})();function DE(){return new wi(C(Xo))}function CE(t,e){if(!t||!e.startsWith(t))return e;let r=e.substring(t.length);return r===""||["/",";","?","#"].includes(r[0])?r:e}function lm(t){return t.replace(/\/index.html$/,"")}function EE(t){if(new RegExp("^(https?:)?//").test(t)){let[,r]=t.split(/\/\/[^\/]+/);return r}return t}function ym(t,e){e=encodeURIComponent(e);for(let r of t.split(";")){let n=r.indexOf("="),[i,s]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ou=/\s+/,um=[],_m=(()=>{let e=class e{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=um,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Ou):um}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Ou):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let s=this.stateMap.get(n);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],s=n[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(Ou).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(E(ve),E(Nt))},e.\u0275dir=oe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Nu=class{constructor(e,r,n,i){this.$implicit=e,this.ngForOf=r,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},wm=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,s){this._viewContainer=n,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Nu(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),dm(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);dm(o,s)})}static ngTemplateContextGuard(n,i){return!0}};e.\u0275fac=function(i){return new(i||e)(E(kt),E(Ir),E(Yo))},e.\u0275dir=oe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function dm(t,e){t.context.$implicit=e.item}var bm=(()=>{let e=class e{constructor(n,i){this._viewContainer=n,this._context=new ku,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){hm("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){hm("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}};e.\u0275fac=function(i){return new(i||e)(E(kt),E(Ir))},e.\u0275dir=oe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),ku=class{constructor(){this.$implicit=null,this.ngIf=null}};function hm(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${be(e)}'.`)}var Fu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Ne({});let t=e;return t})(),Lu="browser",IE="server";function Dm(t){return t===Lu}function ju(t){return t===IE}var Jo=class{};var Bu=class extends Qo{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Uu=class t extends Bu{static makeCurrent(){pm(new t)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=xE();return r==null?null:TE(r)}resetBaseElement(){bi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ym(document.cookie,e)}},bi=null;function xE(){return bi=bi||document.querySelector("base"),bi?bi.getAttribute("href"):null}function TE(t){return new URL(t,document.baseURI).pathname}var ME=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Hu=new I(""),Sm=(()=>{let e=class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,s){return this._findPluginFor(i).addEventListener(n,i,s)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new x(5101,!1);return this._eventNameToPlugin.set(n,i),i}};e.\u0275fac=function(i){return new(i||e)(C(Hu),C(Y))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),ea=class{constructor(e){this._doc=e}},Vu="ng-app-id",xm=(()=>{let e=class e{constructor(n,i,s,o={}){this.doc=n,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ju(o),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(s=>s.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Vu}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(n,i){let s=this.styleRef;if(s.has(n)){let o=s.get(n);return o.usage+=i,o.usage}return s.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===n)return s.delete(i),o.removeAttribute(Vu),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Vu,this.appId),n.appendChild(a),a}}addStyleToHost(n,i){let s=this.getStyleElement(n,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(C(ie),C(iu),C(ou,8),C(Ot))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),$u={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gu=/%COMP%/g,Tm="%COMP%",AE=`_nghost-${Tm}`,RE=`_ngcontent-${Tm}`,OE=!0,NE=new I("",{providedIn:"root",factory:()=>OE});function kE(t){return RE.replace(Gu,t)}function PE(t){return AE.replace(Gu,t)}function Mm(t,e){return e.map(r=>r.replace(Gu,t))}var Cm=(()=>{let e=class e{constructor(n,i,s,o,a,c,l,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ju(c),this.defaultRenderer=new Di(n,a,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ht.ShadowDom&&(i=z(_({},i),{encapsulation:ht.Emulated}));let s=this.getOrCreateRenderer(n,i);return s instanceof ta?s.applyToHost(n):s instanceof Ci&&s.applyStyles(),s}getOrCreateRenderer(n,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case ht.Emulated:o=new ta(l,u,i,this.appId,d,a,c,f);break;case ht.ShadowDom:return new zu(l,u,n,i,a,c,this.nonce,f);default:o=new Ci(l,u,i,d,a,c,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(C(Sm),C(xm),C(iu),C(NE),C(ie),C(Ot),C(Y),C(ou))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Di=class{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS($u[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(Em(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(Em(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new x(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;let s=$u[i];s?e.setAttributeNS(s,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){let i=$u[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(Tt.DashCase|Tt.Important)?e.style.setProperty(r,n,i&Tt.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&Tt.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e!=null&&(e[r]=n)}setValue(e,r){e.nodeValue=r}listen(e,r,n){if(typeof e=="string"&&(e=Lt().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function Em(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var zu=class extends Di{constructor(e,r,n,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Mm(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ci=class extends Di{constructor(e,r,n,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=c?Mm(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ta=class extends Ci{constructor(e,r,n,i,s,o,a,c){let l=i+"-"+n.id;super(e,r,n,s,o,a,c,l),this.contentAttr=kE(l),this.hostAttr=PE(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}},FE=(()=>{let e=class e extends ea{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,s){return n.addEventListener(i,s,!1),()=>this.removeEventListener(n,i,s)}removeEventListener(n,i,s){return n.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(C(ie))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Im=["alt","control","meta","shift"],LE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jE={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},VE=(()=>{let e=class e extends ea{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lt().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let i=n.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Im.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(n,i){let s=LE[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Im.forEach(a=>{if(a!==s){let c=jE[a];c(n)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(n,i,s){return o=>{e.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(i){return new(i||e)(C(ie))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function Am(t,e){return om(_({rootComponent:t},$E(e)))}function $E(t){return{appProviders:[...GE,...t?.providers??[]],platformProviders:zE}}function BE(){Uu.makeCurrent()}function UE(){return new gt}function HE(){return ug(document),document}var zE=[{provide:Ot,useValue:Lu},{provide:su,useValue:BE,multi:!0},{provide:ie,useFactory:HE,deps:[]}];var GE=[{provide:Lo,useValue:"root"},{provide:gt,useFactory:UE,deps:[]},{provide:Hu,useClass:FE,multi:!0,deps:[ie,Y,Ot]},{provide:Hu,useClass:VE,multi:!0,deps:[ie]},Cm,xm,Sm,{provide:yr,useExisting:Cm},{provide:Jo,useClass:ME,deps:[]},[]];var Rm=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(i){return new(i||e)(C(ie))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var O="primary",$i=Symbol("RouteTitle"),Yu=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function kr(t){return new Yu(t)}function KE(t,e,r){let n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let i={};for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function YE(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!yt(t[r],e[r]))return!1;return!0}function yt(t,e){let r=t?Qu(t):void 0,n=e?Qu(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let s=0;s<r.length;s++)if(i=r[s],!Vm(t[i],e[i]))return!1;return!0}function Qu(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Vm(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let r=[...t].sort(),n=[...e].sort();return r.every((i,s)=>n[s]===i)}else return t===e}function $m(t){return t.length>0?t[t.length-1]:null}function Xt(t){return Ys(t)?t:bn(t)?re(Promise.resolve(t)):M(t)}var QE={exact:Um,subset:Hm},Bm={exact:JE,subset:XE,ignored:()=>!0};function Om(t,e,r){return QE[r.paths](t.root,e.root,r.matrixParams)&&Bm[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function JE(t,e){return yt(t,e)}function Um(t,e,r){if(!En(t.segments,e.segments)||!ia(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!Um(t.children[n],e.children[n],r))return!1;return!0}function XE(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>Vm(t[r],e[r]))}function Hm(t,e,r){return zm(t,e,e.segments,r)}function zm(t,e,r,n){if(t.segments.length>r.length){let i=t.segments.slice(0,r.length);return!(!En(i,r)||e.hasChildren()||!ia(i,r,n))}else if(t.segments.length===r.length){if(!En(t.segments,r)||!ia(t.segments,r,n))return!1;for(let i in e.children)if(!t.children[i]||!Hm(t.children[i],e.children[i],n))return!1;return!0}else{let i=r.slice(0,t.segments.length),s=r.slice(t.segments.length);return!En(t.segments,i)||!ia(t.segments,i,n)||!t.children[O]?!1:zm(t.children[O],e,s,n)}}function ia(t,e,r){return e.every((n,i)=>Bm[r](t[i].parameters,n.parameters))}var Jt=class{constructor(e=new Z([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=kr(this.queryParams),this._queryParamMap}toString(){return nI.serialize(this)}},Z=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sa(this)}},Cn=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=kr(this.parameters),this._parameterMap}toString(){return Wm(this)}};function eI(t,e){return En(t,e)&&t.every((r,n)=>yt(r.parameters,e[n].parameters))}function En(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function tI(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===O&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==O&&(r=r.concat(e(i,n)))}),r}var Cd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new Ai,providedIn:"root"});let t=e;return t})(),Ai=class{parse(e){let r=new Xu(e);return new Jt(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${Ei(e.root,!0)}`,n=sI(e.queryParams),i=typeof e.fragment=="string"?`#${rI(e.fragment)}`:"";return`${r}${n}${i}`}},nI=new Ai;function sa(t){return t.segments.map(e=>Wm(e)).join("/")}function Ei(t,e){if(!t.hasChildren())return sa(t);if(e){let r=t.children[O]?Ei(t.children[O],!1):"",n=[];return Object.entries(t.children).forEach(([i,s])=>{i!==O&&n.push(`${i}:${Ei(s,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=tI(t,(n,i)=>i===O?[Ei(t.children[O],!1)]:[`${i}:${Ei(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[O]!=null?`${sa(t)}/${r[0]}`:`${sa(t)}/(${r.join("//")})`}}function Gm(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function na(t){return Gm(t).replace(/%3B/gi,";")}function rI(t){return encodeURI(t)}function Ju(t){return Gm(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oa(t){return decodeURIComponent(t)}function Nm(t){return oa(t.replace(/\+/g,"%20"))}function Wm(t){return`${Ju(t.path)}${iI(t.parameters)}`}function iI(t){return Object.entries(t).map(([e,r])=>`;${Ju(e)}=${Ju(r)}`).join("")}function sI(t){let e=Object.entries(t).map(([r,n])=>Array.isArray(n)?n.map(i=>`${na(r)}=${na(i)}`).join("&"):`${na(r)}=${na(n)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var oI=/^[^\/()?;#]+/;function Wu(t){let e=t.match(oI);return e?e[0]:""}var aI=/^[^\/()?;=#]+/;function cI(t){let e=t.match(aI);return e?e[0]:""}var lI=/^[^=?&#]+/;function uI(t){let e=t.match(lI);return e?e[0]:""}var dI=/^[^&#]+/;function hI(t){let e=t.match(dI);return e?e[0]:""}var Xu=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Z([],{}):new Z([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[O]=new Z(e,r)),n}parseSegment(){let e=Wu(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new Cn(oa(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=cI(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=Wu(this.remaining);i&&(n=i,this.capture(n))}e[oa(r)]=oa(n)}parseQueryParam(e){let r=uI(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let o=hI(this.remaining);o&&(n=o,this.capture(n))}let i=Nm(r),s=Nm(n);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Wu(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=O);let o=this.parseChildren();r[s]=Object.keys(o).length===1?o[O]:new Z([],o),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};function qm(t){return t.segments.length>0?new Z([],{[O]:t}):t}function Zm(t){let e={};for(let[n,i]of Object.entries(t.children)){let s=Zm(i);if(n===O&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}let r=new Z(t.segments,e);return fI(r)}function fI(t){if(t.numberOfChildren===1&&t.children[O]){let e=t.children[O];return new Z(t.segments.concat(e.segments),e.children)}return t}function Ri(t){return t instanceof Jt}function pI(t,e,r=null,n=null){let i=Km(t);return Ym(i,e,r,n)}function Km(t){let e;function r(s){let o={};for(let c of s.children){let l=r(c);o[c.outlet]=l}let a=new Z(s.url,o);return s===t&&(e=a),a}let n=r(t.root),i=qm(n);return e??i}function Ym(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return qu(i,i,i,r,n);let s=gI(e);if(s.toRoot())return qu(i,i,new Z([],{}),r,n);let o=mI(s,i,t),a=o.processChildren?xi(o.segmentGroup,o.index,s.commands):Jm(o.segmentGroup,o.index,s.commands);return qu(i,o.segmentGroup,a,r,n)}function aa(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Oi(t){return typeof t=="object"&&t!=null&&t.outlets}function qu(t,e,r,n,i){let s={};n&&Object.entries(n).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=r:o=Qm(t,e,r);let a=qm(Zm(o));return new Jt(a,s,i)}function Qm(t,e,r){let n={};return Object.entries(t.children).forEach(([i,s])=>{s===e?n[i]=r:n[i]=Qm(s,e,r)}),new Z(t.segments,n)}var ca=class{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&aa(n[0]))throw new x(4003,!1);let i=n.find(Oi);if(i&&i!==$m(n))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gI(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ca(!0,0,t);let e=0,r=!1,n=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?r=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ca(r,e,n)}var Rr=class{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}};function mI(t,e,r){if(t.isAbsolute)return new Rr(e,!0,0);if(!r)return new Rr(e,!1,NaN);if(r.parent===null)return new Rr(r,!0,0);let n=aa(t.commands[0])?0:1,i=r.segments.length-1+n;return vI(r,i,t.numberOfDoubleDots)}function vI(t,e,r){let n=t,i=e,s=r;for(;s>i;){if(s-=i,n=n.parent,!n)throw new x(4005,!1);i=n.segments.length}return new Rr(n,!1,i-s)}function yI(t){return Oi(t[0])?t[0].outlets:{[O]:t}}function Jm(t,e,r){if(t??=new Z([],{}),t.segments.length===0&&t.hasChildren())return xi(t,e,r);let n=_I(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let s=new Z(t.segments.slice(0,n.pathIndex),{});return s.children[O]=new Z(t.segments.slice(n.pathIndex),t.children),xi(s,0,i)}else return n.match&&i.length===0?new Z(t.segments,{}):n.match&&!t.hasChildren()?ed(t,e,r):n.match?xi(t,0,i):ed(t,e,r)}function xi(t,e,r){if(r.length===0)return new Z(t.segments,{});{let n=yI(r),i={};if(Object.keys(n).some(s=>s!==O)&&t.children[O]&&t.numberOfChildren===1&&t.children[O].segments.length===0){let s=xi(t.children[O],e,r);return new Z(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Jm(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{n[s]===void 0&&(i[s]=o)}),new Z(t.segments,i)}}function _I(t,e,r){let n=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return s;let o=t.segments[i],a=r[n];if(Oi(a))break;let c=`${a}`,l=n<r.length-1?r[n+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Pm(c,l,o))return s;n+=2}else{if(!Pm(c,{},o))return s;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function ed(t,e,r){let n=t.segments.slice(0,e),i=0;for(;i<r.length;){let s=r[i];if(Oi(s)){let c=wI(s.outlets);return new Z(n,c)}if(i===0&&aa(r[0])){let c=t.segments[e];n.push(new Cn(c.path,km(r[0]))),i++;continue}let o=Oi(s)?s.outlets[O]:`${s}`,a=i<r.length-1?r[i+1]:null;o&&a&&aa(a)?(n.push(new Cn(o,km(a))),i+=2):(n.push(new Cn(o,{})),i++)}return new Z(n,{})}function wI(t){let e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=ed(new Z([],{}),0,n))}),e}function km(t){let e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function Pm(t,e,r){return t==r.path&&yt(e,r.parameters)}var Ti="imperative",ge=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ge||{}),We=class{constructor(e,r){this.id=e,this.url=r}},Ni=class extends We{constructor(e,r,n="imperative",i=null){super(e,r),this.type=ge.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},In=class extends We{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=ge.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},je=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(je||{}),td=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(td||{}),jt=class extends We{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=ge.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Sn=class extends We{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=ge.NavigationSkipped}},ki=class extends We{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=ge.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},la=class extends We{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=ge.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nd=class extends We{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=ge.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rd=class extends We{constructor(e,r,n,i,s){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s,this.type=ge.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},id=class extends We{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=ge.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sd=class extends We{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=ge.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},od=class{constructor(e){this.route=e,this.type=ge.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ad=class{constructor(e){this.route=e,this.type=ge.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},cd=class{constructor(e){this.snapshot=e,this.type=ge.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ld=class{constructor(e){this.snapshot=e,this.type=ge.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ud=class{constructor(e){this.snapshot=e,this.type=ge.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dd=class{constructor(e){this.snapshot=e,this.type=ge.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Pi=class{},Pr=class{constructor(e,r){this.url=e,this.navigationBehaviorOptions=r}};var hd=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new ma(this.injector),this.attachRef=null}},ma=(()=>{let e=class e{constructor(n){this.parentInjector=n,this.contexts=new Map}onChildOutletCreated(n,i){let s=this.getOrCreateContext(n);s.outlet=i,this.contexts.set(n,s)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new hd(this.parentInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(i){return new(i||e)(C(Te))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ua=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=fd(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){let r=fd(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=pd(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pd(e,this._root).map(r=>r.value)}};function fd(t,e){if(t===e.value)return e;for(let r of e.children){let n=fd(t,r);if(n)return n}return null}function pd(t,e){if(t===e.value)return[e];for(let r of e.children){let n=pd(t,r);if(n.length)return n.unshift(e),n}return[]}var Le=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function Ar(t){let e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}var da=class extends ua{constructor(e,r){super(e),this.snapshot=r,Ed(this,e)}toString(){return this.snapshot.toString()}};function Xm(t){let e=bI(t),r=new de([new Cn("",{})]),n=new de({}),i=new de({}),s=new de({}),o=new de(""),a=new Fr(r,n,s,o,i,O,t,e.root);return a.snapshot=e.root,new da(new Le(a,[]),e)}function bI(t){let e={},r={},n={},i="",s=new Or([],e,n,i,r,O,t,null,{});return new fa("",new Le(s,[]))}var Fr=class{constructor(e,r,n,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(P(l=>l[$i]))??M(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(P(e=>kr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(P(e=>kr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ha(t,e,r="emptyOnly"){let n,{routeConfig:i}=t;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:_(_({},e.params),t.params),data:_(_({},e.data),t.data),resolve:_(_(_(_({},t.data),e.data),i?.data),t._resolvedData)}:n={params:_({},t.params),data:_({},t.data),resolve:_(_({},t.data),t._resolvedData??{})},i&&tv(i)&&(n.resolve[$i]=i.title),n}var Or=class{get title(){return this.data?.[$i]}constructor(e,r,n,i,s,o,a,c,l){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=kr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=kr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},fa=class extends ua{constructor(e,r){super(r),this.url=e,Ed(this,r)}toString(){return ev(this._root)}};function Ed(t,e){e.value._routerState=t,e.children.forEach(r=>Ed(t,r))}function ev(t){let e=t.children.length>0?` { ${t.children.map(ev).join(", ")} } `:"";return`${t.value}${e}`}function Zu(t){if(t.snapshot){let e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,yt(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),yt(e.params,r.params)||t.paramsSubject.next(r.params),YE(e.url,r.url)||t.urlSubject.next(r.url),yt(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function gd(t,e){let r=yt(t.params,e.params)&&eI(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||gd(t.parent,e.parent))}function tv(t){return typeof t.title=="string"||t.title===null}var DI=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=O,this.activateEvents=new G,this.deactivateEvents=new G,this.attachEvents=new G,this.detachEvents=new G,this.parentContexts=y(ma),this.location=y(kt),this.changeDetector=y(ot),this.inputBinder=y(Id,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:s}=n.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new md(n,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=oe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rt]});let t=e;return t})(),md=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===Fr?this.route:e===ma?this.childContexts:this.parent.get(e,r)}},Id=new I("");function CI(t,e,r){let n=Fi(t,e._root,r?r._root:void 0);return new da(n,e)}function Fi(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=e.value;let i=EI(t,e,r);return new Le(n,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Fi(t,a)),o}}let n=II(e.value),i=e.children.map(s=>Fi(t,s));return new Le(n,i)}}function EI(t,e,r){return e.children.map(n=>{for(let i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return Fi(t,n,i);return Fi(t,n)})}function II(t){return new Fr(new de(t.url),new de(t.params),new de(t.queryParams),new de(t.fragment),new de(t.data),t.outlet,t.component,t)}var Li=class{constructor(e,r){this.redirectTo=e,this.navigationBehaviorOptions=r}},nv="ngNavigationCancelingError";function pa(t,e){let{redirectTo:r,navigationBehaviorOptions:n}=Ri(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rv(!1,je.Redirect);return i.url=r,i.navigationBehaviorOptions=n,i}function rv(t,e){let r=new Error(`NavigationCancelingError: ${t||""}`);return r[nv]=!0,r.cancellationCode=e,r}function SI(t){return iv(t)&&Ri(t.url)}function iv(t){return!!t&&t[nv]}var xI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=nt({type:e,selectors:[["ng-component"]],standalone:!0,features:[st],decls:1,vars:0,template:function(i,s){i&1&&it(0,"router-outlet")},dependencies:[DI],encapsulation:2});let t=e;return t})();function TI(t,e){return t.providers&&!t._injector&&(t._injector=Du(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Sd(t){let e=t.children&&t.children.map(Sd),r=e?z(_({},t),{children:e}):_({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==O&&(r.component=xI),r}function at(t){return t.outlet||O}function MI(t,e){let r=t.filter(n=>at(n)===e);return r.push(...t.filter(n=>at(n)!==e)),r}function Bi(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var AI=(t,e,r,n)=>P(i=>(new vd(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)),vd=class{constructor(e,r,n,i,s){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),Zu(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){let i=Ar(r);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],n),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,r,n){let i=e.value,s=r?r.value:null;if(i===s)if(i.component){let o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(e,r,o.children)}else this.deactivateChildRoutes(e,r,n);else s&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,s=Ar(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,s=Ar(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){let i=Ar(r);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],n),this.forwardEvent(new dd(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ld(e.value.snapshot))}activateRoutes(e,r,n){let i=e.value,s=r?r.value:null;if(Zu(i),i===s)if(i.component){let o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,o.children)}else this.activateChildRoutes(e,r,n);else if(i.component){let o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Zu(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Bi(i.snapshot);o.attachRef=null,o.route=i,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}},ga=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Nr=class{constructor(e,r){this.component=e,this.route=r}};function RI(t,e,r){let n=t._root,i=e?e._root:null;return Ii(n,i,r,[n.value])}function OI(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function jr(t,e){let r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!Xf(t)?t:e.get(t):n}function Ii(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ar(e);return t.children.forEach(o=>{NI(o,s[o.value.outlet],r,n.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Mi(a,r.getContext(o),i)),i}function NI(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=r?r.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=kI(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ga(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ii(t,e,a?a.children:null,n,i):Ii(t,e,r,n,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Nr(a.outlet.component,o))}else o&&Mi(e,a,i),i.canActivateChecks.push(new ga(n)),s.component?Ii(t,null,a?a.children:null,n,i):Ii(t,null,r,n,i);return i}function kI(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!En(t.url,e.url);case"pathParamsOrQueryParamsChange":return!En(t.url,e.url)||!yt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gd(t,e)||!yt(t.queryParams,e.queryParams);case"paramsChange":default:return!gd(t,e)}}function Mi(t,e,r){let n=Ar(t),i=t.value;Object.entries(n).forEach(([s,o])=>{i.component?e?Mi(o,e.children.getContext(s),r):Mi(o,null,r):Mi(o,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new Nr(e.outlet.component,i)):r.canDeactivateChecks.push(new Nr(null,i)):r.canDeactivateChecks.push(new Nr(null,i))}function Ui(t){return typeof t=="function"}function PI(t){return typeof t=="boolean"}function FI(t){return t&&Ui(t.canLoad)}function LI(t){return t&&Ui(t.canActivate)}function jI(t){return t&&Ui(t.canActivateChild)}function VI(t){return t&&Ui(t.canDeactivate)}function $I(t){return t&&Ui(t.canMatch)}function sv(t){return t instanceof It||t?.name==="EmptyError"}var ra=Symbol("INITIAL_VALUE");function Lr(){return xe(t=>Xs(t.map(e=>e.pipe(Je(1),an(ra)))).pipe(P(e=>{for(let r of e)if(r!==!0){if(r===ra)return ra;if(r===!1||BI(r))return r}return!0}),Oe(e=>e!==ra),Je(1)))}function BI(t){return Ri(t)||t instanceof Li}function UI(t,e){return se(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=r;return o.length===0&&s.length===0?M(z(_({},r),{guardsResult:!0})):HI(o,n,i,t).pipe(se(a=>a&&PI(a)?zI(n,s,t,e):M(a)),P(a=>z(_({},r),{guardsResult:a})))})}function HI(t,e,r,n){return re(t).pipe(se(i=>KI(i.component,i.route,r,e,n)),lt(i=>i!==!0,!0))}function zI(t,e,r,n){return re(e).pipe(er(i=>Xn(WI(i.route.parent,n),GI(i.route,n),ZI(t,i.path,r),qI(t,i.route,r))),lt(i=>i!==!0,!0))}function GI(t,e){return t!==null&&e&&e(new ud(t)),M(!0)}function WI(t,e){return t!==null&&e&&e(new cd(t)),M(!0)}function qI(t,e,r){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return M(!0);let i=n.map(s=>eo(()=>{let o=Bi(e)??r,a=jr(s,o),c=LI(a)?a.canActivate(e,t):mt(o,()=>a(e,t));return Xt(c).pipe(lt())}));return M(i).pipe(Lr())}function ZI(t,e,r){let n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>OI(o)).filter(o=>o!==null).map(o=>eo(()=>{let a=o.guards.map(c=>{let l=Bi(o.node)??r,u=jr(c,l),d=jI(u)?u.canActivateChild(n,t):mt(l,()=>u(n,t));return Xt(d).pipe(lt())});return M(a).pipe(Lr())}));return M(s).pipe(Lr())}function KI(t,e,r,n,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return M(!0);let o=s.map(a=>{let c=Bi(e)??i,l=jr(a,c),u=VI(l)?l.canDeactivate(t,e,r,n):mt(c,()=>l(t,e,r,n));return Xt(u).pipe(lt())});return M(o).pipe(Lr())}function YI(t,e,r,n){let i=e.canLoad;if(i===void 0||i.length===0)return M(!0);let s=i.map(o=>{let a=jr(o,t),c=FI(a)?a.canLoad(e,r):mt(t,()=>a(e,r));return Xt(c)});return M(s).pipe(Lr(),ov(n))}function ov(t){return Ec(he(e=>{if(typeof e!="boolean")throw pa(t,e)}),P(e=>e===!0))}function QI(t,e,r,n){let i=e.canMatch;if(!i||i.length===0)return M(!0);let s=i.map(o=>{let a=jr(o,t),c=$I(a)?a.canMatch(e,r):mt(t,()=>a(e,r));return Xt(c)});return M(s).pipe(Lr(),ov(n))}var ji=class{constructor(e){this.segmentGroup=e||null}},Vi=class extends Error{constructor(e){super(),this.urlTree=e}};function Mr(t){return Qn(new ji(t))}function JI(t){return Qn(new x(4e3,!1))}function XI(t){return Qn(rv(!1,je.GuardRejected))}var yd=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return M(n);if(i.numberOfChildren>1||!i.children[O])return JI(`${e.redirectTo}`);i=i.children[O]}}applyRedirectCommands(e,r,n,i,s){if(typeof r!="string"){let a=r,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:g,title:m}=i,v=mt(s,()=>a({params:h,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:m}));if(v instanceof Jt)throw new Vi(v);r=v}let o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r[0]==="/")throw new Vi(o);return o}applyRedirectCreateUrlTree(e,r,n,i){let s=this.createSegmentGroup(e,r.root,n,i);return new Jt(s,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let n={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);n[i]=r[a]}else n[i]=s}),n}createSegmentGroup(e,r,n,i){let s=this.createSegments(e,r.segments,n,i),o={};return Object.entries(r.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,n,i)}),new Z(s,o)}createSegments(e,r,n,i){return r.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,n))}findPosParam(e,r,n){let i=n[r.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,r){let n=0;for(let i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}},_d={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eS(t,e,r,n,i){let s=xd(t,e,r);return s.matched?(n=TI(e,n),QI(n,e,r,i).pipe(P(o=>o===!0?s:_({},_d)))):M(s)}function xd(t,e,r){if(e.path==="**")return tS(r);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?_({},_d):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||KE)(r,t,e);if(!i)return _({},_d);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?_(_({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function tS(t){return{matched:!0,parameters:t.length>0?$m(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Fm(t,e,r,n){return r.length>0&&iS(t,r,n)?{segmentGroup:new Z(e,rS(n,new Z(r,t.children))),slicedSegments:[]}:r.length===0&&sS(t,r,n)?{segmentGroup:new Z(t.segments,nS(t,r,n,t.children)),slicedSegments:r}:{segmentGroup:new Z(t.segments,t.children),slicedSegments:r}}function nS(t,e,r,n){let i={};for(let s of r)if(va(t,e,s)&&!n[at(s)]){let o=new Z([],{});i[at(s)]=o}return _(_({},n),i)}function rS(t,e){let r={};r[O]=e;for(let n of t)if(n.path===""&&at(n)!==O){let i=new Z([],{});r[at(n)]=i}return r}function iS(t,e,r){return r.some(n=>va(t,e,n)&&at(n)!==O)}function sS(t,e,r){return r.some(n=>va(t,e,n))}function va(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function oS(t,e,r,n){return at(t)!==n&&(n===O||!va(e,r,t))?!1:xd(e,t,r).matched}function aS(t,e,r){return e.length===0&&!t.children[r]}var wd=class{};function cS(t,e,r,n,i,s,o="emptyOnly"){return new bd(t,e,r,n,i,o,s).recognize()}var lS=31,bd=class{constructor(e,r,n,i,s,o,a){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new yd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,`'${e.segmentGroup}'`)}recognize(){let e=Fm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(P(({children:r,rootSnapshot:n})=>{let i=new Le(n,r),s=new fa("",i),o=pI(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let r=new Or([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),O,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,O,r).pipe(P(n=>({children:n,rootSnapshot:r})),Bt(n=>{if(n instanceof Vi)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof ji?this.noMatchError(n):n}))}processSegmentGroup(e,r,n,i,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n,s):this.processSegment(e,r,n,n.segments,i,!0,s).pipe(P(o=>o instanceof Le?[o]:[]))}processChildren(e,r,n,i){let s=[];for(let o of Object.keys(n.children))o==="primary"?s.unshift(o):s.push(o);return re(s).pipe(er(o=>{let a=n.children[o],c=MI(r,o);return this.processSegmentGroup(e,c,a,o,i)}),kc((o,a)=>(o.push(...a),o)),Ut(null),Nc(),se(o=>{if(o===null)return Mr(n);let a=av(o);return uS(a),M(a)}))}processSegment(e,r,n,i,s,o,a){return re(r).pipe(er(c=>this.processSegmentAgainstRoute(c._injector??e,r,c,n,i,s,o,a).pipe(Bt(l=>{if(l instanceof ji)return M(null);throw l}))),lt(c=>!!c),Bt(c=>{if(sv(c))return aS(n,i,s)?M(new wd):Mr(n);throw c}))}processSegmentAgainstRoute(e,r,n,i,s,o,a,c){return oS(n,i,s,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,s,o,c):Mr(i):Mr(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=xd(r,i,s);if(!c)return Mr(r);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lS&&(this.allowRedirects=!1));let h=new Or(s,l,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Lm(i),at(i),i.component??i._loadedComponent??null,i,jm(i)),g=ha(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(se(v=>this.processSegment(e,n,r,v.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,r,n,i,s,o){let a=eS(r,n,i,e,this.urlSerializer);return n.path==="**"&&(r.children={}),a.pipe(xe(c=>c.matched?(e=n._injector??e,this.getChildConfig(e,n,i).pipe(xe(({routes:l})=>{let u=n._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,g=new Or(f,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Lm(n),at(n),n.component??n._loadedComponent??null,n,jm(n)),m=ha(g,o,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:v,slicedSegments:w}=Fm(r,f,h,l);if(w.length===0&&v.hasChildren())return this.processChildren(u,l,v,g).pipe(P(j=>new Le(g,j)));if(l.length===0&&w.length===0)return M(new Le(g,[]));let H=at(n)===s;return this.processSegment(u,l,v,w,H?O:s,!0,g).pipe(P(j=>new Le(g,j instanceof Le?[j]:[])))}))):Mr(r)))}getChildConfig(e,r,n){return r.children?M({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?M({routes:r._loadedRoutes,injector:r._loadedInjector}):YI(e,r,n,this.urlSerializer).pipe(se(i=>i?this.configLoader.loadChildren(e,r).pipe(he(s=>{r._loadedRoutes=s.routes,r._loadedInjector=s.injector})):XI(r))):M({routes:[],injector:e})}};function uS(t){t.sort((e,r)=>e.value.outlet===O?-1:r.value.outlet===O?1:e.value.outlet.localeCompare(r.value.outlet))}function dS(t){let e=t.value.routeConfig;return e&&e.path===""}function av(t){let e=[],r=new Set;for(let n of t){if(!dS(n)){e.push(n);continue}let i=e.find(s=>n.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):e.push(n)}for(let n of r){let i=av(n.children);e.push(new Le(n.value,i))}return e.filter(n=>!r.has(n))}function Lm(t){return t.data||{}}function jm(t){return t.resolve||{}}function hS(t,e,r,n,i,s){return se(o=>cS(t,e,r,n,o.extractedUrl,i,s).pipe(P(({state:a,tree:c})=>z(_({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function fS(t,e){return se(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return M(r);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of cv(c))o.add(l);let a=0;return re(o).pipe(er(c=>s.has(c)?pS(c,n,t,e):(c.data=ha(c,c.parent,t).resolve,M(void 0))),he(()=>a++),tr(1),se(c=>a===o.size?M(r):_e))})}function cv(t){let e=t.children.map(r=>cv(r)).flat();return[t,...e]}function pS(t,e,r,n){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!tv(i)&&(s[$i]=i.title),gS(s,t,e,n).pipe(P(o=>(t._resolvedData=o,t.data=ha(t,t.parent,r).resolve,null)))}function gS(t,e,r,n){let i=Qu(t);if(i.length===0)return M({});let s={};return re(i).pipe(se(o=>mS(t[o],e,r,n).pipe(lt(),he(a=>{if(a instanceof Li)throw pa(new Ai,a);s[o]=a}))),tr(1),Oc(s),Bt(o=>sv(o)?_e:Qn(o)))}function mS(t,e,r,n){let i=Bi(e)??n,s=jr(t,i),o=s.resolve?s.resolve(e,r):mt(i,()=>s(e,r));return Xt(o)}function Ku(t){return xe(e=>{let r=t(e);return r?re(r).pipe(P(()=>e)):M(e)})}var lv=(()=>{let e=class e{buildTitle(n){let i,s=n.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===O);return i}getResolvedTitleForRoute(n){return n.data[$i]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>y(vS),providedIn:"root"});let t=e;return t})(),vS=(()=>{let e=class e extends lv{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(C(Rm))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Td=new I("",{providedIn:"root",factory:()=>({})}),Md=new I(""),yS=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(Tu)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return M(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Xt(n.loadComponent()).pipe(P(uv),he(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),si(()=>{this.componentLoaders.delete(n)})),s=new Gn(i,()=>new R).pipe(zn());return this.componentLoaders.set(n,s),s}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return M({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=_S(i,this.compiler,n,this.onLoadEndListener).pipe(si(()=>{this.childrenLoaders.delete(i)})),a=new Gn(o,()=>new R).pipe(zn());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _S(t,e,r,n){return Xt(t.loadChildren()).pipe(P(uv),se(i=>i instanceof hi||Array.isArray(i)?M(i):re(e.compileModuleAsync(i))),P(i=>{n&&n(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(r).injector,o=s.get(Md,[],{optional:!0,self:!0}).flat()),{routes:o.map(Sd),injector:s}}))}function wS(t){return t&&typeof t=="object"&&"default"in t}function uv(t){return wS(t)?t.default:t}var Ad=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>y(bS),providedIn:"root"});let t=e;return t})(),bS=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DS=new I("");var CS=new I(""),ES=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new R,this.transitionAbortSubject=new R,this.configLoader=y(yS),this.environmentInjector=y(Te),this.urlSerializer=y(Cd),this.rootContexts=y(ma),this.location=y(wi),this.inputBindingEnabled=y(Id,{optional:!0})!==null,this.titleStrategy=y(lv),this.options=y(Td,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(Ad),this.createViewTransition=y(DS,{optional:!0}),this.navigationErrorHandler=y(CS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null;let n=s=>this.events.next(new od(s)),i=s=>this.events.next(new ad(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(z(_(_({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,s){return this.transitions=new de({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ti,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Oe(o=>o.id!==0),P(o=>z(_({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),xe(o=>{let a=!1,c=!1;return M(o).pipe(xe(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",je.SupersededByNewNavigation),_e;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?z(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new Sn(l.id,this.urlSerializer.serialize(l.rawUrl),f,td.IgnoredSameUrlNavigation)),l.resolve(!1),_e}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return M(l).pipe(xe(f=>{let h=this.transitions?.getValue();return this.events.next(new Ni(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?_e:Promise.resolve(f)}),hS(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),he(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=z(_({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new la(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:g,restoredState:m,extras:v}=l,w=new Ni(f,this.urlSerializer.serialize(h),g,m);this.events.next(w);let H=Xm(this.rootComponentType).snapshot;return this.currentTransition=o=z(_({},l),{targetSnapshot:H,urlAfterRedirects:h,extras:z(_({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,M(o)}else{let f="";return this.events.next(new Sn(l.id,this.urlSerializer.serialize(l.extractedUrl),f,td.IgnoredByUrlHandlingStrategy)),l.resolve(!1),_e}}),he(l=>{let u=new nd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),P(l=>(this.currentTransition=o=z(_({},l),{guards:RI(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),UI(this.environmentInjector,l=>this.events.next(l)),he(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw pa(this.urlSerializer,l.guardsResult);let u=new rd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Oe(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",je.GuardRejected),!1)),Ku(l=>{if(l.guards.canActivateChecks.length)return M(l).pipe(he(u=>{let d=new id(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),xe(u=>{let d=!1;return M(u).pipe(fS(this.paramsInheritanceStrategy,this.environmentInjector),he({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",je.NoDataFromResolver)}}))}),he(u=>{let d=new sd(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Ku(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(he(h=>{d.component=h}),P(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Xs(u(l.targetSnapshot.root)).pipe(Ut(null),Je(1))}),Ku(()=>this.afterPreactivation()),xe(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?re(d).pipe(P(()=>o)):M(o)}),P(l=>{let u=CI(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=z(_({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),he(()=>{this.events.next(new Pi)}),AI(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Je(1),he({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new In(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),St(this.transitionAbortSubject.pipe(he(l=>{throw l}))),si(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",je.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bt(l=>{if(c=!0,iv(l))this.events.next(new jt(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),SI(l)?this.events.next(new Pr(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let u=new ki(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let d=mt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Li){let{message:f,cancellationCode:h}=pa(this.urlSerializer,d);this.events.next(new jt(o.id,this.urlSerializer.serialize(o.extractedUrl),f,h)),this.events.next(new Pr(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=n.errorHandler(l);o.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return _e}))}))}cancelNavigationTransition(n,i,s){let o=new jt(n.id,this.urlSerializer.serialize(n.extractedUrl),i,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IS(t){return t!==Ti}var SS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>y(xS),providedIn:"root"});let t=e;return t})(),Dd=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},xS=(()=>{let e=class e extends Dd{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=_n(e)))(s||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>y(TS),providedIn:"root"});let t=e;return t})(),TS=(()=>{let e=class e extends dv{constructor(){super(...arguments),this.location=y(wi),this.urlSerializer=y(Cd),this.options=y(Td,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(Ad),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Jt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Xm(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Ni)this.stateMemento=this.createStateMemento();else if(n instanceof Sn)this.rawUrlTree=i.initialUrl;else if(n instanceof la){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else n instanceof Pi?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof jt&&(n.code===je.GuardRejected||n.code===je.NoDataFromResolver)?this.restoreHistory(i):n instanceof ki?this.restoreHistory(i,!0):n instanceof In&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=_(_({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=_(_({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=_n(e)))(s||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Si=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Si||{});function MS(t,e){t.events.pipe(Oe(r=>r instanceof In||r instanceof jt||r instanceof ki||r instanceof Sn),P(r=>r instanceof In||r instanceof Sn?Si.COMPLETE:(r instanceof jt?r.code===je.Redirect||r.code===je.SupersededByNewNavigation:!1)?Si.REDIRECTING:Si.FAILED),Oe(r=>r!==Si.REDIRECTING),Je(1)).subscribe(()=>{e()})}function AS(t){throw t}var RS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},hv=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=y(Ko),this.stateManager=y(dv),this.options=y(Td,{optional:!0})||{},this.pendingTasks=y(Cr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(ES),this.urlSerializer=y(Cd),this.location=y(wi),this.urlHandlingStrategy=y(Ad),this._events=new R,this.errorHandler=this.options.errorHandler||AS,this.navigated=!1,this.routeReuseStrategy=y(SS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(Md,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(Id,{optional:!0}),this.eventsSubscription=new q,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof jt&&i.code!==je.Redirect&&i.code!==je.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof In)this.navigated=!0;else if(i instanceof Pr){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=_({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||IS(s.source)},a);this.scheduleNavigation(c,Ti,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}kS(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ti,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=_({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Sd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=s?s.snapshot:this.routerState.snapshot.root;f=Km(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return Ym(f,n,d,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let s=Ri(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ti,null,i)}navigate(n,i={skipLocationChange:!1}){return NS(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let s;if(i===!0?s=_({},RS):i===!1?s=_({},OS):s=i,Ri(n))return Om(this.currentUrlTree,n,s);let o=this.parseUrl(n);return Om(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(n,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});let d=this.pendingTasks.add();return MS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NS(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new x(4008,!1)}function kS(t){return!(t instanceof Pi)&&!(t instanceof Pr)}var PS=new I("");function fv(t,...e){return Fo([{provide:Md,multi:!0,useValue:t},[],{provide:Fr,useFactory:FS,deps:[hv]},{provide:xu,multi:!0,useFactory:LS},e.map(r=>r.\u0275providers)])}function FS(t){return t.routerState.root}function LS(){let t=y(He);return e=>{let r=t.get(Qt);if(e!==r.components[0])return;let n=t.get(hv),i=t.get(jS);t.get(VS)===1&&n.initialNavigation(),t.get($S,null,F.Optional)?.setUpPreloading(),t.get(PS,null,F.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var jS=new I("",{factory:()=>new R}),VS=new I("",{providedIn:"root",factory:()=>1});var $S=new I("");var ya=(()=>{let e=class e{constructor(){this.recordedChunks=[],this.isUsingFrontCamera=!0}toggleCamera(){return p(this,null,function*(){this.isUsingFrontCamera=!this.isUsingFrontCamera,yield this.startCamera()})}startCamera(){return p(this,null,function*(){this.stream&&this.stream.getTracks().forEach(s=>s.stop());let n={video:{facingMode:this.isUsingFrontCamera?"user":"environment"}};this.stream=yield navigator.mediaDevices.getUserMedia(n);let i=document.querySelector("video");i&&(i.srcObject=this.stream)})}startRecording(){this.recordedChunks=[],this.mediaRecorder=new MediaRecorder(this.stream,{mimeType:"video/webm; codecs=vp9"}),this.mediaRecorder.ondataavailable=n=>{n.data.size>0&&(this.recordedChunks.push(n.data),this.recordedChunks.length>30&&this.recordedChunks.shift())},this.mediaRecorder.start(1e3)}stopRecording(){this.mediaRecorder&&this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop()}saveLast30Seconds(){if(this.recordedChunks.length===0){alert("No video recorded to save!");return}let n=new Blob(this.recordedChunks,{type:"video/webm"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download="last-30-seconds.webm",s.click(),URL.revokeObjectURL(i)}ngOnInit(){this.startCamera()}ngOnDestroy(){this.stream&&this.stream.getTracks().forEach(n=>n.stop())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=nt({type:e,selectors:[["app-video"]],standalone:!0,features:[st],decls:13,vars:0,consts:[[1,"container","mt-4"],["autoplay","","playsinline","",1,"border","w-100",2,"height","300px"],[1,"mt-3"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-danger","me-2",3,"click"],[1,"btn","btn-info",3,"click"]],template:function(i,s){i&1&&(te(0,"div",0)(1,"h1"),Fe(2,"Video Recorder"),ae(),it(3,"video",1),te(4,"div",2)(5,"button",3),ce("click",function(){return s.toggleCamera()}),Fe(6,"Switch Camera"),ae(),te(7,"button",4),ce("click",function(){return s.startRecording()}),Fe(8,"Start Recording"),ae(),te(9,"button",5),ce("click",function(){return s.stopRecording()}),Fe(10,"Stop Recording"),ae(),te(11,"button",6),ce("click",function(){return s.saveLast30Seconds()}),Fe(12,"Save Last 30 Seconds"),ae()()())}});let t=e;return t})();function _a(t,e=0){return BS(t)?Number(t):arguments.length===2?e:0}function BS(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function pv(t){return Array.isArray(t)?t:[t]}function _t(t){return t instanceof ve?t.nativeElement:t}var Od;try{Od=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Od=!1}var Nd=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?Dm(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Od)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(C(Ot))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Hi;function US(){if(Hi==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Hi=!0}))}finally{Hi=Hi||!1}return Hi}function zi(t){return US()?t:!!t.capture}var Rd;function HS(){if(Rd==null){let t=typeof document<"u"?document.head:null;Rd=!!(t&&(t.createShadowRoot||t.attachShadow))}return Rd}function wa(t){if(HS()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Gi(t){return t.composedPath?t.composedPath()[0]:t.target}var GS=new I("cdk-dir-doc",{providedIn:"root",factory:WS});function WS(){return y(ie)}var qS=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function ZS(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?qS.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var kd=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new G,n){let i=n.body?n.body.dir:null,s=n.documentElement?n.documentElement.dir:null;this.value=ZS(i||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(C(GS,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var YS=20,gv=(()=>{let e=class e{constructor(n,i,s){this._ngZone=n,this._platform=i,this._scrolled=new R,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=YS){return this._platform.isBrowser?new N(i=>{this._globalSubscription||this._addGlobalListener();let s=n>0?this._scrolled.pipe(no(n)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):M()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(n,i){let s=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(Oe(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(n){let i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,n)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,i){let s=_t(i),o=n.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return ri(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(C(Y),C(Nd),C(ie,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var QS=20,mv=(()=>{let e=class e{constructor(n,i,s){this._platform=n,this._change=new R,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(n.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+s,right:n.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,i=this._getWindow(),s=n.documentElement,o=s.getBoundingClientRect(),a=-o.top||n.body.scrollTop||i.scrollY||s.scrollTop||0,c=-o.left||n.body.scrollLeft||i.scrollX||s.scrollLeft||0;return{top:a,left:c}}change(n=QS){return n>0?this._change.pipe(no(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(C(Nd),C(Y),C(ie,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Ne({});let t=e;return t})();function yv(t){return t.buttons===0||t.detail===0}function _v(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function Lv(t){let e=t.cloneNode(!0),r=e.querySelectorAll("[id]"),n=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<r.length;i++)r[i].removeAttribute("id");return n==="canvas"?Dv(t,e):(n==="input"||n==="select"||n==="textarea")&&bv(t,e),wv("canvas",t,e,Dv),wv("input, textarea, select",t,e,bv),e}function wv(t,e,r,n){let i=e.querySelectorAll(t);if(i.length){let s=r.querySelectorAll(t);for(let o=0;o<i.length;o++)n(i[o],s[o])}}var XS=0;function bv(t,e){e.type!=="file"&&(e.value=t.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${XS++}`)}function Dv(t,e){let r=e.getContext("2d");if(r)try{r.drawImage(t,0,0)}catch{}}function Bd(t){let e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Fd(t,e,r){let{top:n,bottom:i,left:s,right:o}=t;return r>=n&&r<=i&&e>=s&&e<=o}function qi(t,e,r){t.top+=e,t.bottom=t.top+t.height,t.left+=r,t.right=t.left+t.width}function Cv(t,e,r,n){let{top:i,right:s,bottom:o,left:a,width:c,height:l}=t,u=c*e,d=l*e;return n>i-d&&n<o+d&&r>a-u&&r<s+u}var Ea=class{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(r=>{this.positions.set(r,{scrollPosition:{top:r.scrollTop,left:r.scrollLeft},clientRect:Bd(r)})})}handleScroll(e){let r=Gi(e),n=this.positions.get(r);if(!n)return null;let i=n.scrollPosition,s,o;if(r===this._document){let l=this.getViewportScrollPosition();s=l.top,o=l.left}else s=r.scrollTop,o=r.scrollLeft;let a=i.top-s,c=i.left-o;return this.positions.forEach((l,u)=>{l.clientRect&&r!==u&&r.contains(u)&&qi(l.clientRect,a,c)}),i.top=s,i.left=o,{top:a,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function jv(t,e){let r=t.rootNodes;if(r.length===1&&r[0].nodeType===e.ELEMENT_NODE)return r[0];let n=e.createElement("div");return r.forEach(i=>n.appendChild(i)),n}function Ud(t,e,r){for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];i?t.setProperty(n,i,r?.has(n)?"important":""):t.removeProperty(n)}return t}function Vr(t,e){let r=e?"":"none";Ud(t.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":r,"-ms-user-select":r,"-webkit-user-select":r,"-moz-user-select":r})}function Ev(t,e,r){Ud(t.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},r)}function Ia(t,e){return e&&e!="none"?t+" "+e:t}function Iv(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=Sa(e.left,e.top)}function Sa(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function Sv(t){let e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function ex(t){let e=getComputedStyle(t),r=Pd(e,"transition-property"),n=r.find(a=>a==="transform"||a==="all");if(!n)return 0;let i=r.indexOf(n),s=Pd(e,"transition-duration"),o=Pd(e,"transition-delay");return Sv(s[i])+Sv(o[i])}function Pd(t,e){return t.getPropertyValue(e).split(",").map(n=>n.trim())}var tx=new Set(["position"]),Ld=class{get element(){return this._preview}constructor(e,r,n,i,s,o,a,c,l){this._document=e,this._rootElement=r,this._direction=n,this._initialDomRect=i,this._previewTemplate=s,this._previewClass=o,this._pickupPositionOnPage=a,this._initialTransform=c,this._zIndex=l}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),xv(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return ex(this._preview)}addEventListener(e,r){this._preview.addEventListener(e,r)}removeEventListener(e,r){this._preview.removeEventListener(e,r)}_createPreview(){let e=this._previewTemplate,r=this._previewClass,n=e?e.template:null,i;if(n&&e){let s=e.matchSize?this._initialDomRect:null,o=e.viewContainer.createEmbeddedView(n,e.context);o.detectChanges(),i=jv(o,this._document),this._previewEmbeddedView=o,e.matchSize?Iv(i,s):i.style.transform=Sa(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=Lv(this._rootElement),Iv(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return Ud(i.style,{"pointer-events":"none",margin:xv(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},tx),Vr(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),r&&(Array.isArray(r)?r.forEach(s=>i.classList.add(s)):i.classList.add(r)),i}};function xv(t){return"showPopover"in t}var Tv=zi({passive:!0}),ba=zi({passive:!1}),Mv=zi({passive:!1,capture:!0}),nx=800,Av=new Set(["position"]),jd=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(r=>Vr(r,e)))}constructor(e,r,n,i,s,o){this._config=r,this._document=n,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=bu(!1),this._moveEvents=new R,this._pointerMoveSubscription=q.EMPTY,this._pointerUpSubscription=q.EMPTY,this._scrollSubscription=q.EMPTY,this._resizeSubscription=q.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this.scale=1,this._disabled=!1,this.beforeStarted=new R,this.started=new R,this.released=new R,this.ended=new R,this.entered=new R,this.exited=new R,this.dropped=new R,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){let c=this._getTargetHandle(a);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{let c=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging()){let u=Math.abs(c.x-this._pickupPositionOnPage.x),d=Math.abs(c.y-this._pickupPositionOnPage.y);if(u+d>=this._config.dragStartThreshold){let h=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),g=this._dropContainer;if(!h){this._endDragSequence(a);return}(!g||!g.isDragging()&&!g.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();let l=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(l),this._dropContainer)this._updateActiveDropContainer(l,c);else{let u=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,d=this._activeTransform;d.x=l.x-u.x+this._passiveTransform.x,d.y=l.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:l,event:a,distance:this._getDragDistance(l),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){let c=this._getTargetHandle(a);c&&!this._disabledHandles.has(c)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(e).withParent(r.parentDragRef||null),this._parentPositions=new Ea(n),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(n=>_t(n)),this._handles.forEach(n=>Vr(n,this.disabled)),this._toggleNativeDragInteractions();let r=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&r.add(n)}),this._disabledHandles=r,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let r=_t(e);return r!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{r.addEventListener("mousedown",this._pointerDown,ba),r.addEventListener("touchstart",this._pointerDown,Tv),r.addEventListener("dragstart",this._nativeDragStart,ba)}),this._initialTransform=void 0,this._rootElement=r),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?_t(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Vr(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Vr(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",Ov,Mv)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let r=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(r),dropPoint:r,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Wi(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let r=this._getShadowRoot(),n=this._dropContainer;if(r&&this._ngZone.runOutsideAngular(()=>{r.addEventListener("selectstart",Ov,Mv)}),n){let i=this._rootElement,s=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");s.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=new Ld(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(s,r)),Ev(i,!1,Av),this._document.body.appendChild(s.replaceChild(o,i)),this.started.next({source:this,event:e}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(e,r){this._parentDragRef&&r.stopPropagation();let n=this.isDragging(),i=Wi(r),s=!i&&r.button!==0,o=this._rootElement,a=Gi(r),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+nx>Date.now(),l=i?_v(r):yv(r);if(a&&a.draggable&&r.type==="mousedown"&&r.preventDefault(),n||s||c||l)return;if(this._handles.length){let f=o.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=Bd(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,r);let d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(r);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,r)}_cleanupDragArtifacts(e){Ev(this._rootElement,!0,Av),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let r=this._dropContainer,n=r.getItemIndex(this),i=this._getPointerPositionOnPage(e),s=this._getDragDistance(i),o=r._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:r,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:i,event:e}),r.drop(this,n,this._initialIndex,this._initialContainer,o,s,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:r},{x:n,y:i}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,r);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,r)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,r,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,e,r,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,r):this._applyPreviewTransform(e-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let r=this._preview.getTransitionDuration();return r===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{let i=o=>{(!o||this._preview&&Gi(o)===this._preview.element&&o.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",i),n(),clearTimeout(s))},s=setTimeout(i,r*1.5);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,r=e?e.template:null,n;return r?(this._placeholderRef=e.viewContainer.createEmbeddedView(r,e.context),this._placeholderRef.detectChanges(),n=jv(this._placeholderRef,this._document)):n=Lv(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,r,n){let i=r===this._rootElement?null:r,s=i?i.getBoundingClientRect():e,o=Wi(n)?n.targetTouches[0]:n,a=this._getViewportScrollPosition(),c=o.pageX-s.left-a.left,l=o.pageY-s.top-a.top;return{x:s.left-e.left+c,y:s.top-e.top+l}}_getPointerPositionOnPage(e){let r=this._getViewportScrollPosition(),n=Wi(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=n.pageX-r.left,s=n.pageY-r.top;if(this._ownerSVGElement){let o=this._ownerSVGElement.getScreenCTM();if(o){let a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=s,a.matrixTransform(o.inverse())}}return{x:i,y:s}}_getConstrainedPointerPosition(e){let r=this._dropContainer?this._dropContainer.lockAxis:null,{x:n,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||r==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||r==="y")&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:s,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:c,height:l}=this._getPreviewRect(),u=a.top+o,d=a.bottom-(l-o),f=a.left+s,h=a.right-(c-s);n=Rv(n,f,h),i=Rv(i,u,d)}return{x:n,y:i}}_updatePointerDirectionDelta(e){let{x:r,y:n}=e,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(r-s.x),a=Math.abs(n-s.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=r>s.x?1:-1,s.x=r),a>this._config.pointerDirectionChangeThreshold&&(i.y=n>s.y?1:-1,s.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Vr(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,ba),e.removeEventListener("touchstart",this._pointerDown,Tv),e.removeEventListener("dragstart",this._nativeDragStart,ba)}_applyRootElementTransform(e,r){let n=1/this.scale,i=Sa(e*n,r*n),s=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=s.transform&&s.transform!="none"?s.transform:""),s.transform=Ia(i,this._initialTransform)}_applyPreviewTransform(e,r){let n=this._previewTemplate?.template?void 0:this._initialTransform,i=Sa(e,r);this._preview.setTransform(Ia(i,n))}_getDragDistance(e){let r=this._pickupPositionOnPage;return r?{x:e.x-r.x,y:e.y-r.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:r}=this._passiveTransform;if(e===0&&r===0||this.isDragging()||!this._boundaryElement)return;let n=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||n.width===0&&n.height===0)return;let s=i.left-n.left,o=n.right-i.right,a=i.top-n.top,c=n.bottom-i.bottom;i.width>n.width?(s>0&&(e+=s),o>0&&(e-=o)):e=0,i.height>n.height?(a>0&&(r+=a),c>0&&(r-=c)):r=0,(e!==this._passiveTransform.x||r!==this._passiveTransform.y)&&this.setFreeDragPosition({y:r,x:e})}_getDragStartDelay(e){let r=this.dragStartDelay;return typeof r=="number"?r:Wi(e)?r.touch:r?r.mouse:0}_updateOnScroll(e){let r=this._parentPositions.handleScroll(e);if(r){let n=Gi(e);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&qi(this._boundaryRect,r.top,r.left),this._pickupPositionOnPage.x+=r.left,this._pickupPositionOnPage.y+=r.top,this._dropContainer||(this._activeTransform.x-=r.left,this._activeTransform.y-=r.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=wa(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,r){let n=this._previewContainer||"global";if(n==="parent")return e;if(n==="global"){let i=this._document;return r||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return _t(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(e){return this._handles.find(r=>e.target&&(e.target===r||r.contains(e.target)))}};function Rv(t,e,r){return Math.max(e,Math.min(r,t))}function Wi(t){return t.type[0]==="t"}function Ov(t){t.preventDefault()}function Vv(t,e,r){let n=Nv(e,t.length-1),i=Nv(r,t.length-1);if(n===i)return;let s=t[n],o=i<n?-1:1;for(let a=n;a!==i;a+=o)t[a]=t[a+o];t[i]=s}function Nv(t,e){return Math.max(0,Math.min(e,t))}var xa=class{constructor(e){this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,r,n,i){let s=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,r,n,i);if(o===-1&&s.length>0)return null;let a=this.orientation==="horizontal",c=s.findIndex(v=>v.drag===e),l=s[o],u=s[c].clientRect,d=l.clientRect,f=c>o?1:-1,h=this._getItemOffsetPx(u,d,f),g=this._getSiblingOffsetPx(c,s,f),m=s.slice();return Vv(s,c,o),s.forEach((v,w)=>{if(m[w]===v)return;let H=v.drag===e,j=H?h:g,D=H?e.getPlaceholderElement():v.drag.getRootElement();v.offset+=j;let U=Math.round(v.offset*(1/v.drag.scale));a?(D.style.transform=Ia(`translate3d(${U}px, 0, 0)`,v.initialTransform),qi(v.clientRect,0,j)):(D.style.transform=Ia(`translate3d(0, ${U}px, 0)`,v.initialTransform),qi(v.clientRect,j,0))}),this._previousSwap.overlaps=Fd(d,r,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=a?i.x:i.y,{previousIndex:c,currentIndex:o}}enter(e,r,n,i){let s=i==null||i<0?this._getItemIndexFromPointerPosition(e,r,n):i,o=this._activeDraggables,a=o.indexOf(e),c=e.getPlaceholderElement(),l=o[s];if(l===e&&(l=o[s+1]),!l&&(s==null||s===-1||s<o.length-1)&&this._shouldEnterAsFirstChild(r,n)&&(l=o[0]),a>-1&&o.splice(a,1),l&&!this._dragDropRegistry.isDragging(l)){let u=l.getRootElement();u.parentElement.insertBefore(c,u),o.splice(s,0,e)}else this._element.appendChild(c),o.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let r=e.getRootElement();if(r){let n=this._itemPositions.find(i=>i.drag===e)?.initialTransform;r.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===e)}updateOnScroll(e,r){this._itemPositions.forEach(({clientRect:n})=>{qi(n,e,r)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(r=>{let n=r.getVisibleElement();return{drag:r,offset:0,initialTransform:n.style.transform||"",clientRect:Bd(n)}}).sort((r,n)=>e?r.clientRect.left-n.clientRect.left:r.clientRect.top-n.clientRect.top)}_getItemOffsetPx(e,r,n){let i=this.orientation==="horizontal",s=i?r.left-e.left:r.top-e.top;return n===-1&&(s+=i?r.width-e.width:r.height-e.height),s}_getSiblingOffsetPx(e,r,n){let i=this.orientation==="horizontal",s=r[e].clientRect,o=r[e+n*-1],a=s[i?"width":"height"]*n;if(o){let c=i?"left":"top",l=i?"right":"bottom";n===-1?a-=o.clientRect[c]-s[l]:a+=s[c]-o.clientRect[l]}return a}_shouldEnterAsFirstChild(e,r){if(!this._activeDraggables.length)return!1;let n=this._itemPositions,i=this.orientation==="horizontal";if(n[0].drag!==this._activeDraggables[0]){let o=n[n.length-1].clientRect;return i?e>=o.right:r>=o.bottom}else{let o=n[0].clientRect;return i?e<=o.left:r<=o.top}}_getItemIndexFromPointerPosition(e,r,n,i){let s=this.orientation==="horizontal",o=this._itemPositions.findIndex(({drag:a,clientRect:c})=>{if(a===e)return!1;if(i){let l=s?i.x:i.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&l===this._previousSwap.delta)return!1}return s?r>=Math.floor(c.left)&&r<Math.floor(c.right):n>=Math.floor(c.top)&&n<Math.floor(c.bottom)});return o===-1||!this._sortPredicate(o,e)?-1:o}},Vd=class{constructor(e,r){this._document=e,this._dragDropRegistry=r,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(e){let r=this._element.childNodes;this._relatedNodes=[];for(let n=0;n<r.length;n++){let i=r[n];this._relatedNodes.push([i,i.nextSibling])}this.withItems(e)}sort(e,r,n,i){let s=this._getItemIndexFromPointerPosition(e,r,n),o=this._previousSwap;if(s===-1||this._activeItems[s]===e)return null;let a=this._activeItems[s];if(o.drag===a&&o.overlaps&&o.deltaX===i.x&&o.deltaY===i.y)return null;let c=this.getItemIndex(e),l=e.getPlaceholderElement(),u=a.getRootElement();s>c?u.after(l):u.before(l),Vv(this._activeItems,c,s);let d=this._getRootNode().elementFromPoint(r,n);return o.deltaX=i.x,o.deltaY=i.y,o.drag=a,o.overlaps=u===d||u.contains(d),{previousIndex:c,currentIndex:s}}enter(e,r,n,i){let s=i==null||i<0?this._getItemIndexFromPointerPosition(e,r,n):i;s===-1&&(s=this._getClosestItemIndexToPointer(e,r,n));let o=this._activeItems[s],a=this._activeItems.indexOf(e);a>-1&&this._activeItems.splice(a,1),o&&!this._dragDropRegistry.isDragging(o)?(this._activeItems.splice(s,0,e),o.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,r=this._previousSwap;for(let n=this._relatedNodes.length-1;n>-1;n--){let[i,s]=this._relatedNodes[n];i.parentNode===e&&i.nextSibling!==s&&(s===null?e.appendChild(i):s.parentNode===e&&e.insertBefore(i,s))}this._relatedNodes=[],this._activeItems=[],r.drag=null,r.deltaX=r.deltaY=0,r.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,r,n){let i=this._getRootNode().elementFromPoint(Math.floor(r),Math.floor(n)),s=i?this._activeItems.findIndex(o=>{let a=o.getRootElement();return i===a||a.contains(i)}):-1;return s===-1||!this._sortPredicate(s,e)?-1:s}_getRootNode(){return this._rootNode||(this._rootNode=wa(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,r,n){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,s=-1;for(let o=0;o<this._activeItems.length;o++){let a=this._activeItems[o];if(a!==e){let{x:c,y:l}=a.getRootElement().getBoundingClientRect(),u=Math.hypot(r-c,n-l);u<i&&(i=u,s=o)}}return s}},kv=.05,$v=.05,qe=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t}(qe||{}),Ie=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t}(Ie||{}),$d=class{constructor(e,r,n,i,s){this._dragDropRegistry=r,this._ngZone=i,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new R,this.entered=new R,this.exited=new R,this.dropped=new R,this.sorted=new R,this.receivingStarted=new R,this.receivingStopped=new R,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=q.EMPTY,this._verticalScrollDirection=qe.NONE,this._horizontalScrollDirection=Ie.NONE,this._stopScrollTimers=new R,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),Rc(0,Fs).pipe(St(this._stopScrollTimers)).subscribe(()=>{let a=this._scrollNode,c=this.autoScrollStep;this._verticalScrollDirection===qe.UP?a.scrollBy(0,-c):this._verticalScrollDirection===qe.DOWN&&a.scrollBy(0,c),this._horizontalScrollDirection===Ie.LEFT?a.scrollBy(-c,0):this._horizontalScrollDirection===Ie.RIGHT&&a.scrollBy(c,0)})};let o=this.element=_t(e);this._document=n,this.withOrientation("vertical").withElementContainer(o),r.registerDropContainer(this),this._parentPositions=new Ea(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,r,n,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,r,n,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,r,n,i,s,o,a,c={}){this._reset(),this.dropped.next({item:e,currentIndex:r,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:s,distance:o,dropPoint:a,event:c})}withItems(e){let r=this._draggables;return this._draggables=e,e.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(r.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof xa&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new Vd(this._document,this._dragDropRegistry);else{let r=new xa(this._dragDropRegistry);r.direction=this._direction,r.orientation=e,this._sortStrategy=r}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((r,n)=>this.sortPredicate(r,n,this)),this}withScrollableParents(e){let r=this._container;return this._scrollableElements=e.indexOf(r)===-1?[r,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let r=_t(this.element),n=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(e);return n>-1&&this._scrollableElements.splice(n,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,r,n,i){if(this.sortingDisabled||!this._domRect||!Cv(this._domRect,kv,r,n))return;let s=this._sortStrategy.sort(e,r,n,i);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,r){if(this.autoScrollDisabled)return;let n,i=qe.NONE,s=Ie.NONE;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||n||Cv(o.clientRect,kv,e,r)&&([i,s]=rx(a,o.clientRect,this._direction,e,r),(i||s)&&(n=a))}),!i&&!s){let{width:o,height:a}=this._viewportRuler.getViewportSize(),c={width:o,height:a,top:0,right:o,bottom:a,left:0};i=Bv(c,r),s=Uv(c,e),n=window}n&&(i!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=n,(i||s)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(r=>r._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,r){return this._domRect!=null&&Fd(this._domRect,e,r)}_getSiblingContainerFromPosition(e,r,n){return this._siblings.find(i=>i._canReceive(e,r,n))}_canReceive(e,r,n){if(!this._domRect||!Fd(this._domRect,r,n)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(r,n);return i?i===this._container||this._container.contains(i):!1}_startReceiving(e,r){let n=this._activeSiblings;!n.has(e)&&r.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(n.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:r}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let r=this._parentPositions.handleScroll(e);r&&this._sortStrategy.updateOnScroll(r.top,r.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=wa(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(r=>r.isDragging());this._siblings.forEach(r=>r._startReceiving(this,e))}};function Bv(t,e){let{top:r,bottom:n,height:i}=t,s=i*$v;return e>=r-s&&e<=r+s?qe.UP:e>=n-s&&e<=n+s?qe.DOWN:qe.NONE}function Uv(t,e){let{left:r,right:n,width:i}=t,s=i*$v;return e>=r-s&&e<=r+s?Ie.LEFT:e>=n-s&&e<=n+s?Ie.RIGHT:Ie.NONE}function rx(t,e,r,n,i){let s=Bv(e,i),o=Uv(e,n),a=qe.NONE,c=Ie.NONE;if(s){let l=t.scrollTop;s===qe.UP?l>0&&(a=qe.UP):t.scrollHeight-l>t.clientHeight&&(a=qe.DOWN)}if(o){let l=t.scrollLeft;r==="rtl"?o===Ie.RIGHT?l<0&&(c=Ie.RIGHT):t.scrollWidth+l>t.clientWidth&&(c=Ie.LEFT):o===Ie.LEFT?l>0&&(c=Ie.LEFT):t.scrollWidth-l>t.clientWidth&&(c=Ie.RIGHT)}return[a,c]}var Da=zi({passive:!1,capture:!0}),Ca=new Set,ix=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=nt({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[st],decls:0,vars:0,template:function(i,s){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0});let t=e;return t})(),sx=(()=>{let e=class e{constructor(n,i){this._ngZone=n,this._appRef=y(Qt),this._environmentInjector=y(Te),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=bu([]),this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new R,this.pointerUp=new R,this.scroll=new R,this._preventDefaultWhileDragging=s=>{this._activeDragInstances().length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Da)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Da)}startDragging(n,i){if(!(this._activeDragInstances().indexOf(n)>-1)&&(this._loadResets(),this._activeDragInstances.update(s=>[...s,n]),this._activeDragInstances().length===1)){let s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Da}),s||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:Da}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,a)=>{this._document.addEventListener(a,o.handler,o.options)})})}}stopDragging(n){this._activeDragInstances.update(i=>{let s=i.indexOf(n);return s>-1?(i.splice(s,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(n){return this._activeDragInstances().indexOf(n)>-1}scrolled(n){let i=[this.scroll];return n&&n!==this._document&&i.push(new N(s=>this._ngZone.runOutsideAngular(()=>{let a=c=>{this._activeDragInstances().length&&s.next(c)};return n.addEventListener("scroll",a,!0),()=>{n.removeEventListener("scroll",a,!0)}}))),ii(...i)}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((n,i)=>{this._document.removeEventListener(i,n.handler,n.options)}),this._globalListeners.clear()}_loadResets(){if(!Ca.has(this._appRef)){Ca.add(this._appRef);let n=am(ix,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Ca.delete(this._appRef),Ca.size===0&&n.destroy()})}}};e.\u0275fac=function(i){return new(i||e)(C(Y),C(ie))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ox={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Hd=(()=>{let e=class e{constructor(n,i,s,o){this._document=n,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=o}createDrag(n,i=ox){return new jd(n,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(n){return new $d(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}};e.\u0275fac=function(i){return new(i||e)(C(ie),C(Y),C(mv),C(sx))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pv=new I("CDK_DRAG_PARENT");var ax=new I("CdkDragHandle");var Hv=new I("CDK_DRAG_CONFIG"),cx="cdk-drag",zv=new I("CdkDropList"),Gv=(()=>{let e=class e{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(n){this._disabled=n,this._dragRef.disabled=this._disabled}constructor(n,i,s,o,a,c,l,u,d,f,h){this.element=n,this.dropContainer=i,this._ngZone=o,this._viewContainerRef=a,this._dir=l,this._changeDetectorRef=d,this._selfHandle=f,this._parentDrag=h,this._destroyed=new R,this._handles=new de([]),this.scale=1,this.started=new G,this.released=new G,this.ended=new G,this.entered=new G,this.exited=new G,this.dropped=new G,this.moved=new N(g=>{let m=this._dragRef.moved.pipe(P(v=>({source:this,pointerPosition:v.pointerPosition,event:v.event,delta:v.delta,distance:v.distance}))).subscribe(g);return()=>{m.unsubscribe()}}),this._injector=y(He),this._dragRef=u.createDrag(n,{dragStartThreshold:c&&c.dragStartThreshold!=null?c.dragStartThreshold:5,pointerDirectionChangeThreshold:c&&c.pointerDirectionChangeThreshold!=null?c.pointerDirectionChangeThreshold:5,zIndex:c?.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),c&&this._assignDefaults(c),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this),i._dropListRef.beforeStarted.pipe(St(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){Zo(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(n){let i=n.rootElementSelector,s=n.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let n=e._dragInstances.indexOf(this);n>-1&&e._dragInstances.splice(n,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(n){let i=this._handles.getValue();i.push(n),this._handles.next(i)}_removeHandle(n){let i=this._handles.getValue(),s=i.indexOf(n);s>-1&&(i.splice(s,1),this._handles.next(i))}_setPreviewTemplate(n){this._previewTemplate=n}_resetPreviewTemplate(n){n===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(n){this._placeholderTemplate=n}_resetPlaceholderTemplate(n){n===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let n=this.element.nativeElement,i=n;this.rootElementSelector&&(i=n.closest!==void 0?n.closest(this.rootElementSelector):n.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||n)}_getBoundaryElement(){let n=this.boundaryElement;return n?typeof n=="string"?this.element.nativeElement.closest(n):_t(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){let i=this._dir,s=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.scale=this.scale,n.dragStartDelay=typeof s=="object"&&s?s:_a(s),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&n.withDirection(i.value)}}),n.beforeStarted.pipe(Je(1)).subscribe(()=>{if(this._parentDrag){n.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains(cx)){n.withParent(e._dragInstances.find(s=>s.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(n){n.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),n.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),n.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),n.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(n){let{lockAxis:i,dragStartDelay:s,constrainPosition:o,previewClass:a,boundaryElement:c,draggingDisabled:l,rootElementSelector:u,previewContainer:d}=n;this.disabled=l??!1,this.dragStartDelay=s||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),a&&(this.previewClass=a),c&&(this.boundaryElement=c),u&&(this.rootElementSelector=u),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(he(n=>{let i=n.map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),xe(n=>ii(...n.map(i=>i._stateChanges.pipe(an(i))))),St(this._destroyed)).subscribe(n=>{let i=this._dragRef,s=n.element.nativeElement;n.disabled?i.disableHandle(s):i.enableHandle(s)})}};e._dragInstances=[],e.\u0275fac=function(i){return new(i||e)(E(ve),E(zv,12),E(ie),E(Y),E(kt),E(Hv,8),E(kd,8),E(Hd),E(ot),E(ax,10),E(Pv,12))},e.\u0275dir=oe({type:e,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,s){i&2&&wn("cdk-drag-disabled",s.disabled)("cdk-drag-dragging",s._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Ft],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Au]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[vt([{provide:Pv,useExisting:e}]),Sr,Rt]});let t=e;return t})(),Fv=new I("CdkDropListGroup");var lx=0,Wv=(()=>{let e=class e{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(n){this._dropListRef.disabled=this._disabled=n}constructor(n,i,s,o,a,c,l){this.element=n,this._changeDetectorRef=s,this._scrollDispatcher=o,this._dir=a,this._group=c,this._destroyed=new R,this.connectedTo=[],this.id=`cdk-drop-list-${lx++}`,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new G,this.entered=new G,this.exited=new G,this.sorted=new G,this._unsortedItems=new Set,this._dropListRef=i.createDropList(n),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(u,d)=>this.enterPredicate(u.data,d.data),this._dropListRef.sortPredicate=(u,d,f)=>this.sortPredicate(u,d.data,f.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),c&&c._items.add(this)}addItem(n){this._unsortedItems.add(n),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(n){this._unsortedItems.delete(n),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((n,i)=>n._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let n=e._dropLists.indexOf(this);n>-1&&e._dropLists.splice(n,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(n){this._dir&&this._dir.change.pipe(an(this._dir.value),St(this._destroyed)).subscribe(i=>n.withDirection(i)),n.beforeStarted.subscribe(()=>{let i=pv(this.connectedTo).map(s=>{if(typeof s=="string"){let o=e._dropLists.find(a=>a.id===s);return o}return s});if(this._group&&this._group._items.forEach(s=>{i.indexOf(s)===-1&&i.push(s)}),!this._scrollableParentsResolved){let s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let s=this.element.nativeElement.querySelector(this.elementContainerSelector);n.withElementContainer(s)}n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.sortingDisabled=this.sortingDisabled,n.autoScrollDisabled=this.autoScrollDisabled,n.autoScrollStep=_a(this.autoScrollStep,2),n.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(n){n.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),n.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),n.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),n.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),ii(n.receivingStarted,n.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(n){let{lockAxis:i,draggingDisabled:s,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:c}=n;this.disabled=s??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=a??!1,this.orientation=c||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(n=>n._dragRef))}};e._dropLists=[],e.\u0275fac=function(i){return new(i||e)(E(ve),E(Hd),E(ot),E(gv),E(kd,8),E(Fv,12),E(Hv,8))},e.\u0275dir=oe({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,s){i&2&&(Tr("id",s.id),wn("cdk-drop-list-disabled",s.disabled)("cdk-drop-list-dragging",s._dropListRef.isDragging())("cdk-drop-list-receiving",s._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Ft],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Ft],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Ft],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[vt([{provide:Fv,useValue:void 0},{provide:zv,useExisting:e}]),Sr]});let t=e;return t})();var qv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Ne({providers:[Hd],imports:[vv]});let t=e;return t})();var Ta=class{constructor(){this.state=[]}push(e){this.state.push(e)}pop(){if(this.state.length!==0)return this.state.pop()}reset(){this.state=[],this.push({score1:0,score2:0,serverSide:1})}};var Ma="whistle.ogg",Aa="controlball.ogg",Ra="win.ogg",Zi="pause.ogg";var ny=(()=>{let e=class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(i){return new(i||e)(E(Nt),E(ve))},e.\u0275dir=oe({type:e});let t=e;return t})(),Zd=(()=>{let e=class e extends ny{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=_n(e)))(s||e)}})(),e.\u0275dir=oe({type:e,features:[Pt]});let t=e;return t})(),Fa=new I("");var dx={provide:Fa,useExisting:yn(()=>ry),multi:!0};function hx(){let t=Lt()?Lt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var fx=new I(""),ry=(()=>{let e=class e extends ny{constructor(n,i,s){super(n,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hx())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(i){return new(i||e)(E(Nt),E(ve),E(fx,8))},e.\u0275dir=oe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ce("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[vt([dx]),Pt]});let t=e;return t})();var px=new I(""),gx=new I("");function iy(t){return t!=null}function sy(t){return bn(t)?re(t):t}function oy(t){let e={};return t.forEach(r=>{e=r!=null?_(_({},e),r):e}),Object.keys(e).length===0?null:e}function ay(t,e){return e.map(r=>r(t))}function mx(t){return!t.validate}function cy(t){return t.map(e=>mx(e)?e:r=>e.validate(r))}function vx(t){if(!t)return null;let e=t.filter(iy);return e.length==0?null:function(r){return oy(ay(r,e))}}function ly(t){return t!=null?vx(cy(t)):null}function yx(t){if(!t)return null;let e=t.filter(iy);return e.length==0?null:function(r){let n=ay(r,e).map(sy);return Ac(n).pipe(P(oy))}}function uy(t){return t!=null?yx(cy(t)):null}function Zv(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _x(t){return t._rawValidators}function wx(t){return t._rawAsyncValidators}function zd(t){return t?Array.isArray(t)?t:[t]:[]}function Na(t,e){return Array.isArray(t)?t.includes(e):t===e}function Kv(t,e){let r=zd(e);return zd(t).forEach(i=>{Na(r,i)||r.push(i)}),r}function Yv(t,e){return zd(e).filter(r=>!Na(t,r))}var ka=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ly(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=uy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},Gd=class extends ka{get formDirective(){return null}get path(){return null}},Xi=class extends ka{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Wd=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},bx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},x1=z(_({},bx),{"[class.ng-submitted]":"isSubmitted"}),dy=(()=>{let e=class e extends Wd{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(E(Xi,2))},e.\u0275dir=oe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&wn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Pt]});let t=e;return t})();var Ki="VALID",Oa="INVALID",$r="PENDING",Yi="DISABLED",Ur=class{},Pa=class extends Ur{constructor(e,r){super(),this.value=e,this.source=r}},Qi=class extends Ur{constructor(e,r){super(),this.pristine=e,this.source=r}},Ji=class extends Ur{constructor(e,r){super(),this.touched=e,this.source=r}},Br=class extends Ur{constructor(e,r){super(),this.status=e,this.source=r}};function Dx(t){return(La(t)?t.validators:t)||null}function Cx(t){return Array.isArray(t)?ly(t):t||null}function Ex(t,e){return(La(e)?e.asyncValidators:t)||null}function Ix(t){return Array.isArray(t)?uy(t):t||null}function La(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var qd=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new R,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ki}get invalid(){return this.status===Oa}get pending(){return this.status==$r}get disabled(){return this.status===Yi}get enabled(){return this.status!==Yi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Kv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Kv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Yv(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Yv(e,this._rawAsyncValidators))}hasValidator(e){return Na(this._rawValidators,e)}hasAsyncValidator(e){return Na(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let r=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(_({},e),{sourceControl:n})),r&&e.emitEvent!==!1&&this._events.next(new Ji(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(e))}markAsUntouched(e={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),r&&e.emitEvent!==!1&&this._events.next(new Ji(!1,n))}markAsDirty(e={}){let r=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(_({},e),{sourceControl:n})),r&&e.emitEvent!==!1&&this._events.next(new Qi(!1,n))}markAsPristine(e={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&e.emitEvent!==!1&&this._events.next(new Qi(!0,n))}markAsPending(e={}){this.status=$r;let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Br(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(_({},e),{sourceControl:r}))}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Yi,this.errors=null,this._forEachChild(i=>{i.disable(z(_({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pa(this.value,n)),this._events.next(new Br(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(_({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Ki,this._forEachChild(n=>{n.enable(z(_({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(_({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,r){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ki||this.status===$r)&&this._runAsyncValidator(n,e.emitEvent)}let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pa(this.value,r)),this._events.next(new Br(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(_({},e),{sourceControl:r}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yi:Ki}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,r){if(this.asyncValidator){this.status=$r,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let n=sy(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:r,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,r,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new Br(this.status,r)),this._parent&&this._parent._updateControlsErrors(e,r,n)}_initObservables(){this.valueChanges=new G,this.statusChanges=new G}_calculateStatus(){return this._allControlsDisabled()?Yi:this.errors?Oa:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($r)?$r:this._anyControlsHaveStatus(Oa)?Oa:Ki}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,r){let n=!this._anyControlsDirty(),i=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),i&&this._events.next(new Qi(this.pristine,r))}_updateTouched(e={},r){this.touched=this._anyControlsTouched(),this._events.next(new Ji(this.touched,r)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){La(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Cx(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Ix(this._rawAsyncValidators)}};var hy=new I("CallSetDisabledState",{providedIn:"root",factory:()=>Kd}),Kd="always";function Sx(t,e){return[...e.path,t]}function xx(t,e,r=Kd){Mx(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ax(t,e),Ox(t,e),Rx(t,e),Tx(t,e)}function Qv(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function Tx(t,e){if(e.valueAccessor.setDisabledState){let r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}function Mx(t,e){let r=_x(t);e.validator!==null?t.setValidators(Zv(r,e.validator)):typeof r=="function"&&t.setValidators([r]);let n=wx(t);e.asyncValidator!==null?t.setAsyncValidators(Zv(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let i=()=>t.updateValueAndValidity();Qv(e._rawValidators,i),Qv(e._rawAsyncValidators,i)}function Ax(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&fy(t,e)})}function Rx(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&fy(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function fy(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ox(t,e){let r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}function Nx(t,e){if(!t.hasOwnProperty("model"))return!1;let r=t.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function kx(t){return Object.getPrototypeOf(t.constructor)===Zd}function Px(t,e){if(!e)return null;Array.isArray(e);let r,n,i;return e.forEach(s=>{s.constructor===ry?r=s:kx(s)?n=s:i=s}),i||n||r||null}function Jv(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function Xv(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Fx=class extends qd{constructor(e=null,r,n){super(Dx(r),Ex(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),La(r)&&(r.nonNullable||r.initialValueIsDefault)&&(Xv(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Jv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Jv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Xv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Lx={provide:Xi,useExisting:yn(()=>Yd)},ey=Promise.resolve(),Yd=(()=>{let e=class e extends Xi{constructor(n,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Fx,this._registered=!1,this.name="",this.update=new G,this._parent=n,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Px(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Nx(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){ey.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,s=i!==0&&Ft(i);ey.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Sx(n,this._parent):[n]}};e.\u0275fac=function(i){return new(i||e)(E(Gd,9),E(px,10),E(gx,10),E(Fa,10),E(ot,8),E(hy,8))},e.\u0275dir=oe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vt([Lx]),Pt,Rt]});let t=e;return t})();var jx={provide:Fa,useExisting:yn(()=>ja),multi:!0};function py(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Vx(t){return t.split(":")[0]}var ja=(()=>{let e=class e extends Zd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),s=py(i,n);this.setProperty("value",s)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=Vx(n);return this._optionMap.has(i)?this._optionMap.get(i):n}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=_n(e)))(s||e)}})(),e.\u0275dir=oe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&ce("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[vt([jx]),Pt]});let t=e;return t})(),gy=(()=>{let e=class e{constructor(n,i,s){this._element=n,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(py(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(E(ve),E(Nt),E(ja,9))},e.\u0275dir=oe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),$x={provide:Fa,useExisting:yn(()=>my),multi:!0};function ty(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Bx(t){return t.split(":")[0]}var my=(()=>{let e=class e extends Zd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let s=n.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let l=a[c],u=this._getOptionValue(l.value);s.push(u)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let u=this._getOptionValue(l.value);s.push(u)}}}this.value=s,n(s)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=Bx(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=_n(e)))(s||e)}})(),e.\u0275dir=oe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&ce("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[vt([$x]),Pt]});let t=e;return t})(),vy=(()=>{let e=class e{constructor(n,i,s){this._element=n,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(ty(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(ty(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(E(ve),E(Nt),E(my,9))},e.\u0275dir=oe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Ux=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Ne({});let t=e;return t})();var yy=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:hy,useValue:n.callSetDisabledState??Kd}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ke({type:e}),e.\u0275inj=Ne({imports:[Ux]});let t=e;return t})();var Va=(()=>{let e=class e{constructor(){this.audioCache=new Map,this.curVoicePath="default",this.loadFiles("default")}loadFiles(n){this.curVoicePath=n;let i=["audio/"+this.curVoicePath+"/"+Ma,"audio/"+this.curVoicePath+"/"+Ra,"audio/"+this.curVoicePath+"/"+Zi,"audio/"+this.curVoicePath+"/"+Aa];for(let s=0;s<=31;s++)i.push("audio/"+this.curVoicePath+`/${s}.ogg`);this.preloadAudioFiles(i)}preloadAudioFiles(n){n.forEach(i=>{if(!this.audioCache.has(i)){let s=new Audio(i);s.load(),s.preload="auto",this.audioCache.set(i,s)}})}getAudio(n){return this.audioCache.get("audio/"+this.curVoicePath+"/"+n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wy=(()=>{let e=class e{constructor(n){this.audioCacheService=n,this.playlist=[],this.currentIndex=0,this.isPlaying=!1}addToPlaylist(n){this.playlist.push(n),this.isPlaying||this.playNext()}playNext(){if(this.currentIndex<this.playlist.length){let n=this.playlist[this.currentIndex];this.isPlaying=!0;let i=this.audioCacheService.getAudio(n);i?(i.currentTime=0,i.play(),i.onended=()=>{this.currentIndex++,this.playNext()}):(console.error(`Audio file not found in cache: ${n}`),this.currentIndex++,this.playNext())}else this.reset()}reset(){this.isPlaying=!1,this.currentIndex=0,this.playlist=[]}stop(){if(this.isPlaying&&this.currentIndex<this.playlist.length){let n=this.playlist[this.currentIndex],i=this.audioCacheService.getAudio(n);i&&(i.pause(),i.currentTime=0)}this.reset()}cleanQuery(){this.stop()}};e.\u0275fac=function(i){return new(i||e)(C(Va))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $a=(()=>{let e=class e{constructor(n){this._document=n,this.window=this._document.defaultView,this.tg=this.window.Telegram.WebApp}get MainButton(){return this.tg.MainButton}get BackButton(){return this.tg.BackButton}sendData(n){this.tg.sendData(JSON.stringify(n))}ready(){this.tg.ready()}expand(){this.tg.expand()}};e.\u0275fac=function(i){return new(i||e)(C(ie))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var by=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>import("./chunk-AY27MCY2.js").then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};var es=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},Ba=class extends es{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Ua=class extends es{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Ha=class extends es{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},Qd=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}(Qd||{});var Wx=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})},ts=class{constructor(e,{headers:r={},customFetch:n,region:i=Qd.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=by(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Wx(this,void 0,void 0,function*(){try{let{headers:i,method:s,body:o}=r,a={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));let u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:l}).catch(g=>{throw new Ba(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Ua(u);if(!u.ok)throw new Ha(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}};var ky=B_(Ny(),1),{PostgrestClient:Py,PostgrestQueryBuilder:K1,PostgrestFilterBuilder:Y1,PostgrestTransformBuilder:Q1,PostgrestBuilder:J1,PostgrestError:iT}=ky.default;function Fy(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var Ly=Fy();var jy="2.11.15";var Vy=`realtime-js/${jy}`,$y="1.0.0";var qa=1e4,By=1e3,cs=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(cs||{}),ye=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(ye||{}),Ze=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(Ze||{}),lh=function(t){return t.websocket="websocket",t}(lh||{}),xn=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(xn||{});var Za=class{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){let i=r.getUint8(1),s=r.getUint8(2),o=this.HEADER_LENGTH+2,a=n.decode(e.slice(o,o+i));o=o+i;let c=n.decode(e.slice(o,o+s));o=o+s;let l=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var zr=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var X=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(X||{}),dh=(t,e,r={})=>{var n;let i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=sT(o,t,e,i),s),{})},sT=(t,e,r,n)=>{let i=e.find(a=>a.name===t),s=i?.type,o=r[t];return s&&!n.includes(s)?Uy(s,o):uh(o)},Uy=(t,e)=>{if(t.charAt(0)==="_"){let r=t.slice(1,t.length);return lT(e,r)}switch(t){case X.bool:return oT(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return aT(e);case X.json:case X.jsonb:return cT(e);case X.timestamp:return uT(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return uh(e);default:return uh(e)}},uh=t=>t,oT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},aT=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},cT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},lT=(t,e)=>{if(typeof t!="string")return t;let r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s,o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Uy(e,a))}return t},uT=t=>typeof t=="string"?t.replace(" ","T"):t,Ka=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};var Gr=class{constructor(e,r,n={},i=qa){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var ls=class t{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{let{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{let{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){let s=this.cloneDeep(e),o=this.transformState(r),a={},c={};return this.map(s,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{let d=s[l];if(d){let f=u.map(v=>v.presence_ref),h=d.map(v=>v.presence_ref),g=u.filter(v=>h.indexOf(v.presence_ref)<0),m=d.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(a[l]=g),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(s,{joins:a,leaves:c},n,i)}static syncDiff(e,r,n,i){let{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,c)=>{var l;let u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){let d=e[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}n(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,i(a,l,c),l.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{let i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Vt=function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t}(Vt||{});var us=class t{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Gr(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new zr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new ls(this),this.broadcastEndpointURL=Ka(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){let{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>e?.(Vt.CHANNEL_ERROR,u)),this._onClose(()=>e?.(Vt.CLOSED));let c={},l={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",d=>p(this,[d],function*({postgres_changes:u}){var f;if(this.socket.setAuth(),u===void 0){e?.(Vt.SUBSCRIBED);return}else{let h=this.bindings.postgres_changes,g=(f=h?.length)!==null&&f!==void 0?f:0,m=[];for(let v=0;v<g;v++){let w=h[v],{filter:{event:H,schema:j,table:D,filter:U}}=w,ne=u&&u[v];if(ne&&ne.event===H&&ne.schema===j&&ne.table===D&&ne.filter===U)m.push(Object.assign(Object.assign({},w),{id:ne.id}));else{this.unsubscribe(),this.state=ye.errored,e?.(Vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Vt.SUBSCRIBED);return}})).receive("error",u=>{this.state=ye.errored,e?.(Vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e?.(Vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(n){return p(this,arguments,function*(e,r={}){return yield this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,r,n){return this._on(e,r,n)}send(n){return p(this,arguments,function*(e,r={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){let{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return yield(s=u.body)===null||s===void 0?void 0:s.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,c,l;let u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ye.leaving;let r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Gr(this,Ze.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(e,r,n){return p(this,null,function*(){let i=new AbortController,s=setTimeout(()=>i.abort(),n),o=yield this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o})}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Gr(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;let o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Ze;if(n&&[a,c,l,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var g,m,v;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=h.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(h=>h.callback(f,n)):(s=this.bindings[o])===null||s===void 0||s.filter(h=>{var g,m,v,w,H,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){let D=h.id,U=(g=h.filter)===null||g===void 0?void 0:g.event;return D&&((m=r.ids)===null||m===void 0?void 0:m.includes(D))&&(U==="*"||U?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let D=(H=(w=h?.filter)===null||w===void 0?void 0:w.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return D==="*"||D===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){let g=f.data,{schema:m,table:v,commit_timestamp:w,type:H,errors:j}=g;f=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:w,eventType:H,new:{},old:{},errors:j}),this._getPayloadRecords(g))}h.callback(f,n)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){let i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){let n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&t.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(let n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ze.close,{},e)}_onError(e){this._on(Ze.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=dh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=dh(e.columns,e.old_record)),r}};var Hy=()=>{},hT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ds=class{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qa,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hy,this.ref=0,this.logger=Hy,this.conn=null,this.sendBuffer=[],this.serializer=new Za,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>import("./chunk-AY27MCY2.js").then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${lh.websocket}`,this.httpEndpoint=Ka(e),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);let i=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r?.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zr(()=>p(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ly),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$y}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}removeChannel(e){return p(this,null,function*(){let r=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),r})}removeAllChannels(){return p(this,null,function*(){let e=yield Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cs.connecting:return xn.Connecting;case cs.open:return xn.Open;case cs.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}channel(e,r={config:{}}){let n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{let s=new us(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){let{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e=null){return p(this,null,function*(){let r=e||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{let i={access_token:r,version:Vy};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))})}sendHeartbeat(){return p(this,null,function*(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(By,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ze.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;let n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{let n=new Blob([hT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}};var Wr=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function le(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ya=class extends Wr{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Tn=class extends Wr{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}};var fT=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})},Ja=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>import("./chunk-AY27MCY2.js").then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},zy=()=>fT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-AY27MCY2.js")).Response:Response}),Qa=t=>{if(Array.isArray(t))return t.map(r=>Qa(r));if(typeof t=="function"||t!==Object(t))return t;let e={};return Object.entries(t).forEach(([r,n])=>{let i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Qa(n)}),e};var Mn=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})},hh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pT=(t,e,r)=>Mn(void 0,void 0,void 0,function*(){let n=yield zy();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{e(new Ya(hh(i),t.status||500))}).catch(i=>{e(new Tn(hh(i),i))}):e(new Tn(hh(t),t))}),gT=(t,e,r,n)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function hs(t,e,r,n,i,s){return Mn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,gT(e,n,i,s)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>pT(c,a,n))})})}function qr(t,e,r,n){return Mn(this,void 0,void 0,function*(){return hs(t,"GET",e,r,n)})}function wt(t,e,r,n,i){return Mn(this,void 0,void 0,function*(){return hs(t,"POST",e,n,i,r)})}function Gy(t,e,r,n,i){return Mn(this,void 0,void 0,function*(){return hs(t,"PUT",e,n,i,r)})}function Wy(t,e,r,n){return Mn(this,void 0,void 0,function*(){return hs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Xa(t,e,r,n,i){return Mn(this,void 0,void 0,function*(){return hs(t,"DELETE",e,n,i,r)})}var Ae=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})},mT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},ec=class{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Ja(i)}uploadOrUpdate(e,r,n,i){return Ae(this,void 0,void 0,function*(){try{let s,o=Object.assign(Object.assign({},qy),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)}),c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let l=this._removeEmptyFolders(r),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:a},o?.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:l,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(le(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Ae(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let c,l=Object.assign({upsert:qy.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),f=yield d.json();return d.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(le(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Ae(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");let s=yield wt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Wr("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ae(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Ae(this,void 0,void 0,function*(){try{return{data:{path:(yield wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Ae(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield wt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Ae(this,void 0,void 0,function*(){try{let i=yield wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}download(e,r){return Ae(this,void 0,void 0,function*(){let i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),o=s?`?${s}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield qr(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(le(a))return{data:null,error:a};throw a}})}info(e){return Ae(this,void 0,void 0,function*(){let r=this._getFinalPath(e);try{let n=yield qr(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qa(n),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}exists(e){return Ae(this,void 0,void 0,function*(){let r=this._getFinalPath(e);try{return yield Wy(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(le(n)&&n instanceof Tn){let i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){let n=this._getFinalPath(e),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);let a=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${l}`)}}}remove(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ae(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},mT),r),{prefix:e||""});return{data:yield wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}};var Zy="2.7.1";var Ky={"X-Client-Info":`storage-js/${Zy}`};var Zr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})},tc=class{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Ky),r),this.fetch=Ja(n)}listBuckets(){return Zr(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(le(e))return{data:null,error:e};throw e}})}getBucket(e){return Zr(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Zr(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Zr(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Zr(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Zr(this,void 0,void 0,function*(){try{return{data:yield Xa(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}};var fs=class extends tc{constructor(e,r={},n){super(e,r,n)}from(e){return new ec(this.url,this.headers,e,this.fetch)}};var Yy="2.50.2";var ps="";typeof Deno<"u"?ps="deno":typeof document<"u"?ps="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ps="react-native":ps="node";var vT={"X-Client-Info":`supabase-js-${ps}/${Yy}`},Qy={headers:vT},Jy={schema:"public"},Xy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e_={};Ch();var yT=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})},_T=t=>{let e;return t?e=t:typeof fetch>"u"?e=bh:e=fetch,(...r)=>e(...r)},wT=()=>typeof Headers>"u"?Dh:Headers,t_=(t,e,r)=>{let n=_T(r),i=wT();return(s,o)=>yT(void 0,void 0,void 0,function*(){var a;let c=(a=yield e())!==null&&a!==void 0?a:t,l=new i(o?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:l}))})};var bT=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function n_(t){return t.endsWith("/")?t:t+"/"}function r_(t,e){var r,n;let{db:i,auth:s,realtime:o,global:a}=t,{db:c,auth:l,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),s),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d?.headers)!==null&&r!==void 0?r:{}),(n=a?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>bT(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}var nc="2.70.0";var An=30*1e3,rc=3,ic=rc*An,i_="http://localhost:9999",s_="supabase.auth.token";var o_={"X-Client-Info":`gotrue-js/${nc}`};var gs="X-Supabase-Api-Version",fh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},a_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,c_=6e5;var ms=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var sc=class extends ms{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function l_(t){return A(t)&&t.name==="AuthApiError"}var Kr=class extends ms{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},bt=class extends ms{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}},Ke=class extends bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function u_(t){return A(t)&&t.name==="AuthSessionMissingError"}var Rn=class extends bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},On=class extends bt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Nn=class extends bt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function d_(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}var vs=class extends bt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Yr=class extends bt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function oc(t){return A(t)&&t.name==="AuthRetryableFetchError"}var ys=class extends bt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};var $t=class extends bt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var ac="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),h_=` 	
\r=`.split(""),DT=(()=>{let t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<h_.length;e+=1)t[h_[e].charCodeAt(0)]=-2;for(let e=0;e<ac.length;e+=1)t[ac[e].charCodeAt(0)]=e;return t})();function f_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){let n=e.queue>>e.queuedBits-6&63;r(ac[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let n=e.queue>>e.queuedBits-6&63;r(ac[n]),e.queuedBits-=6}}function p_(t,e,r){let n=DT[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ph(t){let e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{IT(o,n,r)};for(let o=0;o<t.length;o+=1)p_(t.charCodeAt(o),i,s);return e.join("")}function CT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ET(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){let i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}CT(n,e)}}function IT(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function g_(t){let e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)p_(t.charCodeAt(i),r,n);return new Uint8Array(e)}function m_(t){let e=[];return ET(t,r=>e.push(r)),new Uint8Array(e)}function v_(t){let e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>f_(i,r,n)),f_(null,r,n),e.join("")}function y_(t){return Math.round(Date.now()/1e3)+t}function __(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var Ye=()=>typeof window<"u"&&typeof document<"u",kn={tested:!1,writable:!1},en=()=>{if(!Ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kn.tested)return kn.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),kn.tested=!0,kn.writable=!0}catch{kn.tested=!0,kn.writable=!1}return kn.writable};function w_(t){let e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}var cc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>import("./chunk-AY27MCY2.js").then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},b_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gh=(t,e,r)=>p(void 0,null,function*(){yield t.setItem(e,JSON.stringify(r))}),ws=(t,e)=>p(void 0,null,function*(){let r=yield t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}}),bs=(t,e)=>p(void 0,null,function*(){yield t.removeItem(e)}),_s=class t{constructor(){this.promise=new t.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};_s.promiseConstructor=Promise;function lc(t){let e=t.split(".");if(e.length!==3)throw new $t("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!a_.test(e[n]))throw new $t("JWT not in base64url format");return{header:JSON.parse(ph(e[0])),payload:JSON.parse(ph(e[1])),signature:g_(e[2]),raw:{header:e[0],payload:e[1]}}}function D_(t){return p(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function C_(t,e){return new Promise((n,i)=>{p(this,null,function*(){for(let s=0;s<1/0;s++)try{let o=yield t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})})}function ST(t){return("0"+t.toString(16)).substr(-2)}function xT(){let e=new Uint32Array(56);if(typeof crypto>"u"){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length,i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,ST).join("")}function TT(t){return p(this,null,function*(){let r=new TextEncoder().encode(t),n=yield crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")})}function MT(t){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let r=yield TT(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Pn(t,e,r=!1){return p(this,null,function*(){let n=xT(),i=n;r&&(i+="/PASSWORD_RECOVERY"),yield gh(t,`${e}-code-verifier`,i);let s=yield MT(n);return[s,n===s?"plain":"s256"]})}var AT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function E_(t){let e=t.headers.get(gs);if(!e||!e.match(AT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function I_(t){if(!t)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function S_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var RT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fn(t){if(!RT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var OT=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},Ln=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),NT=[502,503,504];function x_(t){return p(this,null,function*(){var e;if(!b_(t))throw new Yr(Ln(t),0);if(NT.includes(t.status))throw new Yr(Ln(t),t.status);let r;try{r=yield t.json()}catch(s){throw new Kr(Ln(s),s)}let n,i=E_(t);if(i&&i.getTime()>=fh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ys(Ln(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ke}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new ys(Ln(r),t.status,r.weak_password.reasons);throw new sc(Ln(r),t.status||500,n)})}var kT=(t,e,r,n)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function L(t,e,r,n){return p(this,null,function*(){var i;let s=Object.assign({},n?.headers);s[gs]||(s[gs]=fh["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);let o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=yield PT(t,e,r+a,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}})}function PT(t,e,r,n,i,s){return p(this,null,function*(){let o=kT(e,n,i,s),a;try{a=yield t(r,Object.assign({},o))}catch(c){throw console.error(c),new Yr(Ln(c),0)}if(a.ok||(yield x_(a)),n?.noResolveJson)return a;try{return yield a.json()}catch(c){yield x_(c)}})}function Dt(t){var e;let r=null;FT(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=y_(t.expires_in)));let n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function mh(t){let e=Dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ct(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function T_(t){return{data:t,error:null}}function M_(t){let{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=OT(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function A_(t){return t}function FT(t){return t.access_token&&t.refresh_token&&t.expires_in}var uc=["global","local","others"];var LT=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},Qr=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=cc(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n){return p(this,arguments,function*(e,r=uc[0]){if(uc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uc.join(", ")}`);try{return yield L(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(A(i))return{data:null,error:i};throw i}})}inviteUserByEmail(n){return p(this,arguments,function*(e,r={}){try{return yield L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ct})}catch(i){if(A(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return p(this,null,function*(){try{let{options:r}=e,n=LT(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),yield L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:M_,redirectTo:r?.redirectTo})}catch(r){if(A(r))return{data:{properties:null,user:null},error:r};throw r}})}createUser(e){return p(this,null,function*(){try{return yield L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ct})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}})}listUsers(e){return p(this,null,function*(){var r,n,i,s,o,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:A_});if(u.error)throw u.error;let d=yield u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(A(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return p(this,null,function*(){Fn(e);try{return yield L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ct})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}})}updateUserById(e,r){return p(this,null,function*(){Fn(e);try{return yield L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ct})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}})}deleteUser(e,r=!1){return p(this,null,function*(){Fn(e);try{return yield L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ct})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}})}_listFactors(e){return p(this,null,function*(){Fn(e.userId);try{let{data:r,error:n}=yield L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(A(r))return{data:null,error:r};throw r}})}_deleteFactor(e){return p(this,null,function*(){Fn(e.userId),Fn(e.id);try{return{data:yield L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}})}};var R_={getItem:t=>en()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{en()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{en()&&globalThis.localStorage.removeItem(t)}};function vh(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function O_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var jn={debug:!!(globalThis&&en()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ds=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},dc=class extends Ds{};function yh(t,e,r){return p(this,null,function*(){jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),jn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},i=>p(this,null,function*(){if(i){jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield r()}finally{jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new dc(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jn.debug)try{let s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield r()}})))})}O_();var jT={url:i_,storageKey:s_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:o_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function N_(t,e,r){return p(this,null,function*(){return yield r()})}var _h=(()=>{class t{constructor(r){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&Ye()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let s=Object.assign(Object.assign({},jT),r);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Qr({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=cc(s.fetch),this.lock=s.lock||N_,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ye()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=yh:this.lock=N_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:en()?this.storage=R_:(this.memoryStorage={},this.storage=vh(this.memoryStorage)):(this.memoryStorage={},this.storage=vh(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",o=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",o),yield this._notifyAllSubscribers(o.data.event,o.data.session,!1)}))}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nc}) ${new Date().toISOString()}`,...r),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){var r;try{let n=w_(window.location.href),i="none";if(this._isImplicitGrantCallback(n)?i="implicit":(yield this._isPKCECallback(n))&&(i="pkce"),Ye()&&this.detectSessionInUrl&&i!=="none"){let{data:s,error:o}=yield this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),d_(o)){let l=(r=o.details)===null||r===void 0?void 0:r.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return yield this._removeSession(),{error:o}}let{session:a,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>p(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return A(n)?{error:n}:{error:new Kr("Unexpected error during initialization",n)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(r){return p(this,null,function*(){var n,i,s;try{let o=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=r?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=r?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Dt}),{data:a,error:c}=o;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(A(o))return{data:{user:null,session:null},error:o};throw o}})}signUp(r){return p(this,null,function*(){var n,i,s;try{let o;if("email"in r){let{email:d,password:f,options:h}=r,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield Pn(this.storage,this.storageKey)),o=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(n=h?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:g,code_challenge_method:m},xform:Dt})}else if("phone"in r){let{phone:d,password:f,options:h}=r;o=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(s=h?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Dt})}else throw new On("You must provide either an email or phone number and a password");let{data:a,error:c}=o;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(A(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithPassword(r){return p(this,null,function*(){try{let n;if("email"in r){let{email:o,password:a,options:c}=r;n=yield L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:mh})}else if("phone"in r){let{phone:o,password:a,options:c}=r;n=yield L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:mh})}else throw new On("You must provide either an email or phone number and a password");let{data:i,error:s}=n;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Rn}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOAuth(r){return p(this,null,function*(){var n,i,s,o;return yield this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=r.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=r.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=r.options)===null||o===void 0?void 0:o.skipBrowserRedirect})})}exchangeCodeForSession(r){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(r)}))})}signInWithWeb3(r){return p(this,null,function*(){let{chain:n}=r;if(n==="solana")return yield this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)})}signInWithSolana(r){return p(this,null,function*(){var n,i,s,o,a,c,l,u,d,f,h,g;let m,v;if("message"in r)m=r.message,v=r.signature;else{let{chain:w,wallet:H,statement:j,options:D}=r,U;if(Ye())if(typeof H=="object")U=H;else{let K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))U=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=H}let ne=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){let K=yield U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),j?{statement:j}:null)),pe;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")pe=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)pe=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in pe&&"signature"in pe&&(typeof pe.signedMessage=="string"||pe.signedMessage instanceof Uint8Array)&&pe.signature instanceof Uint8Array)m=typeof pe.signedMessage=="string"?pe.signedMessage:new TextDecoder().decode(pe.signedMessage),v=pe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${ne.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(s=(i=D?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=D?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((a=D?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((l=D?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((f=(d=D?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...D.signInWithSolana.resources.map(pe=>`- ${pe}`)]:[]].join(`
`);let K=yield U.signMessage(new TextEncoder().encode(m),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=K}}try{let{data:w,error:H}=yield L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:v_(v)},!((h=r.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=r.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Dt});if(H)throw H;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Rn}:(w.session&&(yield this._saveSession(w.session),yield this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:H})}catch(w){if(A(w))return{data:{user:null,session:null},error:w};throw w}})}_exchangeCodeForSession(r){return p(this,null,function*(){let n=yield ws(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{let{data:o,error:a}=yield L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:i},xform:Dt});if(yield bs(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Rn}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(A(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}})}signInWithIdToken(r){return p(this,null,function*(){try{let{options:n,provider:i,token:s,access_token:o,nonce:a}=r,c=yield L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Dt}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Rn}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOtp(r){return p(this,null,function*(){var n,i,s,o,a;try{if("email"in r){let{email:c,options:l}=r,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Pn(this.storage,this.storageKey));let{error:f}=yield L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in r){let{phone:c,options:l}=r,{data:u,error:d}=yield L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new On("You must provide either an email or phone number.")}catch(c){if(A(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(r){return p(this,null,function*(){var n,i;try{let s,o;"options"in r&&(s=(n=r.options)===null||n===void 0?void 0:n.redirectTo,o=(i=r.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Dt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(r){return p(this,null,function*(){var n,i,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=yield Pn(this.storage,this.storageKey)),yield L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(i=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=r?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:T_})}catch(o){if(A(o))return{data:null,error:o};throw o}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:n},error:i}=r;if(i)throw i;if(!n)throw new Ke;let{error:s}=yield L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}}))}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}})}resend(r){return p(this,null,function*(){try{let n=`${this.url}/resend`;if("email"in r){let{email:i,type:s,options:o}=r,{error:a}=yield L(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in r){let{phone:i,type:s,options:o}=r,{data:a,error:c}=yield L(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new On("You must provide either an email or phone number and a type")}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(n=>p(this,null,function*(){return n}))}))})}_acquireLock(r,n){return p(this,null,function*(){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=p(this,null,function*(){return yield i,yield n()});return this.pendingInLock.push(p(this,null,function*(){try{yield s}catch{}})),s}return yield this.lock(`lock:${this.storageKey}`,r,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=n();for(this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let s=[...this.pendingInLock];yield Promise.all(s),this.pendingInLock.splice(0,s.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(r){return p(this,null,function*(){this._debug("#_useSession","begin");try{let n=yield this.__loadSession();return yield r(n)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null,n=yield ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!r)return{data:{session:null},error:null};let i=r.expires_at?r.expires_at*1e3-Date.now()<ic:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",r.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;r=new Proxy(r,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:r},error:null}}let{session:s,error:o}=yield this._callRefreshToken(r.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(r){return p(this,null,function*(){return r?yield this._getUser(r):(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(r){return p(this,null,function*(){try{return r?yield L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Ct}):yield this._useSession(n=>p(this,null,function*(){var i,s,o;let{data:a,error:c}=n;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ke}:yield L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ct})}))}catch(n){if(A(n))return u_(n)&&(yield this._removeSession(),yield bs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}})}updateUser(i){return p(this,arguments,function*(r,n={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(r,n)}))})}_updateUser(i){return p(this,arguments,function*(r,n={}){try{return yield this._useSession(s=>p(this,null,function*(){let{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new Ke;let c=o.session,l=null,u=null;this.flowType==="pkce"&&r.email!=null&&([l,u]=yield Pn(this.storage,this.storageKey));let{data:d,error:f}=yield L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:Ct});if(f)throw f;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(s){if(A(s))return{data:{user:null},error:s};throw s}})}setSession(r){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(r)}))})}_setSession(r){return p(this,null,function*(){try{if(!r.access_token||!r.refresh_token)throw new Ke;let n=Date.now()/1e3,i=n,s=!0,o=null,{payload:a}=lc(r.access_token);if(a.exp&&(i=a.exp,s=i<=n),s){let{session:c,error:l}=yield this._callRefreshToken(r.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};o=c}else{let{data:c,error:l}=yield this._getUser(r.access_token);if(l)throw l;o={access_token:r.access_token,refresh_token:r.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(A(n))return{data:{session:null,user:null},error:n};throw n}})}refreshSession(r){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(r)}))})}_refreshSession(r){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){var i;if(!r){let{data:a,error:c}=n;if(c)throw c;r=(i=a.session)!==null&&i!==void 0?i:void 0}if(!r?.refresh_token)throw new Ke;let{session:s,error:o}=yield this._callRefreshToken(r.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}})}_getSessionFromURL(r,n){return p(this,null,function*(){try{if(!Ye())throw new Nn("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Nn(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vs("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nn("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new vs("No code detected.");let{data:j,error:D}=yield this._exchangeCodeForSession(r.code);if(D)throw D;let U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:j.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=r;if(!o||!c||!a||!u)throw new Nn("No session defined in URL");let d=Math.round(Date.now()/1e3),f=parseInt(c),h=d+f;l&&(h=parseInt(l));let g=h-d;g*1e3<=An&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);let m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);let{data:v,error:w}=yield this._getUser(o);if(w)throw w;let H={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:H,redirectType:r.type},error:null}}catch(i){if(A(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}_isPKCECallback(r){return p(this,null,function*(){let n=yield ws(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)})}signOut(){return p(this,arguments,function*(r={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(r)}))})}_signOut(){return p(this,arguments,function*({scope:r}={scope:"global"}){return yield this._useSession(n=>p(this,null,function*(){var i;let{data:s,error:o}=n;if(o)return{error:o};let a=(i=s.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,r);if(c&&!(l_(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return r!=="others"&&(yield this._removeSession(),yield bs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(r){let n=__(),i={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(n)}))}),{data:{subscription:i}}}_emitInitialSession(r){return p(this,null,function*(){return yield this._useSession(n=>p(this,null,function*(){var i,s;try{let{data:{session:o},error:a}=n;if(a)throw a;yield(i=this.stateChangeEmitters.get(r))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o),this._debug("INITIAL_SESSION","callback id",r,"session",o)}catch(o){yield(s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",r,"error",o),console.error(o)}}))})}resetPasswordForEmail(i){return p(this,arguments,function*(r,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=yield Pn(this.storage,this.storageKey,!0));try{return yield L(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(A(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var r;try{let{data:n,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}})}linkIdentity(r){return p(this,null,function*(){var n;try{let{data:i,error:s}=yield this._useSession(o=>p(this,null,function*(){var a,c,l,u,d;let{data:f,error:h}=o;if(h)throw h;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(a=r.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=r.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield L(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(s)throw s;return Ye()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:r.provider,url:i?.url},error:null}}catch(i){if(A(i))return{data:{provider:r.provider,url:null},error:i};throw i}})}unlinkIdentity(r){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){var i,s;let{data:o,error:a}=n;if(a)throw a;return yield L(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})}))}catch(n){if(A(n))return{data:null,error:n};throw n}})}_refreshAccessToken(r){return p(this,null,function*(){let n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{let i=Date.now();return yield C_(s=>p(this,null,function*(){return s>0&&(yield D_(200*Math.pow(2,s-1))),this._debug(n,"refreshing attempt",s),yield L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Dt})}),(s,o)=>{let a=200*Math.pow(2,s);return o&&oc(o)&&Date.now()+a-i<An})}catch(i){if(this._debug(n,"error",i),A(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}})}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}_handleProviderSignIn(r,n){return p(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",i),Ye()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:r,url:i},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var r;let n="#_recoverAndRefresh()";this._debug(n,"begin");try{let i=yield ws(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&(yield this._removeSession());return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ic;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ic}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:o}=yield this._callRefreshToken(i.refresh_token);o&&(console.error(o),oc(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}})}_callRefreshToken(r){return p(this,null,function*(){var n,i;if(!r)throw new Ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let s=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _s;let{data:o,error:a}=yield this._refreshAccessToken(r);if(a)throw a;if(!o.session)throw new Ke;yield this._saveSession(o.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);let c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),A(o)){let a={session:null,error:o};return oc(o)||(yield this._removeSession()),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(r,n,i=!0){return p(this,null,function*(){let s=`#_notifyAllSubscribers(${r})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:r,session:n});let o=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(r,n)}catch(l){o.push(l)}}));if(yield Promise.all(a),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}})}_saveSession(r){return p(this,null,function*(){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,yield gh(this.storage,this.storageKey,r)})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield bs(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ye()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let r=setInterval(()=>this._autoRefreshTokenTick(),An);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let r=Date.now();try{return yield this._useSession(n=>p(this,null,function*(){let{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let s=Math.floor((i.expires_at*1e3-r)/An);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${An}ms, refresh threshold is ${rc} ticks`),s<=rc&&(yield this._callRefreshToken(i.refresh_token))}))}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(r){if(r.isAcquireTimeout||r instanceof Ds)this._debug("auto refresh token tick lock not available");else throw r}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}})}_onVisibilityChanged(r){return p(this,null,function*(){let n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(r,n,i){return p(this,null,function*(){let s=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[o,a]=yield Pn(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(c.toString())}if(i?.queryParams){let o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${r}?${s.join("&")}`})}_unenroll(r){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){var i;let{data:s,error:o}=n;return o?{data:null,error:o}:yield L(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})}))}catch(n){if(A(n))return{data:null,error:n};throw n}})}_enroll(r){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){var i,s;let{data:o,error:a}=n;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:l,error:u}=yield L(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(r.factorType==="totp"&&(!((s=l?.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(n){if(A(n))return{data:null,error:n};throw n}})}_verify(r){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){var i;let{data:s,error:o}=n;if(o)return{data:null,error:o};let{data:a,error:c}=yield L(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(n){if(A(n))return{data:null,error:n};throw n}}))})}_challenge(r){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){var i;let{data:s,error:o}=n;return o?{data:null,error:o}:yield L(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})}))}catch(n){if(A(n))return{data:null,error:n};throw n}}))})}_challengeAndVerify(r){return p(this,null,function*(){let{data:n,error:i}=yield this._challenge({factorId:r.factorId});return i?{data:null,error:i}:yield this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:r},error:n}=yield this.getUser();if(n)return{data:null,error:n};let i=r?.factors||[],s=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:s,phone:o},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var n,i;let{data:{session:s},error:o}=r;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=lc(s.access_token),c=null;a.aal&&(c=a.aal);let l=c;((i=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(i){return p(this,arguments,function*(r,n={keys:[]}){let s=n.keys.find(c=>c.kid===r);if(s||(s=this.jwks.keys.find(c=>c.kid===r),s&&this.jwks_cached_at+c_>Date.now()))return s;let{data:o,error:a}=yield L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!o.keys||o.keys.length===0)throw new $t("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),s=o.keys.find(c=>c.kid===r),!s)throw new $t("No matching signing key found in JWKS");return s})}getClaims(i){return p(this,arguments,function*(r,n={keys:[]}){try{let s=r;if(!s){let{data:m,error:v}=yield this.getSession();if(v||!m.session)return{data:null,error:v};s=m.session.access_token}let{header:o,payload:a,signature:c,raw:{header:l,payload:u}}=lc(s);if(I_(a.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:m}=yield this.getUser(s);if(m)throw m;return{data:{claims:a,header:o,signature:c},error:null}}let d=S_(o.alg),f=yield this.fetchJwk(o.kid,n),h=yield crypto.subtle.importKey("jwk",f,d,!0,["verify"]);if(!(yield crypto.subtle.verify(d,h,c,m_(`${l}.${u}`))))throw new $t("Invalid JWT signature");return{data:{claims:a,header:o,signature:c},error:null}}catch(s){if(A(s))return{data:null,error:s};throw s}})}}return t.nextInstanceID=0,t})();var VT=_h,wh=VT;var hc=class extends wh{constructor(e){super(e)}};var $T=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})},fc=class{constructor(e,r,n){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");let a=n_(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);let l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:Jy,realtime:e_,auth:Object.assign(Object.assign({},Xy),{storageKey:l}),global:Qy},d=r_(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=t_(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Py(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new ts(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fs(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return $T(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:a,debug:c},l,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hc({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ds(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var k_=(t,e,r)=>new fc(t,e,r);var P_=(()=>{let e=class e{constructor(){this.isEnabled=!0;let n="https://ufejocelbvrvgmoewhaw.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVmZWpvY2VsYnZydmdtb2V3aGF3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE2NTU4NDksImV4cCI6MjA1NzIzMTg0OX0.HoZLb6kO9m3Mt23VCTkdLUTJZM-5HJG3jiRajDcufDM";this.supabase=k_(n,i),console.log("[Supabase] \u2705 Service initialized with hardcoded credentials")}syncSetScore(n){return p(this,null,function*(){if(this.isEnabled)try{let{data:i,error:s}=yield this.supabase.from("daily_sets").upsert(n,{onConflict:"day"});s?console.warn("[Supabase] \u274C daily_sets upsert FAILED:",s):console.log("[Supabase] \u2705 daily_sets upsert OK")}catch(i){console.warn("[Supabase] \u274C daily_sets upsert FAILED (catch):",i)}})}syncGlobalScore(n){return p(this,null,function*(){if(this.isEnabled)try{let{data:i,error:s}=yield this.supabase.from("daily_totals").upsert(n,{onConflict:"day"});s?console.warn("[Supabase] \u274C daily_totals upsert FAILED:",s):console.log("[Supabase] \u2705 daily_totals upsert OK")}catch(i){console.warn("[Supabase] \u274C daily_totals upsert FAILED (catch):",i)}})}isConfigured(){return this.isEnabled}getCurrentDay(){return new Date().toISOString().split("T")[0]}createSetScore(n,i,s,o,a){return{day:this.getCurrentDay(),score1:n,score2:i,server_side:s,is_control_ball:o,match_over:a,updated_at:new Date().toISOString()}}createGlobalScore(n,i,s){return{day:this.getCurrentDay(),total_sets:n,team1_wins:i,team2_wins:s,updated_at:new Date().toISOString()}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UT(t,e){if(t&1&&(te(0,"option",10),Fe(1),ae()),t&2){let r=e.$implicit;Ge("value",r.path),Ce(),_i(r.name)}}var pc=(()=>{let e=class e{constructor(n,i,s,o){this.playlistService=n,this.telegram=i,this.audioCacheService=s,this.supabaseService=o,this.voices=[{name:"\u041F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",path:"default"},{name:"\u0411\u043E\u0440\u0438\u0441",path:"boris"},{name:"\u042E\u043B\u044F",path:"julia"},{name:"\u041D\u0430\u0442\u0430\u043B\u044C\u044F",path:"natalia"},{name:"\u0421\u0435\u0440\u0433\u0435\u0439",path:"sergey"},{name:"SpongeBob",path:"spongebob"},{name:"English",path:"english"}],this.selectedVoice=this.voices[0].path,this.chatId=null,this.score1=0,this.score2=0,this.currentSound=0,this.curState=new Ta,this.playScore1=0,this.playScore2=0,this.isControlBall=!1,this.matchOver=!1,this.rotateScore=!1,this.setLeft=!1,this.whistlePlay=!1,this.delay=500,this.whistleFirstClick=!1,this.curState.reset()}ngOnInit(){this.telegram.expand()}incrementScore1(){this.score1++,this.setLeft=this.rotateScore,this.playSound(1),this.curState.push({score1:this.score1,score2:this.score2,serverSide:1}),this.syncCurrentScore(1)}incrementScore2(){this.score2++,this.setLeft=!this.rotateScore,this.playSound(2),this.curState.push({score1:this.score1,score2:this.score2,serverSide:2}),this.syncCurrentScore(2)}onVoiceChange(n){this.audioCacheService.loadFiles(this.selectedVoice)}onComboBoxClick(n){n.stopPropagation()}resetScores(){(this.score2!=0||this.score1!=0)&&(this.score1=0,this.score2=0,this.playScore1=0,this.playScore2=0,this.currentSound=0,this.whistlePlay=!1,this.matchOver=!1,this.curState.reset(),this.rotateScore=!this.rotateScore)}dropped(n){n?.distance.y>0?this.incrementScore2():this.incrementScore1()}playSound(n){n==1?(this.playScore1=this.score1,this.playScore2=this.score2):(this.playScore1=this.score2,this.playScore2=this.score1),this.playlistService.cleanQuery(),this.playlistService.addToPlaylist(Zi),this.playScore(this.playScore1),this.playScore(this.playScore2),this.isControlBall=this.isControlBallScore(),this.isControlBall&&this.playlistService.addToPlaylist(Aa),this.matchOver=this.isMatchOver(),this.isMatchOver()&&(this.playlistService.addToPlaylist(Ra),this.syncMatchComplete(),setTimeout(()=>{this.resetScores()},2e4))}playScore(n){this.playlistService.addToPlaylist(`${n}.ogg`)}isControlBallScore(){return this.score1===24&&this.score2<24||this.score2===24&&this.score1<24||(this.score1>=24||this.score2>=24)&&Math.abs(this.score1-this.score2)===1}isMatchOver(){return(this.score1>=25||this.score2>=25)&&Math.abs(this.score1-this.score2)>=2}telegramTest(){this.sendData()}sendData(){this.telegram.sendData({feedback:"my-massage"})}whistle(){this.telegramTest(),this.whistleFirstClick?(clearTimeout(this.clickTimeout),this.whistleFirstClick=!1,this.rollbackGameScore()):(this.whistleFirstClick=!0,this.clickTimeout=setTimeout(()=>{this.whistlePlay=!0,this.whistleFirstClick=!1,this.playlistService.addToPlaylist(Zi),this.playlistService.addToPlaylist(Ma),this.score1==0&&this.score2==0&&(this.playScore(0),this.playScore(0))},this.delay))}roundClick(n){n.stopPropagation(),this.rotateScore=!this.rotateScore}rollbackGameScore(){let n=this.curState.pop();n!=null&&(n=this.curState.pop(),n!==void 0&&(this.score1=n.score1,this.score2=n.score2,this.setLeft=n.serverSide==1,this.rotateScore||(this.setLeft=!this.setLeft),this.playSound(n.serverSide),this.curState.push(n)))}syncCurrentScore(n){let i=this.supabaseService.createSetScore(this.score1,this.score2,n,this.isControlBall,this.matchOver);this.supabaseService.syncSetScore(i).catch(()=>{})}syncMatchComplete(){let n=this.score1>this.score2,i=this.score2>this.score1,s=this.supabaseService.createGlobalScore(1,n?1:0,i?1:0);this.supabaseService.syncGlobalScore(s).catch(()=>{})}};e.\u0275fac=function(i){return new(i||e)(E(wy),E($a),E(Va),E(P_))},e.\u0275cmp=nt({type:e,selectors:[["scoreboard"]],standalone:!0,features:[st],decls:13,vars:7,consts:[["cdkDropList","",1,"scoreboard",3,"cdkDropListDropped"],[1,"buttons",3,"click"],[1,"judge",3,"click","ngClass"],["id","voice-select",1,"rotated-combobox",3,"ngModelChange","click","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"allScore",3,"click"],["cdkDrag","",1,"team"],["id","score1",1,"score",3,"ngClass"],[1,"button","whistle","net"],["id","score score2",1,"score",3,"ngClass"],[3,"value"]],template:function(i,s){i&1&&(te(0,"div",0),ce("cdkDropListDropped",function(a){return s.dropped(a)}),te(1,"div",1),ce("click",function(){return s.resetScores()}),te(2,"div",2),ce("click",function(a){return s.roundClick(a)}),ae(),te(3,"select",3),Su("ngModelChange",function(a){return Yg(s.selectedVoice,a)||(s.selectedVoice=a),a}),ce("click",function(a){return s.onComboBoxClick(a)})("change",function(a){return s.onVoiceChange(a)}),xr(4,UT,2,2,"option",4),ae()(),te(5,"div",5),ce("click",function(){return s.whistle()}),te(6,"div",6)(7,"div",7),Fe(8),ae()(),it(9,"div",8),te(10,"div",6)(11,"div",9),Fe(12),ae()()()()),i&2&&(Ce(2),Ge("ngClass",s.rotateScore?"judge":"judgeBottom"),Ce(),Iu("ngModel",s.selectedVoice),Ce(),Ge("ngForOf",s.voices),Ce(3),Ge("ngClass",s.setLeft&&s.score1+s.score2!=0?"setScore":""),Ce(),_i(s.rotateScore?s.score1:s.score2),Ce(3),Ge("ngClass",s.setLeft||s.score1+s.score2==0?"":"setScore"),Ce(),_i(s.rotateScore?s.score2:s.score1))},dependencies:[Fu,_m,wm,qv,Wv,Gv,yy,gy,vy,ja,dy,Yd],styles:[".scoreboard[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;background-color:#fff;border-radius:10px;box-shadow:0 0 10px #0000001a;height:100%}.team[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex-grow:2}.score[_ngcontent-%COMP%]{font-size:16em;transform:rotate(90deg)}.button[_ngcontent-%COMP%]{padding:5px;font-size:1em;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer}.button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.reset[_ngcontent-%COMP%]{background-color:#dc3545;transform:rotate(90deg)}.reset[_ngcontent-%COMP%]:hover{background-color:#c82333}.connect[_ngcontent-%COMP%]{background-color:#28a745}.connect[_ngcontent-%COMP%]:hover{background-color:#218838}.allScore[_ngcontent-%COMP%]{flex-grow:2;height:100%;display:flex;flex-direction:column}.whistle[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]{width:35px;cursor:pointer;height:100%;background-color:#3cb371}.round[_ngcontent-%COMP%]{float:right;margin-right:1px}.whistleImg[_ngcontent-%COMP%]{padding-left:61px}.net[_ngcontent-%COMP%]{background:linear-gradient(black 25%,transparent 25%) 0 0,linear-gradient(black 25%,transparent 25%) 0 0,linear-gradient(90deg,black 25%,transparent 25%) 0 0,linear-gradient(90deg,black 25%,transparent 25%) 0 0;background-size:21px 21px;background-color:#fff!important;border:1px solid #FFFFFF;box-sizing:border-box;height:49px}.judge[_ngcontent-%COMP%]{width:35px;height:40px;background-color:#000;margin-top:10px}.judgeBottom[_ngcontent-%COMP%]{width:35px;height:40px;background-color:#000;margin-top:10px;position:absolute;bottom:0;margin-bottom:15px}.setScore[_ngcontent-%COMP%]{color:purple!important}.rotated-combobox[_ngcontent-%COMP%]{transform:rotate(90deg);transform-origin:center;display:inline-block;width:150px;height:29px;margin-top:100px;margin-left:-57px}.rotated-combobox[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{transform:rotate(-90deg)}"]});let t=e;return t})();var F_=[{path:"video",component:ya},{path:"",component:pc}];var L_={providers:[rm({eventCoalescing:!0}),fv(F_)]};function HT(t,e){if(t&1){let r=Cu();te(0,"button",4),ce("click",function(){Zl(r);let i=Eu();return Kl(i.activeComponent="score")}),Fe(1,"Score"),ae()}}function zT(t,e){if(t&1){let r=Cu();te(0,"button",4),ce("click",function(){Zl(r);let i=Eu();return Kl(i.activeComponent="video")}),Fe(1,"Video"),ae()}}function GT(t,e){t&1&&(te(0,"div",5),it(1,"scoreboard"),ae())}function WT(t,e){t&1&&(te(0,"div"),it(1,"app-video"),ae())}var j_=(()=>{let e=class e{constructor(){this.telegram=y($a),this.title="scoreBoard",this.activeComponent="score",this.telegram.ready()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=nt({type:e,selectors:[["app-root"]],standalone:!0,features:[st],decls:5,vars:4,consts:[[1,"floating-buttons"],[3,"click",4,"ngIf"],["style","height: 100%;",4,"ngIf"],[4,"ngIf"],[3,"click"],[2,"height","100%"]],template:function(i,s){i&1&&(te(0,"div",0),xr(1,HT,2,0,"button",1)(2,zT,2,0,"button",1),ae(),xr(3,GT,2,0,"div",2)(4,WT,2,0,"div",3)),i&2&&(Ce(),Ge("ngIf",s.activeComponent==="video"),Ce(),Ge("ngIf",s.activeComponent==="score"),Ce(),Ge("ngIf",s.activeComponent==="score"),Ce(),Ge("ngIf",s.activeComponent==="video"))},dependencies:[pc,ya,bm],styles:['@charset "UTF-8";scoreboard[_ngcontent-%COMP%]{height:100%}.floating-buttons[_ngcontent-%COMP%]{position:fixed;top:50%;right:0;display:flex;flex-direction:column;gap:20px;transform:translateY(-50%);z-index:1000}.floating-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{writing-mode:vertical-rl;transform:rotate(0);padding:10px 20px;font-size:16px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;box-shadow:0 4px 6px #0000001a;transition:background-color .3s ease}.floating-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}']});let t=e;return t})();Am(j_,L_).catch(t=>console.error(t));
